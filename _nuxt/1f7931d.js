(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1007:function(t,e,n){},1026:function(t,e,n){"use strict";var r=n(8),o=n(105);e.a={computed:{guideLink:function(){return r.a.isWalletlinkConnected()||Object(o.b)()?r.a.uiconfig.guideLink.walletlink:r.a.uiconfig.guideLink.metamask}}}},1027:function(t,e,n){},1028:function(t,e,n){},1029:function(t,e,n){},1030:function(t,e,n){},1031:function(t,e,n){},1032:function(t,e,n){},1033:function(t,e,n){},1034:function(t,e,n){},1041:function(t,e,n){},1042:function(t,e,n){},1043:function(t,e,n){},1063:function(t,e,n){"use strict";var r,o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row ms-x-32 ps-t-50 w-100 text-center"},[n("h6",{staticClass:"w-100"},[t._v("\n                Loading the transaction status...\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 ps-x-0"},[n("div",{staticClass:"font-body-large font-semibold lh-26"},[t._v("\n                    What’s supported\n                  ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"font-body-medium ps-l-12"},[t._v("\n                          Moving funds from Ethereum to Polygon\n                        ")]),t._v(" "),n("div",{staticClass:"font-body-small text-gray ps-t-2 ps-l-12"},[t._v("\n                          Deposit of funds takes ~7-8 minutes\n                        ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 ps-x-0 ps-t-24"},[n("div",{staticClass:"font-body-large font-semibold lh-26"},[t._v("\n                    What’s not supported\n                  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row ps-t-20 ps-b-16"},[e("div",{staticClass:"col-12 ps-x-0 ps-t-6 ps-b-2"},[e("div",{staticClass:"d-flex justify-content-center"},[e("img",{attrs:{src:n(608),alt:"Fuel"}})])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center font-caps font-medium pill ethereum-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v("Ethereum network")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center font-caps font-medium pill matic-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v("Polygon network")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Your transaction might have been replaced, dropped or\n                      cancelled. Do you want to retry?\n                      "),n("a",{attrs:{href:"https://docs.matic.network/docs/faq/wallet-bridge-faq/#my-transaction-is-pending-for-too-long-what-can-i-do",target:"_blank"}},[t._v("Know more")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center ps-t-28"},[e("img",{attrs:{src:n(354),alt:"Success"}})])}],c=(n(79),n(76),n(94),n(64),n(100),n(113),n(6)),l=n(36),d=n(46),h=n(44),f=n(45),m=n(28),v=n(24),w=(n(52),n(66),n(299),n(188),n(80),n(95),n(39),n(140),n(12)),T=n(59),k=n(48),_=n(210),x=n.n(_),C=n(8),y=n(17),S=n(15),O=n(30),I=n.n(O),E=n(144),P=n(5),A=n(57),R=n(49),D=n(56),L=n(177),F=n(243),N=n(515),j=n(72),M=n(105);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(e){Object(v.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $=n(210).MaticPOSClient,U=new y.a(10),G=new y.a(0),V=Object(T.a)({props:{show:{type:Boolean,required:!1,default:!1},cancel:{type:Function,required:!0},transferMode:{type:String,required:!0},toSendInToken:{type:String,required:!0},selectedToken:{type:Object,required:!1},approveTxHash:{type:String,required:!1},depositTxHash:{type:String,required:!1},overviewCheck:{type:Boolean,required:!0},fromNotification:{type:Boolean,default:!1},allowanceCheck:{type:Boolean,default:!1}},data:function(){return{defaultOptions:{animationData:F},animationSpeed:1,progressBarStatus:{COMPLETED:"completed",PROGRESS:"progress",INCOMPLETE:"incomplete"}}},computed:B(B(B(B({},Object(k.b)("network",["networks","networkMeta"])),Object(k.b)("account",["account"])),Object(k.c)("account",["loginStrategy"])),Object(k.b)("transaction",["deposits","approvals","approveStatusList","depositStatusList"])),components:{Button:D.Button,ButtonLoader:D.ButtonLoader,Lottie:L.a,ProgressBar:D.ProgressBar,Progress:D.Progress,Icon:D.Icon,ContactSupportMessage:N.a}})(r=function(t){Object(h.a)(B,t);var e,n,r,o,f,m,v,T,k,_,O,D,L,F,N,H=W(B);function B(){var t;Object(l.a)(this,B);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=H.call.apply(H,[this].concat(n))).error=null,t.dirty=!1,t.isLoading=!1,t.isCancelButtonLoading=!1,t.toSendInUSD=0,t.approveGasFees=0,t.depositGasFees=0,t.overviewAccepted=t.overviewCheck,t.transactionStatus=P.b.DISCLAIMER,t.approveTransactionHash=t.approveTxHash?t.approveTxHash:"",t.depositTransactionHash=t.depositTxHash?t.depositTxHash:"",t.explorerURL=C.a.uiconfig.ethereumExplorerUrl,t.DEPOSIT_FLOW_STATUS=P.b,t.metamaskValidation=!0,t.allowance=t.allowanceCheck,t.depositGas=0,t.approveGas=0,t.allowanceFromBlockchain=!1,t.depositFromBlockchain=!1,t.takesTooLong=!1,t}return Object(d.a)(B,[{key:"resetForm",value:function(){this.error=null}},{key:"onBackToOverview",value:function(){this.overviewAccepted=!1,this.transactionStatus=P.b.OVERVIEW,this.$logger.track("depositFlow-depositDialog-backToOverviewPressed")}},{key:"onCancel",value:function(){this.overviewAccepted=!1,this.resetForm(),this.cancel(),this.$logger.track("depositFlow-cancelPressed")}},{key:"onOverviewAccepted",value:function(){this.overviewAccepted=!0,this.transactionStatus=P.b.CONFIRM_TRANSFER,this.$logger.track("depositFlow-overviewDialog-continuePressed")}},{key:"onDisclaimerAccepted",value:function(){this.transactionStatus=P.b.OVERVIEW,this.$logger.track("depositFlow-disclaimerDialog-continuePressed")}},{key:"progressBarVals",get:function(){switch(this.flowStatus){case P.b.CONFIRM_TRANSFER:case P.b.APPROVAL_FAILED:return{approved:this.progressBarStatus.INCOMPLETE,confirmed:this.progressBarStatus.INCOMPLETE,completed:this.progressBarStatus.INCOMPLETE};case P.b.APPROVAL_PENDING:return{approved:this.progressBarStatus.PROGRESS,confirmed:this.progressBarStatus.INCOMPLETE,completed:this.progressBarStatus.INCOMPLETE};case P.b.APPROVAL_SUCCESS:case P.b.DEPOSIT_PENDING:case P.b.DEPOSIT_FAILED:case P.b.DEPOSIT_BADHASH:return{approved:this.progressBarStatus.COMPLETED,confirmed:this.progressBarStatus.PROGRESS,completed:this.progressBarStatus.INCOMPLETE};case P.b.DEPOSIT_ENROUTE:return{approved:this.progressBarStatus.COMPLETED,confirmed:this.progressBarStatus.COMPLETED,completed:this.progressBarStatus.PROGRESS};case P.b.DEPOSIT_COMPLETED:return{approved:this.progressBarStatus.COMPLETED,confirmed:this.progressBarStatus.COMPLETED,completed:this.progressBarStatus.COMPLETED};default:return{approved:this.progressBarStatus.INCOMPLETE,confirmed:this.progressBarStatus.INCOMPLETE,completed:this.progressBarStatus.INCOMPLETE,explorerUrl:""}}}},{key:"calculateGasFees",value:(N=Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isEtherToken){t.next=19;break}if(t.prev=1,this.transferMode!==P.f.POS){t.next=10;break}return t.next=5,Object(E.a)("POS_APPROVE");case 5:e=t.sent,this.approveGasFees=e.gasInUsd.toFixed(2),this.approveGas=e.gas,t.next=15;break;case 10:return t.next=12,Object(E.a)("PLASMA_APPROVE");case 12:e=t.sent,this.approveGasFees=e.gasInUsd.toFixed(2),this.approveGas=e.gas;case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(1);case 19:if(t.prev=19,this.transferMode!==P.f.POS){t.next=28;break}return t.next=23,Object(E.a)("POS_DEPOSIT");case 23:e=t.sent,this.depositGasFees=e.gasInUsd.toFixed(2),this.depositGas=e.gas,t.next=33;break;case 28:return t.next=30,Object(E.a)("PLASMA_DEPOSIT");case 30:e=t.sent,this.depositGasFees=e.gasInUsd.toFixed(2),this.depositGas=e.gas;case 33:t.next=37;break;case 35:t.prev=35,t.t1=t.catch(19);case 37:case"end":return t.stop()}}),t,this,[[1,17],[19,35]])}))),function(){return N.apply(this,arguments)})},{key:"mounted",value:(F=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tokenToUSD();case 2:return t.next=4,this.calculateGasFees();case 4:this.allowance&&(this.approveGasFees="0.00"),this.approveTxHash&&this.checkForApproval(this.approveTxHash),this.depositTxHash&&this.checkForDeposit();case 7:case"end":return t.stop()}}),t,this)}))),function(){return F.apply(this,arguments)})},{key:"checkForApproval",value:(L=Object(c.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=G,r=this.selectedToken.addresses[this.networkID],o=new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals))),!this.isPoSTransaction){t.next=14;break}return t.next=8,this.getMaticPOS();case 8:return c=t.sent,t.next=11,c.getERC20Allowance(this.account.address,r,{from:this.account.address});case 11:n=t.sent,t.next=22;break;case 14:return t.next=16,this.getMatic();case 16:return l=t.sent,t.next=19,l.initialize();case 19:return t.next=21,l.getERC20Allowance(this.account.address,r,{from:this.account.address});case 21:n=t.sent;case 22:if(!new y.a(n).gte(o)){t.next=29;break}return this.transactionStatus=P.b.APPROVAL_SUCCESS,t.next=27,S.a.approvalTxDoc(e).update({transactionStatus:P.b.APPROVAL_SUCCESS,updatedAt:S.a.FieldValue.serverTimestamp()});case 27:this.allowanceFromBlockchain=!0,this.$logger.track("depositFlow-allowanceApproval-successful");case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(0),this.$logger.error(t.t0).capture=!0,this.$logger.track("depositFlow-allowanceApproval-failed");case 35:case"end":return t.stop()}}),t,this,[[0,31]])}))),function(t){return L.apply(this,arguments)})},{key:"checkForDeposit",value:(D=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l,d,h=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=this.deposits.find((function(t){return t.txHash===h.depositTxHash})),this.$logger.track("deposit-flow:check-for-deposit-start"),!(e&&e.createdAt.seconds>1620424800)){t.next=25;break}return n=this.depositTxHash.toLowerCase(),t.next=7,Object(R.a)({url:"".concat(C.a.uiconfig.relatedTxApi,"/api/v1/deposit"),query:{transactionHash:n,userAddress:this.account.address.toLowerCase(),amount:this.formatAmt,isEther:this.isEtherToken,rootToken:this.selectedToken.addresses[this.networkID].toLowerCase()}});case 7:if(r=t.sent,this.$logger.track("deposit-flow:check-for-deposit-api-response",{response:r}),1!==r.status||r.initialTransactionHash===r.newTransactionHash){t.next=16;break}return this.transactionStatus=P.b.DEPOSIT_COMPLETED,t.next=13,S.a.depositTxDoc(n).update({transactionStatus:P.b.DEPOSIT_COMPLETED,newTransactionHash:r.newTransactionHash,updatedAt:S.a.FieldValue.serverTimestamp()});case 13:this.depositFromBlockchain=!0,t.next=25;break;case 16:return o=S.a.depositTxDoc(n),t.next=19,o.update({tempTimestamp:S.a.FieldValue.serverTimestamp()});case 19:return t.next=21,o.get();case 21:c=t.sent,l=c.get("tempTimestamp").seconds,d=c.get("updatedAt").seconds,l>d+3600&&(this.takesTooLong=!0);case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(0),this.$logger.error(t.t0).capture=!0;case 30:case"end":return t.stop()}}),t,this,[[0,27]])}))),function(){return D.apply(this,arguments)})},{key:"tryAgain",value:(O=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$logger.track("depositFlow-tryingAgain-depositAltered",{txHash:e}),t.prev=1,t.next=4,S.a.depositTxDoc(e).update({transactionStatus:P.b.ALTERED_EXTERNALLY,updatedAt:S.a.FieldValue.serverTimestamp()});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),this.$logger.error(t.t0).capture=!0;case 9:this.takesTooLong=!1;case 10:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return O.apply(this,arguments)})},{key:"cancelDepositTryAgain",value:(_=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$logger.track("depositFlow-tryingAgain-depositCancelled",{txHash:e}),this.isCancelButtonLoading=!0,t.prev=2,t.next=5,S.a.depositTxDoc(e).update({transactionStatus:P.b.ALTERED_EXTERNALLY,updatedAt:S.a.FieldValue.serverTimestamp()});case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),this.$logger.error(t.t0).capture=!0;case 10:this.isCancelButtonLoading=!1,this.cancel();case 12:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(t){return _.apply(this,arguments)})},{key:"tokenToUSD",value:(k=Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.toSendInToken&&(e=this.selectedToken?this.selectedToken.usdValue:0,this.toSendInUSD=(parseFloat(e)*parseFloat(this.toSendInToken)).toFixed(3),"NaN"===this.toSendInUSD&&(this.toSendInUSD=0));case 1:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"validations",value:(T=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(C.a.isMetaMaskConnected()||C.a.isWalletlinkConnected()&&Object(M.b)())){t.next=12;break}return e=new I.a(window.ethereum),t.next=4,e.eth.getChainId();case 4:if(t.sent===this.networks.main.chainId){t.next=11;break}return this.dirty=!0,n=w.default.filter("connectedWallet")(this.loginStrategy),this.error="Please select ".concat(this.networks.main.name," Network in your ").concat(n),this.metamaskValidation=!1,t.abrupt("return",!1);case 11:this.metamaskValidation=!0;case 12:if(!(""===this.toSendInToken||this.toSendInToken<0)){t.next=16;break}return this.dirty=!0,this.error=this.$t("invalid.amount"),t.abrupt("return",!1);case 16:if(this.selectedToken.getFullBalance(this.networkID).gte(parseFloat(this.toSendInToken))){t.next=20;break}return this.dirty=!0,this.error=this.$t("invalid.balance"),t.abrupt("return",!1);case 20:return t.abrupt("return",!0);case 21:case"end":return t.stop()}}),t,this)}))),function(){return T.apply(this,arguments)})},{key:"updateTransactions",value:(v=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$store.dispatch("token/reloadBalances"),t.next=3,this.$store.dispatch("transaction/fetchApprovals");case 3:return t.next=5,this.$store.dispatch("transaction/fetchDeposits");case 5:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"initApprove",value:(m=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,l,d,h=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.validations();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:if(this.dirty=!1,this.error="",this.$logger.track("depositFlow-depositConfirmDialog-continuePressed",{tokenName:this.selectedToken.name,amount:new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals)))}),t.prev=9,!this.isPoSTransaction){t.next=32;break}return e=this.selectedToken.addresses[this.networkID],n=new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals))),t.next=15,this.getMaticPOS();case 15:return r=t.sent,t.t0=y.a,t.next=19,r.getERC20Allowance(this.account.address,e,{from:this.account.address});case 19:if(t.t1=t.sent,!new t.t0(t.t1).gte(n)){t.next=28;break}this.updateTransactions(),this.transactionStatus=P.b.APPROVAL_SUCCESS,this.isLoading=!1,this.$logger.track("depositFlow-allowanceApproval-alreadyGranted",{bridge:"PoS"}),t.next=30;break;case 28:return t.next=30,r.approveMaxERC20ForDeposit(e,{from:this.account.address,onTransactionHash:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.handleApproveStore(e,h.toSendInToken,!0);case 2:return h.approveTransactionHash=e,h.transactionStatus=P.b.APPROVAL_PENDING,t.next=6,h.updateTransactions();case 6:h.$logger.track("depositFlow-allowanceApproval-successful",{txHash:e.transactionHash,bridge:"PoS"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.isLoading=!1,h.transactionStatus=P.b.APPROVAL_FAILED,h.dirty=!0,h.error=Object(j.a)(e,{address:h.account.address,transactionPage:"DEPOSIT_MODAL",token:h.selectedToken.name}),h.$logger.track("depositFlow-allowanceApproval-failed",{error:e,bridge:"PoS",gas:h.approveGas});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 30:t.next=53;break;case 32:return o=this.selectedToken.addresses[this.networkID],l=new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals))),t.next=36,this.getMatic();case 36:return d=t.sent,t.next=39,d.initialize();case 39:return t.t2=y.a,t.next=42,d.getERC20Allowance(this.account.address,o,{from:this.account.address});case 42:if(t.t3=t.sent,!new t.t2(t.t3).gte(l)){t.next=51;break}this.$logger.track("depositFlow-allowanceApproval-alreadyGranted",{bridge:"Plasma"}),this.updateTransactions(),this.transactionStatus=P.b.APPROVAL_SUCCESS,this.isLoading=!1,t.next=53;break;case 51:return t.next=53,d.approveMaxERC20TokensForDeposit(o,{from:this.account.address,onTransactionHash:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.handleApproveStore(e,h.toSendInToken,!1);case 2:return h.approveTransactionHash=e,h.transactionStatus=P.b.APPROVAL_PENDING,t.next=6,h.updateTransactions();case 6:h.$logger.track("depositFlow-allowanceApproval-successful",{txHash:e.transactionHash,bridge:"Plasma"});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.isLoading=!1,h.transactionStatus=P.b.APPROVAL_FAILED,h.dirty=!0,h.error=Object(j.a)(e,{address:h.account.address,transactionPage:"DEPOSIT_MODAL",token:h.selectedToken.name}),h.$logger.track("depositFlow-allowanceApproval-failed",{error:e,bridge:"Plasma",gas:h.approveGas});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 53:t.next=61;break;case 55:t.prev=55,t.t4=t.catch(9),this.$logger.error(t.t4).capture=!0,this.dirty=!0,this.error=Object(j.a)(t.t4,{address:this.account.address,transactionPage:"DEPOSIT_MODAL",token:this.selectedToken.name}),this.isLoading=!1;case 61:case"end":return t.stop()}}),t,this,[[9,55]])}))),function(){return m.apply(this,arguments)})},{key:"initDeposit",value:(f=Object(c.a)(regeneratorRuntime.mark((function t(e){var n,r,o,l,d,h,f,m,v,w,T=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.validations();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:if(this.dirty=!1,this.error="",this.$logger.track("depositFlow-depositTxInitiated",{tokenName:this.selectedToken.name,amount:new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals))),bridge:this.isPoSTransaction?"PoS":"Plasma"}),t.prev=9,!this.isPoSTransaction){t.next=41;break}return n=this.selectedToken.addresses[this.networkID],r=new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals))),t.next=15,this.getMaticPOS();case 15:if(o=t.sent,l=!1,!this.isEtherToken){t.next=21;break}l=!0,t.next=27;break;case 21:return t.t0=y.a,t.next=24,o.getERC20Allowance(this.account.address,n,{from:this.account.address});case 24:t.t1=t.sent,new t.t0(t.t1).gte(r)&&(l=!0);case 27:if(!l){t.next=38;break}if(!this.isEtherToken){t.next=33;break}return t.next=31,o.depositEtherForUser(this.account.address,this.formatAmt,{from:this.account.address,onTransactionHash:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.handleDepositStore(n,T.toSendInToken,!0);case 2:if(!T.takesTooLong){t.next=5;break}return t.next=5,T.tryAgain(e);case 5:return T.depositTransactionHash=n,T.transactionStatus=P.b.DEPOSIT_PENDING,t.next=9,T.updateTransactions();case 9:T.$logger.track("depositFlow-depositTx-successful",{txHash:n.transactionHash,tokenName:T.selectedToken.name,bridge:"PoS"});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.isLoading=!1,T.transactionStatus=P.b.DEPOSIT_FAILED,T.dirty=!0,T.error=Object(j.a)(e,{address:T.account.address,transactionPage:"DEPOSIT_MODAL",token:T.selectedToken.name}),T.$logger.track("depositFlow-depositTx-failed",{error:e,tokenName:T.selectedToken.name,bridge:"PoS",gas:T.depositGas});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 31:t.next=36;break;case 33:return d=this.selectedToken.addresses[this.networkID],t.next=36,o.depositERC20ForUser(d,this.account.address,this.formatAmt,{from:this.account.address,onTransactionHash:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.handleDepositStore(r,T.toSendInToken,!0);case 2:if(!T.takesTooLong){t.next=5;break}return t.next=5,T.tryAgain(e);case 5:return T.depositTransactionHash=r,T.transactionStatus=P.b.DEPOSIT_PENDING,t.next=9,T.updateTransactions();case 9:T.$logger.track("depositFlow-depositTx-successful",{txHash:r.transactionHash,tokenName:n.name,bridge:"PoS"});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.isLoading=!1,T.transactionStatus=P.b.DEPOSIT_FAILED,T.dirty=!0,T.error=Object(j.a)(e,{address:T.account.address,transactionPage:"DEPOSIT_MODAL",token:T.selectedToken.name}),T.$logger.track("depositFlow-depositTx-failed",{error:e,tokenName:n.name,bridge:"PoS",gas:T.depositGas});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 36:t.next=39;break;case 38:this.isLoading=!1;case 39:t.next=71;break;case 41:return h=this.selectedToken.addresses[this.networkID],f=new y.a(this.toSendInToken).times(U.pow(new y.a(this.selectedToken.decimals))),t.next=45,this.getMatic();case 45:return m=t.sent,t.next=48,m.initialize();case 48:if(v=!1,!this.isEtherToken){t.next=53;break}v=!0,t.next=59;break;case 53:return t.t2=y.a,t.next=56,m.getERC20Allowance(this.account.address,h,{from:this.account.address});case 56:t.t3=t.sent,new t.t2(t.t3).gte(f)&&(v=!0);case 59:if(!v){t.next=70;break}if(!this.isEtherToken){t.next=65;break}return t.next=63,m.depositEther(this.formatAmt,{from:this.account.address,onTransactionHash:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.handleDepositStore(n,T.toSendInToken,!1);case 2:if(T.depositTransactionHash=n,T.transactionStatus=P.b.DEPOSIT_PENDING,!T.takesTooLong){t.next=7;break}return t.next=7,T.tryAgain(e);case 7:return t.next=9,T.updateTransactions();case 9:T.$logger.track("depositFlow-depositTx-successful",{txHash:n.transactionHash,tokenName:T.selectedToken.name,bridge:"Plasma"});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.isLoading=!1,T.transactionStatus=P.b.DEPOSIT_FAILED,T.dirty=!0,T.error=Object(j.a)(e,{address:T.account.address,transactionPage:"DEPOSIT_MODAL",token:T.selectedToken.name}),T.$logger.track("depositFlow-depositTx-failed",{error:e,tokenName:T.selectedToken.name,bridge:"Plasma",gas:T.depositGas});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 63:t.next=68;break;case 65:return w=this.selectedToken.addresses[this.networkID],t.next=68,m.depositERC20ForUser(w,this.account.address,this.formatAmt,{from:this.account.address,onTransactionHash:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.handleDepositStore(n,T.toSendInToken,!1);case 2:if(!T.takesTooLong){t.next=5;break}return t.next=5,T.tryAgain(e);case 5:return T.depositTransactionHash=n,T.transactionStatus=P.b.DEPOSIT_PENDING,t.next=9,T.updateTransactions();case 9:T.$logger.track("depositFlow-depositTx-successful",{txHash:n.transactionHash,tokenName:h.name,bridge:"Plasma"});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(c.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.isLoading=!1,T.transactionStatus=P.b.DEPOSIT_FAILED,T.dirty=!0,T.error=Object(j.a)(e,{address:T.account.address,transactionPage:"DEPOSIT_MODAL",token:T.selectedToken.name}),T.$logger.track("depositFlow-depositTx-failed",{error:e,tokenName:h.name,bridge:"Plasma",gas:T.depositGas});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 68:t.next=71;break;case 70:this.isLoading=!1;case 71:this.$logger.track("depositFlow-completed"),t.next=80;break;case 74:t.prev=74,t.t4=t.catch(9),this.$logger.error(t.t4).capture=!0,this.dirty=!0,this.error=Object(j.a)(t.t4,{address:this.account.address,transactionPage:"DEPOSIT_MODAL",token:this.selectedToken.name}),this.isLoading=!1;case 80:case"end":return t.stop()}}),t,this,[[9,74]])}))),function(t){return f.apply(this,arguments)})},{key:"handleApproveStore",value:(o=Object(c.a)(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.approvalTxDoc(e).set({actionNeeded:!0,txHash:e,wappId:"polygon wallet",amount:n,isPoS:r,chainId:this.networks.main.chainId,tokenId:this.selectedToken.id,transactionStatus:P.b.APPROVAL_PENDING,createdAt:S.a.FieldValue.serverTimestamp(),updatedAt:S.a.FieldValue.serverTimestamp()});case 2:this.updateTransactions(),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return o.apply(this,arguments)})},{key:"handleDepositStore",value:(r=Object(c.a)(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.depositTxDoc(e).set({actionNeeded:!0,txHash:e,wappId:"polygon wallet",amount:n,isPoS:r,chainId:this.networks.main.chainId,tokenId:this.selectedToken.id,transactionStatus:P.b.DEPOSIT_PENDING,createdAt:S.a.FieldValue.serverTimestamp(),updatedAt:S.a.FieldValue.serverTimestamp()});case 2:this.updateTransactions(),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"getMatic",value:(n=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(A.a)({networks:this.networks,primaryProvider:"child"}),n=Object(A.b)({networks:this.networks,primaryProvider:"parent"}),t.abrupt("return",new x.a({network:C.a.uiconfig.matic.deployment.network,version:C.a.uiconfig.matic.deployment.version,parentProvider:n,maticProvider:e}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getMaticPOS",value:(e=Object(c.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(A.a)({networks:this.networks,primaryProvider:"child"}),n=Object(A.b)({networks:this.networks,primaryProvider:"parent"}),t.next=4,new $({network:C.a.uiconfig.matic.deployment.network,version:C.a.uiconfig.matic.deployment.version,parentProvider:n,maticProvider:e,posRootChainManager:this.networkMeta.Main.POSContracts.RootChainManagerProxy,posERC20Predicate:this.networkMeta.Main.POSContracts.ERC20PredicateProxy,posERC721Predicate:this.networkMeta.Main.POSContracts.ERC721PredicateProxy});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"formatAmt",get:function(){var t=new y.a(this.toSendInToken),e=new y.a(this.selectedToken.decimals);return t.times(U.pow(e)).toString(10)}},{key:"amountInUsd",get:function(){return"NaN"===this.toSendInUSD?0:this.toSendInUSD}},{key:"parentNetwork",get:function(){return this.networks.main}},{key:"childNetwork",get:function(){return this.networks.matic}},{key:"networkID",get:function(){return this.parentNetwork.chainId}},{key:"isEtherToken",get:function(){return!(!this.selectedToken||"ETH"!==this.selectedToken.symbol)}},{key:"isPoSTransaction",get:function(){return this.transferMode===P.f.POS}},{key:"flowStatus",get:function(){var t=this;if(this.depositTransactionHash){if(this.depositStatusList[this.depositTransactionHash]&&!this.depositFromBlockchain)return this.depositStatusList[this.depositTransactionHash].code;var e=this.deposits.find((function(e){return e.txHash===t.depositTransactionHash}));return e&&e.transactionStatus===P.b.DEPOSIT_COMPLETED?P.b.DEPOSIT_COMPLETED:this.fromNotification?P.b.LOADING:this.transactionStatus}if(this.approveTransactionHash){if(this.approveStatusList[this.approveTransactionHash]&&!this.allowanceFromBlockchain)return this.approveStatusList[this.approveTransactionHash].code;var n=this.approvals.find((function(e){return e.txHash===t.approveTransactionHash}));return n&&n.transactionStatus===P.b.APPROVAL_SUCCESS?P.b.APPROVAL_SUCCESS:this.fromNotification?P.b.LOADING:this.transactionStatus}return this.transactionStatus}},{key:"transferModeShownValue",get:function(){return this.isPoSTransaction?"PoS":"Plasma"}}]),B}(w.default))||r,z=(n(2521),n(34)),component=Object(z.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section position-absolute"},[n("div",{staticClass:"modal deposit-overview-modal-wrapper",class:{show:t.show}},[n("div",{staticClass:"modal-dialog w-sm-100 align-self-center",attrs:{role:"document"}},[n("div",{staticClass:"box s-modal"},[n("div",{staticClass:"box-header justify-content-center",class:{"overview-header":!t.overviewAccepted}},[t.overviewAccepted&&t.flowStatus===t.DEPOSIT_FLOW_STATUS.CONFIRM_TRANSFER?n("span",{staticClass:"left-arrow align-self-center float-left cursor-pointer",on:{click:t.onBackToOverview}},[n("svg-sprite-icon",{staticClass:"left-arrow align-self-center float-left cursor-pointer",attrs:{name:"left-arrow-long"}})],1):t._e(),t._v(" "),n("div",{staticClass:"text-center align-self-center w-100"},[t.overviewAccepted||t.flowStatus!==t.DEPOSIT_FLOW_STATUS.DISCLAIMER?t._e():n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Important "),n("br")]),t._v(" "),t.overviewAccepted||t.flowStatus!==t.DEPOSIT_FLOW_STATUS.OVERVIEW?t._e():n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Transfer Overview "),n("br")]),t._v(" "),t.overviewAccepted&&t.flowStatus===t.DEPOSIT_FLOW_STATUS.CONFIRM_TRANSFER?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Confirm Transfer\n            ")]):t._e(),t._v(" "),t.overviewAccepted&&t.flowStatus===t.DEPOSIT_FLOW_STATUS.CONFIRM_TRANSFER?n("div",{staticClass:"font-body-small"},[t._v("\n              Please review your transaction\n            ")]):t._e(),t._v(" "),t.overviewAccepted&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.OVERVIEW&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.DEPOSIT_COMPLETED?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Transfer in Progress\n            ")]):t._e(),t._v(" "),t.overviewAccepted&&t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_COMPLETED?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Transfer Completed\n            ")]):t._e()]),t._v(" "),n("span",{staticClass:"align-self-center float-right cursor-pointer",on:{click:t.onCancel}},[n("svg-sprite-icon",{staticClass:"align-self-center float-left cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.LOADING?n("div",{staticClass:"box-body"},[n("div",{staticClass:"container flex"},[n("div",{staticClass:"row ms-x-32 ps-t-50 w-100"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-28 w-100"},[n("div",{staticClass:"loader-gif d-flex align-items-center justify-content-center ms-y-12"},[n("lottie",{attrs:{options:t.defaultOptions,width:194,height:194}})],1)])]),t._v(" "),t._m(0)])]):n("div",{staticClass:"box-body"},[n("div",{staticClass:"container"},[t.overviewAccepted||t.flowStatus!==t.DEPOSIT_FLOW_STATUS.DISCLAIMER?t._e():n("div",{staticClass:"overview row ps-x-32 new-modal__container"},[n("div",{staticClass:"overview__top ps-t-24 new-modal__scroll-section"},[t._m(1),t._v(" "),n("div",{staticClass:"col-12 ps-x-0 ps-t-12"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"d-flex"},[n("Icon",{attrs:{name:"custom/yes"}}),t._v(" "),t._m(2)],1)])]),t._v(" "),t._m(3),t._v(" "),n("div",{staticClass:"col-12 ps-x-0 ps-t-12"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"d-flex"},[n("Icon",{attrs:{name:"custom/no"}}),t._v(" "),n("div",[n("div",{staticClass:"font-body-medium ps-l-12"},[t._v("\n                          Delegation to validators\n                        ")]),t._v(" "),n("div",{staticClass:"font-body-small text-gray ps-t-2 ps-l-12 text-justify"},[t._v("\n                          Delegation/Staking takes place on Ethereum. Do not\n                          deposit funds to Polygon for this purpose. To\n                          delegate or stake please visit the\n                          "),n("nuxt-link",{attrs:{to:{name:"staking"}}},[t._v("\n                            staking UI\n                          ")]),t._v(".\n                        ")],1)])],1)])])]),t._v(" "),n("div",{staticClass:"col-12 ps-x-0 ps-y-20 d-flex justify-content-between new-modal__fixed-section"},[n("button",{staticClass:"btn btn-light",on:{click:t.onCancel}},[n("div",{staticClass:"font-body-medium cancel-button"},[t._v("\n                    Cancel\n                  ")])]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.onDisclaimerAccepted}},[n("div",{staticClass:"font-body-medium continue-button"},[t._v("\n                    Continue\n                  ")])])])]),t._v(" "),t.overviewAccepted||t.flowStatus!==t.DEPOSIT_FLOW_STATUS.OVERVIEW?t._e():n("div",{staticClass:"overview new-modal__container"},[n("div",{staticClass:"overview__top new-modal__scroll-section"},[t._m(4),t._v(" "),n("div",{staticClass:"row ps-x-32"},[t.isEtherToken?t._e():n("div",{staticClass:"col-12 ps-x-0 text-center"},[n("div",{staticClass:"font-body-medium font-semibold ps-b-8"},[t._v("\n                      Deposit process consists of two transactions.\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Estimation of total gas required for these transactions\n                    ")])]),t._v(" "),t.isEtherToken?n("div",{staticClass:"col-12 ps-x-0 text-center"},[n("div",{staticClass:"font-body-medium font-semibold ps-b-8"},[t._v("\n                      Deposit process for Ether consists of a single\n                      transaction.\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Estimation of total gas required for this transaction\n                    ")])]):t._e(),t._v(" "),n("div",{staticClass:"col-12 ps-x-0 ps-t-16"},[t.isEtherToken||t.allowance?t._e():n("div",{staticClass:"d-flex justify-content-between ps-b-14"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.parentNetwork.name+" transaction",expression:"`${parentNetwork.name} transaction`",modifiers:{right:!0}}],staticClass:"d-flex"},[n("svg-sprite-icon",{staticClass:"network-icon",attrs:{name:"eth"}}),t._v(" "),n("div",{staticClass:"font-body-small ps-t-2 ps-l-12"},[t._v("\n                          Approve Deposit\n                        ")])],1),t._v(" "),0!==t.approveGasFees?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        ~$"+t._s(t.approveGasFees)+"\n                      ")]):t._e(),t._v(" "),0===t.approveGasFees?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        estimating...\n                      ")]):t._e()]),t._v(" "),n("div"),t._v(" "),n("div",{staticClass:"d-flex justify-content-between ps-b-14"},[n("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.parentNetwork.name+" transaction",expression:"`${parentNetwork.name} transaction`",modifiers:{right:!0}}],staticClass:"d-flex"},[n("svg-sprite-icon",{staticClass:"network-icon",attrs:{name:"eth"}}),t._v(" "),n("div",{staticClass:"font-body-small ps-t-2 ps-l-12"},[t._v("\n                          Complete Deposit\n                        ")])],1),t._v(" "),0!==t.depositGasFees?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        ~$"+t._s(t.depositGasFees)+"\n                      ")]):t._e(),t._v(" "),0===t.depositGasFees?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        estimating...\n                      ")]):t._e()])])])]),t._v(" "),n("div",{staticClass:"overview__bottom new-modal__fixed-section ps-y-20"},[n("div",{staticClass:"col-12 ps-x-0 d-flex justify-content-between"},[n("button",{staticClass:"btn btn-light",on:{click:t.onCancel}},[n("div",{staticClass:"font-body-medium cancel-button"},[t._v("\n                      Cancel\n                    ")])]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:t.onOverviewAccepted}},[n("div",{staticClass:"font-body-medium continue-button"},[t._v("\n                      Continue\n                    ")])])])])]),t._v(" "),!t.overviewAccepted||t.flowStatus!==t.DEPOSIT_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.APPROVAL_FAILED?t._e():n("div",{staticClass:"confirm-box new-modal__container"},[n("div",{staticClass:"confirm-box__top new-modal__scroll-section"},[n("div",{staticClass:"row ps-x-32 ps-y-32"},[t.selectedToken?n("div",{staticClass:"col-12 ps-x-0"},[n("div",{staticClass:"token-details text-center"},[n("div",{staticClass:"token-details__img d-flex justify-content-center align-self-center mx-auto"},[t.selectedToken.symbol&&t.tokenImage(t.selectedToken)?n("img",{staticClass:"align-self-center",attrs:{src:t.tokenImage(t.selectedToken),alt:"Token Image"}}):t.selectedToken.symbol?n("span",{staticClass:"align-self-center font-heading-large ps-t-2 font-semibold"},[t._v(t._s(t.selectedToken.symbol[0]))]):t._e()]),t._v(" "),n("div",{staticClass:"token-details__val font-heading-large font-bold ps-t-16 ps-b-6"},[t._v("\n                        "+t._s(t.toSendInToken)+"\n                        "+t._s("ETH"===t.selectedToken.symbol?"ETHER":t.selectedToken.name.toUpperCase())+"\n                      ")]),t._v(" "),n("div",{staticClass:"token-details__usd font-body-small"},[t._v("\n                        $ "+t._s(t.toSendInUSD)+"\n                      ")])])]):t._e()]),t._v(" "),n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 ps-x-0 ps-b-16"},[n("div",{staticClass:"d-flex"},[t._m(5),t._v(" "),n("div",{staticClass:"arrow-anime-wrapper d-flex justify-content-center align-items-center align-self-center"},[n("span",{staticClass:"arrow primary position-absolute ps-r-20"},[n("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M1 1.5L6 7L0.999999 12.5",stroke:"#B8B2F9","stroke-width":"2"}})])]),t._v(" "),n("span",{staticClass:"arrow secondary position-absolute ps-r-20"},[n("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M10 1.5L15 7L10 12.5",stroke:"#AAC5F9","stroke-width":"2"}})])])]),t._v(" "),t._m(6)])])]),t._v(" "),n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 ps-x-0 ps-y-16 border-top"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Transfer mode\n                      ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[n("div",{staticClass:"align-self-center cursor-pointer"},[n("span",{staticClass:"font-body-medium"},[t._v(t._s(t.transferModeShownValue)+" Bridge")])])])]),t._v(" "),t.isPoSTransaction?n("div",{staticClass:"font-caption ps-t-8"},[t._v("\n                      PoS security is provided by the PoS validators. It will\n                      take approximately\n                      "),n("span",{staticClass:"text-primary"},[t._v("3 hours")]),t._v(" when you have\n                      to transfer your funds back to Ethereum.\n                    ")]):t._e(),t._v(" "),t.isPoSTransaction?t._e():n("div",{staticClass:"font-caption ps-t-8"},[t._v("\n                      Plasma provides advanced security with plasma exit\n                      mechanism. It will take\n                      "),n("span",{staticClass:"text-primary"},[t._v("7 days")]),t._v(" when you have\n                      to transfer your funds back to Ethereum.\n                    ")])])])]),t._v(" "),n("div",{staticClass:"confirm-box__bottom new-modal__fixed-section ps-y-20"},[n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 ps-x-0"},[n("div",{staticClass:"d-flex ps-b-8"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Estimated Transaction fee\n                      ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[n("div",{staticClass:"align-self-center cursor-pointer"},[t.isEtherToken&&0!==t.depositGasFees?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            ~$"+t._s(t.depositGasFees)+"\n                          ")]):t._e(),t._v(" "),t.isEtherToken&&0===t.depositGasFees?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e(),t._v(" "),t.isEtherToken||0===t.approveGasFees?t._e():n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            ~$"+t._s(t.approveGasFees)+"\n                          ")]),t._v(" "),t.isEtherToken||0!==t.approveGasFees?t._e():n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")])])])]),t._v(" "),t.isEtherToken?n("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initDeposit}}):t._e(),t._v(" "),t.isEtherToken?t._e():n("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initApprove}})],1)]),t._v(" "),n("div",{staticClass:"ps-x-14 ps-y-4 w-100"},[t.error||t.dirty?n("div",{staticClass:"font-caption text-center text-danger mx-auto"},[t._v("\n                    "+t._s(t.error)+"\n                  ")]):t._e()])])]),t._v(" "),t.overviewAccepted&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.OVERVIEW&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.APPROVAL_FAILED?n("div",{staticClass:"new-modal__container"},[n("div",{staticClass:"new-modal__scroll-section"},[n("div",{staticClass:"w-100"},[n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-12 ps-x-0 ps-t-12 ps-b-14"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"font-body-medium align-self-center shaded-color"},[t._v("\n                          Transfer Amount\n                        ")]),t._v(" "),t.selectedToken?n("div",{staticClass:"font-body-medium align-self-center"},[t._v("\n                          "+t._s(t.toSendInToken)+"\n                          "+t._s(t.selectedToken.symbol)+"\n                        ")]):n("div",{staticClass:"font-body-medium align-self-center"},[t.selectedToken?n("div",[t._v("\n                            "+t._s(t.toSendInToken)+"\n                            "+t._s(t.selectedToken.symbol)+"\n                          ")]):t._e()])])])])]),t._v(" "),n("div",{staticClass:"w-100"},[n("div",{staticClass:"row ps-x-32 border-top border-bottom",staticStyle:{height:"72px"}},[n("div",{staticClass:"col-12 ps-x-0 ps-y-16"},[t.progressBarVals?n("ProgressBar",[n("Progress",{attrs:{description:"Approve",status:t.progressBarVals.approved,left:!1,href:t.progressBarVals.explorerUrl}}),t._v(" "),n("Progress",{attrs:{description:"Confirmed",status:t.progressBarVals.confirmed}}),t._v(" "),n("Progress",{attrs:{description:"Completed",status:t.progressBarVals.completed,right:!1}})],1):t._e()],1)])]),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.APPROVAL_PENDING||t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_PENDING?n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-8"},[n("div",{staticClass:"loader-gif d-flex justify-content-center"},[n("lottie",{attrs:{options:t.defaultOptions,width:194,height:194}})],1),t._v(" "),t.takesTooLong?n("div",[n("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-2"},[t._v("\n                      Taking too long\n                    ")]),t._v(" "),t._m(7)]):n("div",[n("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-4"},[t._v("\n                      Transaction in process\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Ethereum transactions can take longer time to complete\n                      based upon network congestion. Please wait or increase\n                      the gas price of the transaction\n                    ")]),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.APPROVAL_PENDING?n("div",{staticClass:"font-body-small text-primary ps-t-18"},[n("a",{attrs:{href:t.explorerURL+"/tx/"+t.approveTransactionHash,target:"_blank"}},[t._v("\n                        View on Etherscan")])]):t._e(),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_PENDING?n("div",{staticClass:"font-body-small text-primary ps-t-18"},[n("a",{attrs:{href:t.explorerURL+"/tx/"+t.depositTransactionHash,target:"_blank"}},[t._v("\n                        View on Etherscan")])]):t._e()])]):t._e(),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.APPROVAL_SUCCESS||t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_FAILED||t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_BADHASH?n("div",{staticClass:"row ps-x-32 confirm"},[n("div",{staticClass:"confirm__top"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-40"},[n("div",{staticClass:"ps-t-2"},[n("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                          Confirm the Deposit\n                        ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-light-color ps-x-20"},[t._v("\n                          You need to confirm one more step to complete the\n                          deposit transaction. "),n("contact-support-message")],1)])])])]):t._e(),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_ENROUTE||t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_COMPLETED?n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-28"},[t._m(8),t._v(" "),n("div",[t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_ENROUTE?n("div",{staticClass:"font-heading-medium font-semibold ps-b-4 lh-26"},[t._v("\n                        Transfer en route.\n                      ")]):t._e(),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_ENROUTE?n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                        Your transfer is en-route. It will take ~7-8 minutes\n                        for the deposit to get completed. On completion, your\n                        balance will be updated.\n                      ")]):t._e(),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_COMPLETED?n("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                        Transfer completed successfully.\n                      ")]):t._e(),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_COMPLETED?n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                        Your transfer is completed successfully.\n                      ")]):t._e(),t._v(" "),t.depositTransactionHash?n("div",{staticClass:"font-body-small text-primary ps-t-20"},[n("a",{attrs:{href:t.explorerURL+"/tx/"+t.depositTransactionHash,target:"_blank"}},[t._v("\n                          View on Etherscan")])]):t._e()])])]):t._e()]),t._v(" "),n("div",{staticClass:"row ps-x-14 new-modal__fixed-section"},[t.flowStatus!==t.DEPOSIT_FLOW_STATUS.APPROVAL_PENDING&&t.flowStatus!==t.DEPOSIT_FLOW_STATUS.DEPOSIT_PENDING||!t.takesTooLong?t._e():n("div",{staticClass:"ps-t-20 w-100 text-center",class:{"ps-b-20":!(t.error||t.dirty)}},[n("div",{staticClass:"d-flex justify-content-center"},[n("ButtonLoader",{staticClass:"w-100 ms-t-8 ms-r-10",attrs:{label:"Cancel",nature:"secondary",size:"medium",loading:t.isCancelButtonLoading,disabled:t.isLoading},on:{onClick:function(e){return t.cancelDepositTryAgain(t.depositTransactionHash)}}}),t._v(" "),n("ButtonLoader",{staticClass:"w-100 ms-t-8 ms-l-10",attrs:{label:"Try Again",nature:"primary",size:"medium",loading:t.isLoading,disabled:t.isCancelButtonLoading},on:{onClick:function(e){return t.initDeposit(t.depositTransactionHash)}}})],1),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_PENDING?n("div",{staticClass:"font-body-small text-primary ps-t-8",class:{"ps-t-14":t.error||t.dirty}},[n("a",{attrs:{href:t.explorerURL+"/tx/"+t.depositTransactionHash,target:"_blank"}},[t._v("\n                      View on Etherscan")])]):t._e()]),t._v(" "),t.flowStatus===t.DEPOSIT_FLOW_STATUS.APPROVAL_SUCCESS||t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_FAILED||t.flowStatus===t.DEPOSIT_FLOW_STATUS.DEPOSIT_BADHASH?n("div",{staticClass:"confirm__bottom col-md-12 ps-x-0 ps-t-20",class:{"ps-b-20":!(t.error||t.dirty)}},[n("div",{staticClass:"d-flex ps-b-8"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                      Estimated Transaction fee\n                    ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[0!==t.depositGasFees?n("div",{staticClass:"align-self-center cursor-pointer"},[n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                          ~$"+t._s(t.depositGasFees)+"\n                        ")])]):t._e(),t._v(" "),0===t.depositGasFees?n("div",{staticClass:"align-self-center cursor-pointer"},[n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                          estimating...\n                        ")])]):t._e()])]),t._v(" "),n("ButtonLoader",{staticClass:"w-100",attrs:{label:"Continue",nature:"primary",size:"large",loading:t.isLoading},on:{onClick:t.initDeposit}})],1):t._e(),t._v(" "),t.error||t.dirty?n("div",{staticClass:"font-caption text-center text-danger mx-auto ps-t-10 ms-b-20"},[t._v("\n                  "+t._s(t.error)+"\n                ")]):t._e()])]):t._e()])])])])]),t._v(" "),n("div",{staticClass:"modal-backdrop",class:{show:t.show}})])}),o,!1,null,"1c4dbf86",null);e.a=component.exports},1064:function(t,e,n){"use strict";var r,o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center ps-t-28"},[e("img",{attrs:{src:n(354),alt:"Success"}})])}],c=(n(76),n(94),n(64),n(100),n(113),n(67)),l=n(6),d=n(36),h=n(46),f=n(44),m=n(45),v=n(28),w=n(24),T=(n(52),n(66),n(299),n(160),n(190),n(39),n(87),n(81),n(80),n(79),n(114),n(188),n(140),n(409),n(148),n(95),n(12)),k=n(59),_=n(48),x=n(15),C=n(70),y=n(53),S=n(27),O=n(50),I=n(8),E=n(17),P=n(30),A=n.n(P),R=n(5),D=n(57),L=n(62),F=n(51),N=n(56),j=n(144),M=n(177),W=n(243),H=n(105);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function U(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var G=new E.a(10),V=Object(k.a)({props:{show:{type:Boolean,required:!1,default:!1},cancel:{type:Function,required:!0},transferMode:{type:String,required:!0},toSendInToken:{type:String,required:!0},selectedToken:{type:Object,required:!1},depositTxHash:{type:String,required:!1},fromNotification:{type:Boolean,default:!1},status:{type:String,required:!1}},computed:U(U(U(U({},Object(_.b)("network",["networks","networkMeta"])),Object(_.b)("account",["account"])),Object(_.b)("transaction",["deposits"])),Object(_.c)("account",["loginStrategy"])),components:{Button:N.Button,ButtonLoader:N.ButtonLoader,Lottie:M.a,ProgressBar:N.ProgressBar,Progress:N.Progress,Icon:N.Icon}})(r=function(t){Object(f.a)(z,t);var e,n,r,o,m,v,w,k,_,P,N,M,$,U,V=B(z);function z(){var t;Object(d.a)(this,z);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=V.call.apply(V,[this].concat(n))).flowStatus=null,t.FAST_DEPOSIT_FLOW=null,t.error=null,t.isLoading=!1,t.toSendInUSD=0,t.explorerURL=I.a.uiconfig.ethereumExplorerUrl,t.metamaskValidation=!0,t.depositTransactionHash=t.depositTxHash?t.depositTxHash:"",t.defaultOptions={animationData:W},t.animationSpeed=1,t.depositGasFees=0,t.routerPublicIdentifier=I.a.uiconfig.connextRouterPublicIdentifier,t.activeCrossChainTrasferId="",t.connextNode=null,t.connextDepositAddress="",t.withdrawRpcProvider=null,t.depositRpcProvider=null,t.connextEvts=null,t.connextDepositChannel="",t.connextWithdrawChannel="",t.settingBrowserNodeDisabled=!0,t.loadingText="Setting Up Connext Node..",t.depositChainId=null,t.withdrawChainId=null,t.connextTransferFee=0,t.transferFee=0,t.ifRouterSupportsTransfer=!1,t.withdrawQuote=0,t.transferQuote=0,t.connextTotalFee=0,t.receivableAmount=0,t}return Object(h.a)(z,[{key:"resetForm",value:function(){this.error=null}},{key:"onCancel",value:function(){this.resetForm(),this.cancel()}},{key:"created",value:function(){this.FAST_DEPOSIT_FLOW=R.c,this.depositChainId=this.parentNetwork.chainId,this.withdrawChainId=this.childNetwork.chainId,this.depositAssetId=this.selectedToken.addresses[this.parentNetwork.chainId],this.withdrawAssetId=this.selectedToken.addresses[this.childNetwork.chainId],this.flowStatus=this.status?this.status:R.c.CONFIRM}},{key:"mounted",value:(U=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tokenToUSD();case 2:return this.fromNotification&&(this.depositTransactionHash=this.depositTxHash),t.next=5,this.initDeposit();case 5:case"end":return t.stop()}}),t,this)}))),function(){return U.apply(this,arguments)})},{key:"tokenToUSD",value:($=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.toSendInToken&&(this.toSendInUSD=(parseFloat(this.selectedToken||0)*parseFloat(this.toSendInToken)).toFixed(3),"NaN"===this.toSendInUSD&&(this.toSendInUSD=0));case 1:case"end":return t.stop()}}),t,this)}))),function(){return $.apply(this,arguments)})},{key:"updateTransactions",value:(M=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.dispatch("token/reloadBalances");case 1:case"end":return t.stop()}}),t,this)}))),function(){return M.apply(this,arguments)})},{key:"initDeposit",value:(N=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,d,h,f,m,v,w,T,k,_,x,E,P,A,N,j,M,W,H,B,$,U,G,V,z,Y,K,Q,Z,X,J,tt,et,nt,st=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new C.providers.JsonRpcProvider(I.a.uiconfig.mainRPC,this.depositChainId),this.depositRpcProvider=e,n=new C.providers.JsonRpcProvider(I.a.uiconfig.maticRPC,this.withdrawChainId),this.withdrawRpcProvider=n,r=Object(D.b)({networks:this.networks,primaryProvider:"parent"}),o=L.c.get("loginStrategy")===I.a.strategies.METAMASK?window.ethereum:r,t.prev=6,t.next=9,Object(F.c)(this.routerPublicIdentifier,this.depositChainId,this.withdrawChainId,I.a.uiconfig.mainRPC,I.a.uiconfig.maticRPC,o);case 9:d=t.sent,this.connextNode=d,t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(6),t.t0.message.includes("localStorage not available in this window")&&(this.error="Please disable shields or ad blockers and try again. Connext requires cross-site cookies to store your channel states."),t.t0.message.includes("Failed to read the 'localStorage'")&&(this.error="Please disable shields or ad blockers or allow third party cookies in your browser and try again. Connext requires cross-site cookies to store your channel states."),t.abrupt("return");case 18:if(this.$logger.debug("Browser Node Inititated"),this.account.address!=="0x2dF5Ec8D9D3be35A057bf177dF07358b1A0cA789".toLowerCase()){t.next=33;break}return t.next=22,Object(F.f)(d,this.routerPublicIdentifier,1);case 22:if(h=t.sent,f="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",!h){t.next=33;break}return m=h.channelAddress,t.next=29,d.requestCollateral({assetId:"0xdAC17F958D2ee523a2206206994597C13D831ec7",channelAddress:m});case 29:return this.$logger.debug("Tether Collateral Reclaim Done"),t.next=32,d.requestCollateral({assetId:f,channelAddress:m});case 32:this.$logger.debug("USDC Collateral Reclaim Done");case 33:return t.next=35,Object(F.d)(d);case 35:return v=t.sent,this.connextEvts=v,t.prev=37,t.next=40,Object(F.f)(d,this.routerPublicIdentifier,this.depositChainId);case 40:w=t.sent,t.next=48;break;case 43:return t.prev=43,t.t1=t.catch(37),this.error="Could not find sender channel",this.$logger.debug(t.t1),t.abrupt("return");case 48:return w&&(this.connextDepositChannel=w,T=w.channelAddress,this.connextDepositAddress=T),t.prev=49,t.next=52,Object(F.f)(d,this.routerPublicIdentifier,this.withdrawChainId);case 52:k=t.sent,this.connextWithdrawChannel=k,t.next=60;break;case 56:t.prev=56,t.t2=t.catch(49),this.error="Receiver channel not found",this.$logger.debug("receiver channel not found",t.t2);case 60:return this.loadingText="Verifying Requested Transfer...",_=0,t.next=64,Object(F.g)(d,this.routerPublicIdentifier,this.formatAmt,this.depositChainId,this.depositAssetId,this.selectedToken.decimals,this.withdrawChainId,this.withdrawAssetId,this.selectedToken.decimals,k.channelAddress);case 64:if(_=t.sent,E=(x=_).totalFee,P=x.withdrawalQuote,A=x.transferQuote,this.connextTransferFee=E,this.withdrawQuote=P,this.transferQuote=A,!(parseInt(this.toSendInToken)<=parseInt(this.connextTransferFee))){t.next=75;break}return this.$logger.debug("compare",this.toSendInToken,this.connextTransferFee),this.ifRouterSupportsTransfer=!0,this.loadingText="Insufficient Transfer Amount",this.error="Transfer Amount is not enough for the fee",t.abrupt("return");case 75:return this.receivableAmount=parseInt(this.toSendInToken)-parseInt(this.connextTransferFee),t.prev=76,t.next=79,Object(F.k)(d,this.depositChainId,this.depositAssetId,this.withdrawChainId,this.withdrawAssetId,n,this.routerPublicIdentifier,this.formatAmt);case 79:N=t.sent,this.connextSwap=N,t.next=90;break;case 83:return t.prev=83,t.t3=t.catch(76),this.loadingText="Transfer Not Supported",this.error="Liquidity is not sufficient for the selected token.",this.ifRouterSupportsTransfer=!0,this.$logger.debug("error in verify router supports transfers",t.t3),t.abrupt("return");case 90:return t.prev=90,t.next=93,Object(F.a)(d,v[S.EngineEvents.CONDITIONAL_TRANSFER_CREATED],this.depositChainId,this.withdrawChainId,this.withdrawAssetId,this.routerPublicIdentifier);case 93:j=t.sent,this.$logger.debug("hanging resolutions",j),t.next=101;break;case 97:t.prev=97,t.t4=t.catch(90),this.error="Hanging resolutions error",this.$logger.debug("error in hangingresolutions",t.t4);case 101:return t.next=103,Promise.all([d.getActiveTransfers({channelAddress:w.channelAddress}),d.getActiveTransfers({channelAddress:k.channelAddress})]);case 103:return M=t.sent,W=Object(c.a)(M,2),H=W[0],B=W[1],$=H.getValue().filter((function(t){return Object.keys(t.transferState).includes("lockHash")})),U=B.getValue().filter((function(t){return Object.keys(t.transferState).includes("lockHash")})),console.warn("deposit active on init",$.length,"ids:",$.map((function(t){return t.transferId}))),console.warn("withdraw active on init",U.length,"ids:",U.map((function(t){return t.transferId}))),v.CONDITIONAL_TRANSFER_CREATED.pipe((function(data){return data.transfer.responderIdentifier===d.publicIdentifier&&data.transfer.meta.routingId!==st.activeCrossChainTrasferId})).attach(function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn("Cancelling transfer thats not active"),t.next=3,st.cancelTransfer(T,k.channelAddress,data.transfer.transferId,data.transfer.meta.crossChainTransferId,v,d);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=112,this.$logger.debug("Waiting for sender cancellations.."),t.next=116,Object(F.l)(d,v[S.EngineEvents.CONDITIONAL_TRANSFER_RESOLVED],w.channelAddress);case 116:this.$logger.debug("done!"),t.next=123;break;case 119:return t.prev=119,t.t5=t.catch(112),this.$logger.debug("Error in waitForSenderCancels",t.t5),t.abrupt("return");case 123:return t.prev=123,t.next=126,Object(F.h)(d,w.channelAddress,this.depositAssetId);case 126:t.next=133;break;case 128:return t.prev=128,t.t6=t.catch(123),this.error="Failed to reconcile deposit",this.$logger.debug("Error in reconcileDeposit",t.t6),t.abrupt("return");case 133:return t.prev=133,t.next=136,Object(F.f)(d,this.routerPublicIdentifier,this.depositChainId);case 136:w=t.sent,this.connextDepositChannel=w,t.next=145;break;case 140:return t.prev=140,t.t7=t.catch(133),this.error="Could not get sender channel",this.$logger.debug("Could not get sender channel",t.t7),t.abrupt("return");case 145:if(this.loadingText="Checking for Pending Transfers...",G=y.a.from(Object(O.getBalanceForAssetId)(w,this.depositAssetId,"bob")),this.$logger.debug("Offchain balance for ".concat(T," of asset ").concat(this.depositAssetId,": ").concat(G)),V=y.a.from(Object(O.getBalanceForAssetId)(k,this.withdrawAssetId,"bob")),this.$logger.debug("Offchain balance for ".concat(k.channelAddress," of asset ").concat(this.withdrawAssetId,": ").concat(V)),G.gt(0)&&V.gt(0)&&console.warn("Balance exists in both channels, transferring first, then withdrawing"),!G.gt(0)){t.next=173;break}return z=this.deposits.find((function(t){var e=t.transactionStatus,n=t.connextWithdrawTx,r=t.tokenId;return e===R.c.IN_PROGRESS&&!n&&r===st.selectedToken.id})),Y=z.txHash,t.next=156,this.waitForReceipt(Y);case 156:if(!(K=t.sent)){t.next=164;break}if(K.status){t.next=164;break}return t.next=161,this.updateDepositTxDoc({txHash:Y,transactionStatus:R.c.FAILED});case 161:return this.error="Transaction Receipt Failed.",this.flowStatus=R.c.FAILED,t.abrupt("return");case 164:return t.next=166,this.transfer(this.depositChainId,this.withdrawChainId,T,n,k,N,G,v,d,!0);case 166:return Q=t.sent,Z=Q.withdrawalTx,t.next=170,this.updateDepositTxDoc({txHash:Y,connextWithdrawTx:Z,transactionStatus:R.c.COMPLETED});case 170:this.fromNotification&&(this.flowStatus=R.c.COMPLETED),t.next=195;break;case 173:if(!V.gt(0)){t.next=195;break}return t.next=176,this.deposits.find((function(t){var e=t.transactionStatus,n=t.connextWithdrawTx,r=t.tokenId;return e===R.c.IN_PROGRESS&&!n&&r===st.selectedToken.id}));case 176:return X=t.sent,J=X.txHash,t.next=180,this.waitForReceipt(J);case 180:if(!(tt=t.sent)){t.next=188;break}if(tt.status){t.next=188;break}return t.next=185,this.updateDepositTxDoc({txHash:J,transactionStatus:R.c.FAILED});case 185:return this.error="Transaction Receipt Failed.",this.flowStatus=R.c.FAILED,t.abrupt("return");case 188:return t.next=190,this.withdraw(this.withdrawChainId,n,d);case 190:return et=t.sent,nt=et.withdrawalTx,t.next=194,this.updateDepositTxDoc({txHash:J,connextWithdrawTx:nt,transactionStatus:R.c.COMPLETED});case 194:this.fromNotification&&(this.flowStatus=R.c.COMPLETED);case 195:this.settingBrowserNodeDisabled=!1,this.loadingText="Continue",this.$logger.debug("Browser node is set up and initial functions are checked and have been run");case 198:case"end":return t.stop()}}),t,this,[[6,13],[37,43],[49,56],[76,83],[90,97],[112,119],[123,128],[133,140]])}))),function(){return N.apply(this,arguments)})},{key:"startCrossChainTransfer",value:(P=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.validations();case 2:if(t.sent){t.next=5;break}return this.isLoading=!1,t.abrupt("return");case 5:return this.flowStatus=R.c.IN_PROGRESS,t.prev=6,t.next=9,this.transferToConnextDepositAddress(this.connextDepositAddress,this.toSendInToken,this.selectedToken);case 9:if(e=t.sent,this.$logger.debug("txHashResponse",e),e.success){t.next=13;break}return t.abrupt("return");case 13:return n=e.result,this.depositTransactionHash=n,t.next=17,this.handleDepositStore(n,this.toSendInToken,!0);case 17:if(!n){t.next=36;break}return t.next=20,this.waitForReceipt(n);case 20:if(!(r=t.sent)){t.next=36;break}if(r.status){t.next=29;break}return t.next=25,this.updateDepositTxDoc({txHash:n,transactionStatus:R.c.FAILED});case 25:this.error="Transaction Receipt Failed.",this.flowStatus=R.c.FAILED,t.next=36;break;case 29:return t.next=31,this.transfer(this.depositChainId,this.withdrawChainId,this.connextDepositAddress,this.withdrawRpcProvider,this.connextWithdrawChannel,this.connextSwap,this.formatAmt,this.connextEvts,this.connextNode,!1);case 31:return o=t.sent,c=o.withdrawalTx,this.flowStatus=R.c.COMPLETED,t.next=36,this.updateDepositTxDoc({txHash:n,transactionStatus:R.c.COMPLETED,connextWithdrawTx:c});case 36:t.next=42;break;case 38:t.prev=38,t.t0=t.catch(6),this.$logger.debug(t.t0),this.flowStatus=this.FAST_DEPOSIT_FLOW.FAILED;case 42:case"end":return t.stop()}}),t,this,[[6,38]])}))),function(){return P.apply(this,arguments)})},{key:"transfer",value:(_=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r,o,c,l,d,h,f,m){var v,w,T,k,_,x,y,I,E,P=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=Object(O.getRandomBytes32)(),this.activeCrossChainTrasferId=v,t.prev=2,this.$logger.debug("Calling reconcileDeposit with ".concat(r," and ").concat(this.depositAssetId)),t.next=6,Object(F.h)(f,r,this.depositAssetId);case 6:if(!m){t.next=10;break}return this.$logger.debug("withdrawChannel: ",c),t.next=10,Object(F.j)(o,this.withdrawAssetId,c,d.toString(),l);case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(2),this.error="Failed to reconcile deposit",this.$logger.debug("Error in reconcileDeposit",t.t0),t.abrupt("return");case 17:return w=Object(O.getRandomBytes32)(),t.prev=18,this.$logger.debug("Calling createFromAssetTransfer ".concat(e," ").concat(this.depositAssetId," ").concat(n," ").concat(this.withdrawAssetId," ").concat(v)),t.next=22,Object(F.e)(f,e,this.depositAssetId,n,this.withdrawAssetId,this.routerPublicIdentifier,v,w,this.transferQuote);case 22:T=t.sent,this.$logger.debug("createFromAssetTransfer transferDeets: ",T),t.next=30;break;case 26:return t.prev=26,t.t1=t.catch(18),this.$logger.debug("Error in createFromAssetTransfer: ",t.t1),t.abrupt("return");case 30:return k=h[S.EngineEvents.CONDITIONAL_TRANSFER_RESOLVED].pipe((function(data){return data.transfer.meta.routingId===v&&data.transfer.responderIdentifier===P.routerPublicIdentifier&&Object.values(data.transfer.transferResolver)[0]===C.constants.HashZero})).waitFor(5e5),_=h[S.EngineEvents.CONDITIONAL_TRANSFER_CREATED].pipe((function(data){return data.transfer.meta.routingId===v&&data.transfer.initiatorIdentifier===P.routerPublicIdentifier})).waitFor(5e5),t.prev=32,t.next=35,Promise.race([k,_]);case 35:if(y=t.sent,this.$logger.debug("Received senderCanceledOrReceiverCreated: ",y),Object.values(null!==(x=y.transfer.transferResolver)&&void 0!==x?x:{})[0]!==C.constants.HashZero){t.next=40;break}return this.$logger.debug("Transfer was cancelled"),t.abrupt("return");case 40:t.next=46;break;case 42:return t.prev=42,t.t2=t.catch(32),this.$logger.debug("Did not receive transfer after 500 seconds, please try again later or attempt recovery",t.t2),t.abrupt("return");case 46:return I=h[S.EngineEvents.CONDITIONAL_TRANSFER_RESOLVED].pipe((function(data){return data.transfer.meta.routingId===v&&data.transfer.responderIdentifier===P.routerPublicIdentifier})).waitFor(45e3),t.prev=47,t.next=50,Object(F.i)(f,n,w,v,this.routerPublicIdentifier);case 50:t.next=57;break;case 52:return t.prev=52,t.t3=t.catch(47),this.error="Unable to resolve to asset transfer",this.$logger.debug("Error in resolveToAssetTransfer: ",t.t3),t.abrupt("return");case 57:return t.prev=57,t.next=60,I;case 60:t.next=65;break;case 62:t.prev=62,t.t4=t.catch(57),console.warn("Did not find resolve event from router, proceeding with withdrawal",t.t4);case 65:return t.next=67,this.withdraw(n,o,f);case 67:return E=t.sent,t.abrupt("return",E);case 69:case"end":return t.stop()}}),t,this,[[2,12],[18,26],[32,42],[47,52],[57,62]])}))),function(t,e,n,r,o,c,l,d,h,f){return _.apply(this,arguments)})},{key:"withdraw",value:(k=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r){var o,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(F.m)(r,e,this.withdrawAssetId,this.account.address,this.routerPublicIdentifier,this.withdrawQuote);case 3:o=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),this.$logger.debug(t.t0,"Error in crossChainTransfer"),t.abrupt("return");case 10:return this.$logger.debug("crossChainTransfer: ",o),n.waitForTransaction(o.withdrawalTx).then((function(t){0===t.status&&c.$logger.debug("Transaction reverted onchain",t)})),t.abrupt("return",o);case 13:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(t,e,n){return k.apply(this,arguments)})},{key:"cancelTransfer",value:(w=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r,o,c,l){var d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=c.CONDITIONAL_TRANSFER_RESOLVED.pipe((function(data){return data.transfer.meta.crossChainTransferId===o&&data.channelAddress===e})).waitFor(45e3),h=c.CONDITIONAL_TRANSFER_RESOLVED.pipe((function(data){return data.transfer.meta.crossChainTransferId===o&&data.channelAddress===n})).waitFor(45e3),t.prev=2,t.next=5,Object(F.b)(l,n,r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),this.$logger.debug("Error in cancelToAssetTransfer",t.t0);case 10:return t.prev=10,t.next=13,Promise.all([d,h]);case 13:this.$logger.debug(new Error("Transfer was cancelled")),t.next=19;break;case 16:t.prev=16,t.t1=t.catch(10),this.$logger.debug("Error waiting for sender and receiver cancellations",t.t1);case 19:case"end":return t.stop()}}),t,this,[[2,7],[10,16]])}))),function(t,e,n,r,o,c){return w.apply(this,arguments)})},{key:"transferToConnextDepositAddress",value:(v=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r){var o,c,l,d,h,f,m,v,w,T,data,k,_;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o=this.networkMeta.abi("ERC20","pos"),t.next=4,Object(j.d)();case 4:if((c=t.sent).success){t.next=8;break}return this.error="Error in calculating gas price",t.abrupt("return");case 8:return l=parseInt(c.result),this.$logger.debug({gasPrice:l}),d=Object(D.b)({networks:this.networks,primaryProvider:"parent"}),h=null,h=L.c.get("loginStrategy")===I.a.strategies.METAMASK?new A.a(window.ethereum):new A.a(d),l=h.utils.toHex((1e9*l).toString()),f=h.utils.toHex(8e4),m=this.depositAssetId,v=this.account.address,w=new h.eth.Contract(o,m),T=this.formatAmt,data=w.methods.transfer(e,T).encodeABI(),k={gasPrice:l,gas:f,to:m,from:v,value:"0x00",data:data},t.next=24,h.currentProvider.request({method:"eth_sendTransaction",params:[k],from:this.account.address});case 24:return _=t.sent,t.abrupt("return",{success:!0,result:_});case 28:return t.prev=28,t.t0=t.catch(0),t.t0.message.includes("WalletMiddleware")?(this.error="Please login to Metamask First",window.ethereum.enable()):t.t0.message.includes("MetaMask Tx Signature")?this.error="User denied transaction from Metamask":t.t0.message.includes("MetaMask Message Signature")?this.error="User denied to sign from Metamask":(this.error=t.t0.message.substring(0,60),this.$logger.debug(t.t0)),this.flowStatus=this.FAST_DEPOSIT_FLOW.FAILED,t.abrupt("return",{success:!1});case 33:case"end":return t.stop()}}),t,this,[[0,28]])}))),function(t,e,n){return v.apply(this,arguments)})},{key:"transferConnextFeeToLiquidityAddress",value:(m=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l,d,h,f,m,data,v,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=I.a.uiconfig.connextLiquidityAddress,n=this.networkMeta.abi("ChildERC20","pos"),r=Object(D.b)({networks:this.networks,primaryProvider:"parent"}),o=null,o=L.c.get("loginStrategy")===I.a.strategies.METAMASK?new A.a(window.ethereum):new A.a(r),c=o.utils.toHex(1e9.toString()),l=o.utils.toHex(1e5),d=this.depositAssetId,h=this.account.address,f=new o.eth.Contract(n,d),m=this.formatConnextFee,data=f.methods.transfer(e,m).encodeABI(),v={gasPrice:c,gas:l,to:d,from:h,value:"0x00",data:data},t.next=17,o.currentProvider.request({method:"eth_sendTransaction",params:[v],from:this.account.address});case 17:return w=t.sent,t.next=20,this.waitForReceipt(w);case 20:if(t.sent.status){t.next=24;break}return this.error="Receipt Failed for the transaction.",t.abrupt("return",{success:!1});case 24:return this.$logger.debug("txhash",w),t.abrupt("return",{success:!0,result:w});case 28:return t.prev=28,t.t0=t.catch(0),t.t0.message.includes("WalletMiddleware")?(this.error="Please login to Metamask First",window.ethereum.enable()):t.t0.message.includes("MetaMask Tx Signature")?this.error="User denied transaction from Metamask":t.t0.message.includes("MetaMask Message Signature")?this.error="User denied to sign from Metamask":(this.error=t.t0.message.substring(0,60),this.$logger.debug(t.t0)),this.flowStatus=this.FAST_WITHDRAW_FLOW.FAILED,t.abrupt("return",{success:!1});case 33:case"end":return t.stop()}}),t,this,[[0,28]])}))),function(){return m.apply(this,arguments)})},{key:"sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"waitForReceipt",value:(o=Object(l.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=new A.a.providers.HttpProvider(I.a.uiconfig.mainRPC),r=new A.a(n);case 3:return t.next=6,r.eth.getTransactionReceipt(e);case 6:if(o=t.sent,this.$logger.debug("receipt outside cond",o),!o){t.next=11;break}return this.$logger.debug("receipt inside condition",o),t.abrupt("return",o);case 11:return t.next=13,this.sleep(1e3);case 13:t.next=3;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),this.$logger.debug("Error in wait for receipt",t.t0);case 20:case"end":return t.stop()}}),t,this,[[0,17]])}))),function(t){return o.apply(this,arguments)})},{key:"handleDepositStore",value:(r=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.depositTxDoc(e).set({actionNeeded:!0,txHash:e,wappId:"polygon wallet",amount:n,isPoS:r,isConnext:!0,chainId:this.parentNetwork.chainId,tokenId:this.selectedToken.id,transactionStatus:R.c.IN_PROGRESS,createdAt:x.a.FieldValue.serverTimestamp(),updatedAt:x.a.FieldValue.serverTimestamp()});case 2:this.updateTransactions();case 3:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"updateDepositTxDoc",value:(n=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.depositTxDoc(data.txHash).update({transactionStatus:data.transactionStatus,connextWithdrawTx:data.connextWithdrawTx?data.connextWithdrawTx:"",updatedAt:x.a.FieldValue.serverTimestamp()});case 2:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"validations",value:(e=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(I.a.isMetaMaskConnected()||I.a.isWalletlinkConnected()&&Object(H.b)())){t.next=11;break}return e=new A.a(window.ethereum),t.next=4,e.eth.getChainId();case 4:if(t.sent===this.networks.main.chainId){t.next=10;break}return n=T.default.filter("connectedWallet")(this.loginStrategy),this.error="Please select ".concat(this.parentNetwork.name," Network in ").concat(n),this.metamaskValidation=!1,t.abrupt("return",!1);case 10:this.metamaskValidation=!0;case 11:if(!(""===this.toSendInToken||this.toSendInToken<0)){t.next=14;break}return this.error=this.$t("invalid.amount"),t.abrupt("return",!1);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"formatAmt",get:function(){var t=new E.a(this.toSendInToken),e=new E.a(this.selectedToken.decimals);return t.times(G.pow(e)).toString(10)}},{key:"formatConnextFee",get:function(){var t=new E.a(this.connextTransferFee);this.$logger.debug("val",t);var e=new E.a(this.selectedToken.decimals);return t.times(G.pow(e)).toString(10)}},{key:"amountInUsd",get:function(){return"NaN"===this.toSendInUSD?0:this.toSendInUSD}},{key:"parentNetwork",get:function(){return this.networks.main}},{key:"childNetwork",get:function(){return this.networks.matic}},{key:"networkID",get:function(){return this.parentNetwork.chainId}},{key:"isEtherToken",get:function(){return!(!this.selectedToken||"ETH"!==this.selectedToken.symbol)}},{key:"isPoSTransaction",get:function(){return this.transferMode===R.f.POS}},{key:"transferModeShownValue",get:function(){return this.isPoSTransaction?"PoS":"Plasma"}},{key:"formattedErrorMessage",get:function(){return this.error?this.error.substring(0,60):""}}]),z}(T.default))||r,z=(n(2912),n(34)),component=Object(z.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section position-absolute"},[n("div",{staticClass:"modal deposit-overview-modal-wrapper",class:{show:t.show}},[n("div",{staticClass:"modal-dialog w-sm-100 align-self-center",attrs:{role:"document"}},[n("div",{staticClass:"box s-modal"},[n("div",{staticClass:"box-header justify-content-center"},[t._e(),t._v(" "),n("div",{staticClass:"text-center align-self-center w-100"},[t.flowStatus===t.FAST_DEPOSIT_FLOW.CONFIRM||t.flowStatus===t.FAST_DEPOSIT_FLOW.FAILED?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Deposit Overview\n            ")]):t._e(),t._v(" "),t.flowStatus===t.FAST_DEPOSIT_FLOW.IN_PROGRESS?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Deposit in Progress\n            ")]):t._e(),t._v(" "),t.flowStatus===t.FAST_DEPOSIT_FLOW.COMPLETED?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Deposit Completed\n            ")]):t._e()]),t._v(" "),n("span",{staticClass:"align-self-center float-right cursor-pointer",on:{click:t.onCancel}},[n("svg-sprite-icon",{staticClass:"align-self-center float-left cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"box-body"},[n("div",{staticClass:"container-fluid"},[t.flowStatus===t.FAST_DEPOSIT_FLOW.CONFIRM||t.flowStatus===t.FAST_DEPOSIT_FLOW.FAILED?n("div",{staticClass:"confirm-box w-100"},[n("div",{staticClass:"confirm-box__top"},[n("div",{staticClass:"row ps-x-32 ps-y-4"},[t.selectedToken?n("div",{staticClass:"col-12 ps-x-0"},[n("div",{staticClass:"text-center confirm-description ms-t-12"},[t._v("\n                      Please confirm that you are sending "+t._s(t.toSendInToken)+"\n                      "+t._s(t.selectedToken.symbol)+" from\n                      "+t._s(t.parentNetwork.name)+" to "+t._s(t.childNetwork.name)+".\n                    ")]),t._v(" "),n("div",{staticClass:"row ps-x-18 ms-t-30 ms-b-12"},[n("div",{staticClass:"col-md-12 ps-x-0 ps-b-16"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"text-center font-caps font-medium pill ethereum-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v(t._s(t.parentNetwork.name))])]),t._v(" "),n("div",{staticClass:"arrow-anime-wrapper d-flex justify-content-center align-items-center align-self-center"},[n("span",{staticClass:"arrow primary position-absolute ps-r-20"},[n("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M1 1.5L6 7L0.999999 12.5",stroke:"#B8B2F9","stroke-width":"2"}})])]),t._v(" "),n("span",{staticClass:"arrow secondary position-absolute ps-r-20"},[n("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M10 1.5L15 7L10 12.5",stroke:"#AAC5F9","stroke-width":"2"}})])])]),t._v(" "),n("div",{staticClass:"text-center font-caps font-medium pill matic-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v(t._s(t.childNetwork.name))])])])])]),t._v(" "),n("div",{staticClass:"token-details text-center"},[n("div",{staticClass:"token-details__img d-flex justify-content-center align-self-center mx-auto"},[t.selectedToken.symbol&&t.tokenImage(t.selectedToken)?n("img",{staticClass:"align-self-center",attrs:{src:t.tokenImage(t.selectedToken),alt:"Token Image"}}):t.selectedToken.symbol?n("span",{staticClass:"align-self-center font-heading-large ps-t-2 font-semibold"},[t._v(t._s(t.selectedToken.symbol[0]))]):t._e()]),t._v(" "),n("div",{staticClass:"token-details__val font-heading-large font-bold ps-t-16 ps-b-6"},[t._v("\n                        "+t._s(t.toSendInToken)+"\n                        "+t._s(t.selectedToken.name.toUpperCase())+"\n                      ")]),t._v(" "),n("div",{staticClass:"token-details__usd font-body-small"},[t._v("\n                        $ "+t._s(t.toSendInUSD)+"\n                      ")])])]):t._e()])]),t._v(" "),n("div",{staticClass:"confirm-box__bottom"},[n("div",{staticClass:"row ps-x-32 ms-t-8"},[n("div",{staticClass:"col-md-12 ps-x-0 ps-t-16"},[n("div",{staticClass:"d-flex ps-b-16"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Estimated Transaction fee\n                      ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[n("div",{staticClass:"align-self-center cursor-pointer"},[0!==t.connextTransferFee?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            "+t._s(t.connextTransferFee)+"\n                            "+t._s(t.selectedToken.symbol)+"\n                          ")]):t._e(),t._v(" "),0===t.connextTransferFee?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e()])])]),t._v(" "),n("div",{staticClass:"d-flex ps-b-16"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Amount Received\n                      ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[n("div",{staticClass:"align-self-center cursor-pointer"},[0!==t.receivableAmount?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            "+t._s(t.receivableAmount)+" "+t._s(t.selectedToken.symbol)+"\n                          ")]):t._e(),t._v(" "),0===t.receivableAmount?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e()])])]),t._v(" "),n("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.settingBrowserNodeDisabled||t.ifRouterSupportsTransfer,label:t.loadingText,nature:"primary",size:"large"},on:{onClick:t.startCrossChainTransfer}})],1)]),t._v(" "),n("div",{staticClass:"row ps-x-14 ps-y-8"},[n("div",{staticClass:"font-caption text-center text-danger mx-auto"},[t._v("\n                    "+t._s(t.formattedErrorMessage)+"\n                  ")])])])]):t._e(),t._v(" "),t.flowStatus!==t.FAST_DEPOSIT_FLOW.CONFIRM&&t.flowStatus!==t.FAST_DEPOSIT_FLOW.FAILED?n("div",{staticClass:"w-100"},[n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-12 ps-x-0 ps-t-12 ps-b-14"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"font-body-medium align-self-center shaded-color"},[t._v("\n                      Transfer Amount\n                    ")]),t._v(" "),t.selectedToken?n("div",{staticClass:"font-body-medium align-self-center"},[t._v("\n                      "+t._s(t.toSendInToken)+"\n                      "+t._s(t.selectedToken.symbol)+"\n                    ")]):n("div",{staticClass:"font-body-medium align-self-center"},[t.selectedToken?n("div",[t._v("\n                        "+t._s(t.toSendInToken)+"\n                        "+t._s(t.selectedToken.symbol)+"\n                      ")]):t._e()])])])])]):t._e(),t._v(" "),t.flowStatus!==t.FAST_DEPOSIT_FLOW.CONFIRM&&t.flowStatus!==t.FAST_DEPOSIT_FLOW.FAILED?n("div",{staticClass:"modal-body-content"},[t.flowStatus===t.FAST_DEPOSIT_FLOW.IN_PROGRESS?n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-34"},[n("div",{staticClass:"loader-gif d-flex justify-content-center"},[n("lottie",{attrs:{options:t.defaultOptions,width:194,height:194}})],1),t._v(" "),n("div",[n("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-4"},[t._v("\n                      Transaction in process\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-medium shaded-color"},[t._v("\n                      DO NOT CLOSE THE TAB OR THE BROWSER.\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      This is an immediate transaction powered by Connext.\n                      Please wait until the transaction completes.\n                    ")]),t._v(" "),t.flowStatus===t.FAST_DEPOSIT_FLOW.DEPOSIT_PENDING?n("div",{staticClass:"font-body-small text-primary ps-t-18"},[""!==t.depositTransactionHash?n("a",{attrs:{href:t.explorerURL+"/tx/"+t.depositTransactionHash,target:"_blank"}},[t._v("\n                        View on Etherscan")]):t._e()]):t._e()])])]):t._e(),t._v(" "),t.flowStatus===t.FAST_DEPOSIT_FLOW.COMPLETED?n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-28"},[t._m(0),t._v(" "),n("div",[n("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                      Deposit Completed successfully.\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Your transfer is completed successfully. It will take\n                      some time to reflect in your account. Try refreshing\n                      your browser.\n                    ")]),t._v(" "),""!==t.depositTransactionHash?n("div",{staticClass:"font-body-small text-primary ps-t-20"},[n("a",{attrs:{href:t.explorerURL+"/tx/"+t.depositTransactionHash,target:"_blank"}},[t._v("\n                        View on Etherscan")])]):t._e()])])]):t._e()]):t._e()])])])])]),t._v(" "),n("div",{staticClass:"modal-backdrop",class:{show:t.show}})])}),o,!1,null,"ab441888",null);e.a=component.exports},1065:function(t,e,n){"use strict";var r,o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row ms-x-32 ps-t-50 w-100 text-center"},[n("h6",{staticClass:"w-100"},[t._v("\n                Loading the transaction status...\n              ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 ps-x-0"},[n("div",{staticClass:"font-body-large font-semibold lh-26"},[t._v("\n                    What’s supported\n                  ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"font-body-medium ps-l-12"},[t._v("\n                          Moving funds from Polygon to Ethereum\n                        ")]),t._v(" "),n("div",{staticClass:"font-body-small text-gray ps-t-2 ps-l-12"},[t._v("\n                          Withdraw of funds takes ~45 mins to 3 hour in PoS\n                          and ~7 days in Plasma.\n                        ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-12 ps-x-0 ps-t-24"},[n("div",{staticClass:"font-body-large font-semibold lh-26"},[t._v("\n                    What’s not supported\n                  ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"font-body-medium ps-l-12"},[t._v("\n                          Cancelling any withdraw\n                        ")]),t._v(" "),n("div",{staticClass:"font-body-small text-gray ps-t-2 ps-l-12"},[t._v("\n                          If you initiate the withdraw, you will not be able\n                          to cancel this transaction.\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row ps-t-20 ps-b-18"},[e("div",{staticClass:"col-12 ps-x-0 ps-t-6"},[e("div",{staticClass:"d-flex justify-content-center"},[e("img",{attrs:{src:n(608),alt:"Fuel"}})])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"font-body-medium font-semibold ps-b-8"},[t._v("\n                      Withdraw process for Plasma takes\n                      "),n("span",{staticClass:"purple-color"},[t._v("7 Days")]),t._v(" and three\n                      transactions.\n                    ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center font-caps font-medium pill ethereum-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v("Polygon network")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center font-caps font-medium pill matic-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v("Ethereum")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                        Your transaction might have been replaced, dropped or\n                        cancelled. Do you want to retry?\n                        "),n("a",{attrs:{href:"https://docs.matic.network/docs/faq/wallet-bridge-faq/#my-transaction-is-pending-for-too-long-what-can-i-do",target:"_blank"}},[t._v("Know more")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center ps-t-30"},[e("img",{attrs:{src:n(528),alt:"Success"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center"},[e("img",{attrs:{src:n(703),alt:"Success",height:"110px",width:"110px"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center ps-t-30"},[e("img",{attrs:{src:n(528),alt:"Success"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center ps-t-28"},[e("img",{attrs:{src:n(354),alt:"Success"}})])}],c=(n(79),n(76),n(80),n(94),n(64),n(100),n(113),n(67)),l=n(6),d=n(36),h=n(46),f=n(44),m=n(45),v=n(28),w=n(24),T=(n(52),n(66),n(95),n(141),n(160),n(188),n(299),n(39),n(87),n(81),n(140),n(426),n(189),n(12)),k=n(1008),_=n.n(k),x=n(59),C=n(177),y=n(210),S=n.n(y),O=n(30),I=n.n(O),E=n(48),P=n(56),A=n(8),R=n(17),D=n(15),L=n(144),F=n(5),N=n(57),j=n(62),M=n(243),W=n(234),H=n(49),B=n(515),$=n(72),U=n(681),G=n.n(U),V=n(105),z=n(1092),Y=n.n(z),K=n(1026);function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}function Z(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function X(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Z(Object(source),!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Z(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var J=new R.a(0),tt=new R.a(10),et=Object(x.a)({props:{show:{type:Boolean,required:!1,default:!1},cancel:{type:Function,required:!0},transferMode:{type:String,required:!0},toSendInToken:{type:String,required:!0},selectedToken:{type:Object,required:!1},burnTxHash:{type:String,required:!1},overviewCheck:{type:Boolean,required:!0},fromNotification:{type:Boolean,default:!1}},computed:X(X(X(X({},Object(E.b)("network",["networks","networkMeta"])),Object(E.b)("account",["account"])),Object(E.b)("transaction",["withdrawals","withdrawStatusList"])),Object(E.c)("account",["loginStrategy"])),mixins:[K.a],components:{Button:P.Button,ButtonLoader:P.ButtonLoader,Lottie:C.a,ProgressBar:P.ProgressBar,Progress:P.Progress,Icon:P.Icon,ContactSupportMessage:B.a}})(r=function(t){Object(f.a)(ht,t);var e,n,r,o,m,v,w,T,k,x,C,O,E,P,B,U,z,K,Z,X,et,nt,st,at,it,ot,ct,lt,ut=Q(ht);function ht(){var t;Object(d.a)(this,ht);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=ut.call.apply(ut,[this].concat(n))).error=null,t.dirty=!1,t.isLoading=!1,t.toSendInUSD=0,t.withdrawInitiatedGasFees=0,t.withdrawConfirmGasFees=0,t.withdrawCompleteGasFees=0,t.withdrawInitiatedGasPrice=J,t.overviewAccepted=t.overviewCheck,t.transactionStatus=F.h.DISCLAIMER,t.burnTransactionHash=t.burnTxHash?t.burnTxHash:"",t.mainExplorerURL=A.a.uiconfig.ethereumExplorerUrl,t.maticExplorerUrl=A.a.uiconfig.maticExplorerUrl,t.WITHDRAW_FLOW_STATUS=F.h,t.metamaskValidation=!0,t.defaultOptions={animationData:M},t.showNestedLoopModal=!1,t.cancelButtonClicked=!1,t.animationSpeed=1,t.progressBarStatus={COMPLETED:"completed",PROGRESS:"progress",INCOMPLETE:"incomplete"},t.metaTxFails=!1,t.withdrawConfirmGas=0,t.withdrawCompleteGas=0,t.posExitLink="https://polygon-withdraw.matic.network/",t.maticSupportLink=A.a.uiconfig.maticSupportLink,t.takesTooLong=!1,t.burnTransactionTakingTooLong=!1,t.getTypedData=function(t){var e=t.name,n=t.version,r=t.salt;return{types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"}],MetaTransaction:[{name:"nonce",type:"uint256"},{name:"from",type:"address"},{name:"functionSignature",type:"bytes"}]},domain:{name:e,version:n,verifyingContract:t.verifyingContract,salt:r},primaryType:"MetaTransaction",message:{nonce:t.nonce,from:t.from,functionSignature:t.functionSignature}}},t.getSignatureParameters=function(t,e){if(!t.utils.isHexStrict(e))throw new Error('Given value "'.concat(e,'" is not a valid hex string.'));var n=e.slice(0,66),s="0x".concat(e.slice(66,130)),r="0x".concat(e.slice(130,132));return r=t.utils.hexToNumber(r),[27,28].includes(r)||(r+=27),{r:n,s:s,v:r}},t}return Object(h.a)(ht,[{key:"resetForm",value:function(){this.error=null,this.metamaskValidation=!0,this.dirty=!1}},{key:"toggleNestedLoopModal",value:function(){this.showNestedLoopModal=!this.showNestedLoopModal,this.showNestedLoopModal||(this.cancelButtonClicked=!1)}},{key:"toggleCancelButtonClicked",value:function(){this.cancelButtonClicked=!this.cancelButtonClicked}},{key:"onBackToOverview",value:function(){this.overviewAccepted=!1,this.transactionStatus=F.h.OVERVIEW,this.resetForm(),this.$logger.track("withdrawFlow-depositDialog-backToOverviewPressed")}},{key:"onCancel",value:function(){this.overviewAccepted=!1,this.resetForm(),this.cancel(),this.$logger.track("withdrawFlow-cancelPressed")}},{key:"onOverviewAccepted",value:function(){this.overviewAccepted=!0,this.transactionStatus=F.h.CONFIRM_TRANSFER,this.$logger.track("withdrawFlow-overviewDialog-continuePressed")}},{key:"onDisclaimerAccepted",value:function(){this.transactionStatus=F.h.OVERVIEW,this.$logger.track("withdrawFlow-disclaimerDialog-continuePressed")}},{key:"isNotified",get:function(){var t=this;if(this.burnTransactionHash&&this.withdrawals){var filter=this.withdrawals.find((function(e){return e.txHash===t.burnTransactionHash}));if(filter)return filter.isNotified}return!1}},{key:"slackNotification",value:(lt=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(H.a)({url:"".concat(A.a.uiconfig.airdropUrl,"/plasma-withdraw-notification"),body:{address:this.account.address,burnTransactionHash:this.burnTransactionHash,toSendInToken:this.toSendInToken,symbol:this.selectedToken.symbol}});case 3:return t.next=5,D.a.actionRequiredTxDoc(this.burnTransactionHash).update({updatedAt:D.a.FieldValue.serverTimestamp(),isNotified:!0});case 5:this.cancel(),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return lt.apply(this,arguments)})},{key:"progressBarValsForPos",get:function(){var t={initialized:this.progressBarStatus.INCOMPLETE,withdraw:this.progressBarStatus.INCOMPLETE,completed:this.progressBarStatus.INCOMPLETE,explorerUrl:""};switch(this.flowStatus){case F.h.CONFIRM_TRANSFER:case F.h.INIT_FAILED:return t.initialized=this.progressBarStatus.INCOMPLETE,t.withdraw=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.INIT_PENDING:return t.initialized=this.progressBarStatus.PROGRESS,t.withdraw=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.INIT_BURNT:case F.h.INIT_CHECKPOINTED:case F.h.COMPLETE_FAILED:return t.initialized=this.progressBarStatus.COMPLETED,t.withdraw=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.COMPLETE_PENDING:return t.initialized=this.progressBarStatus.COMPLETED,t.withdraw=this.progressBarStatus.COMPLETED,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.COMPLETE_SUCCESS:return t.initialized=this.progressBarStatus.COMPLETED,t.withdraw=this.progressBarStatus.COMPLETED,t.completed=this.progressBarStatus.COMPLETED,t;default:return t}}},{key:"progressBarValsForPlasma",get:function(){var t={initialized:this.progressBarStatus.INCOMPLETE,checkpoint:this.progressBarStatus.INCOMPLETE,challengePeriod:this.progressBarStatus.INCOMPLETE,completed:this.progressBarStatus.INCOMPLETE,explorerUrl:""};switch(this.flowStatus){case F.h.CONFIRM_TRANSFER:case F.h.INIT_FAILED:return t.initialized=this.progressBarStatus.INCOMPLETE,t.checkpoint=this.progressBarStatus.INCOMPLETE,t.challengePeriod=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.INIT_PENDING:return t.initialized=this.progressBarStatus.PROGRESS,t.checkpoint=this.progressBarStatus.INCOMPLETE,t.challengePeriod=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.INIT_BURNT:return t.initialized=this.progressBarStatus.COMPLETED,t.checkpoint=this.progressBarStatus.PROGRESS,t.challengePeriod=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.INIT_CHECKPOINTED:case F.h.CONFIRM_PENDING:case F.h.PLASMA_EXIT_BADHASH:case F.h.CONFIRM_FAILED:return t.initialized=this.progressBarStatus.COMPLETED,t.checkpoint=this.progressBarStatus.COMPLETED,t.challengePeriod=this.progressBarStatus.INCOMPLETE,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.CONFIRM_SUCCESS:return t.initialized=this.progressBarStatus.COMPLETED,t.checkpoint=this.progressBarStatus.COMPLETED,t.challengePeriod=this.progressBarStatus.PROGRESS,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.CONFIRM_EXITABLE:case F.h.COMPLETE_FAILED:return t.initialized=this.progressBarStatus.COMPLETED,t.checkpoint=this.progressBarStatus.COMPLETED,t.challengePeriod=this.progressBarStatus.COMPLETED,t.completed=this.progressBarStatus.INCOMPLETE,t;case F.h.COMPLETE_PENDING:return t.initialized=this.progressBarStatus.COMPLETED,t.checkpoint=this.progressBarStatus.COMPLETED,t.challengePeriod=this.progressBarStatus.COMPLETED,t.completed=this.progressBarStatus.PROGRESS,t;case F.h.COMPLETE_SUCCESS:case F.h.COMPLETE_STUCK:return t.initialized=this.progressBarStatus.COMPLETED,t.checkpoint=this.progressBarStatus.COMPLETED,t.challengePeriod=this.progressBarStatus.COMPLETED,t.completed=this.progressBarStatus.COMPLETED,t;default:return t}}},{key:"calculateGasFees",value:(ct=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.isPoSTransaction){t.next=14;break}return t.next=4,Object(L.a)("POS_WITHDRAW");case 4:return e=t.sent,this.withdrawInitiatedGasFees=e.gasInUsd.toFixed(2),this.withdrawInitiatedGasPrice=e.gasPrice||J,t.next=9,Object(L.a)("POS_EXIT");case 9:n=t.sent,this.withdrawCompleteGasFees=n.gasInUsd.toFixed(2),this.withdrawCompleteGas=n.gas,t.next=29;break;case 14:return t.next=16,Object(L.a)("PLASMA_WITHDRAW");case 16:return e=t.sent,this.withdrawInitiatedGasFees=e.gasInUsd.toFixed(2),this.withdrawInitiatedGasPrice=e.gasPrice||J,t.next=21,Object(L.a)("PLASMA_CONFIRM_WITHDRAW");case 21:return n=t.sent,this.withdrawConfirmGasFees=n.gasInUsd.toFixed(2),this.withdrawConfirmGas=n.gas,t.next=26,Object(L.a)("PLASMA_PROCESS_EXIT");case 26:r=t.sent,this.withdrawCompleteGasFees=r.gasInUsd.toFixed(2),this.withdrawCompleteGas=r.gas;case 29:t.next=33;break;case 31:t.prev=31,t.t0=t.catch(0);case 33:case"end":return t.stop()}}),t,this,[[0,31]])}))),function(){return ct.apply(this,arguments)})},{key:"mounted",value:(ot=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tokenToUSD();case 2:return t.next=4,this.calculateGasFees();case 4:this.burnTxHash&&this.checkForExit();case 5:case"end":return t.stop()}}),t,this)}))),function(){return ot.apply(this,arguments)})},{key:"mntApiCall",value:(it=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=this.burnTxHash.toLowerCase(),t.next=4,Object(H.a)({url:"".concat(A.a.uiconfig.relatedTxApi,"/api/v1/exit"),query:{burnTransactionHash:e,isPos:this.isPoSTransaction}});case 4:return n=t.sent,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return it.apply(this,arguments)})},{key:"checkForExit",value:(at=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.$logger.track("withdraFlow-checkingExit",{burnTxHash:this.burnTxHash}),e=this.burnTxHash.toLowerCase(),t.next=5,this.mntApiCall();case 5:if(!(n=t.sent)||1!==n.status){t.next=20;break}if(!this.isPoSTransaction){t.next=14;break}return this.transactionStatus=F.h.COMPLETE_SUCCESS,t.next=11,D.a.actionRequiredTxDoc(e).update({transactionStatus:F.h.COMPLETE_SUCCESS,exitTxHash:n.result,updatedAt:D.a.FieldValue.serverTimestamp()});case 11:this.$logger.track("withdrawFlow-checkingExit-completed",{exitTxHash:n.result,bridge:"PoS"}),t.next=18;break;case 14:return this.transactionStatus=F.h.CONFIRM_SUCCESS,t.next=17,D.a.actionRequiredTxDoc(e).update({transactionStatus:F.h.CONFIRM_SUCCESS,relatedTxHash:n.result,updatedAt:D.a.FieldValue.serverTimestamp()});case 17:this.$logger.track("withdrawFlow-checkingExit-completed",{exitTxHash:n.result,bridge:"Plasma"});case 18:t.next=29;break;case 20:return r=D.a.actionRequiredTxDoc(e),t.next=23,r.update({tempTimestamp:D.a.FieldValue.serverTimestamp()});case 23:return t.next=25,r.get();case 25:o=t.sent,c=o.get("tempTimestamp").seconds,l=o.get("updatedAt").seconds,c>l+3600&&(this.withdrawStatusList&&this.withdrawStatusList[e]&&(this.withdrawStatusList[e].code===F.h.CONFIRM_PENDING||this.withdrawStatusList[e].code===F.h.COMPLETE_PENDING)?this.takesTooLong=!0:this.withdrawStatusList&&this.withdrawStatusList[e]&&this.withdrawStatusList[e].code===F.h.INIT_PENDING&&(this.burnTransactionTakingTooLong=!0));case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(0),console.log(t.t0);case 34:case"end":return t.stop()}}),t,this,[[0,31]])}))),function(){return at.apply(this,arguments)})},{key:"tokenToUSD",value:(st=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.toSendInToken&&(e=this.selectedToken?this.selectedToken.usdValue:0,this.toSendInUSD=(parseFloat(e)*parseFloat(this.toSendInToken)).toFixed(3),"NaN"===this.toSendInUSD&&(this.toSendInUSD=0));case 1:case"end":return t.stop()}}),t,this)}))),function(){return st.apply(this,arguments)})},{key:"validations",value:(nt=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""===this.toSendInToken||this.toSendInToken<0)){t.next=4;break}return this.dirty=!0,this.error=this.$t("invalid.amount"),t.abrupt("return",!1);case 4:if(this.selectedToken.getFullBalance(this.networkID).gte(parseFloat(this.toSendInToken))){t.next=8;break}return this.dirty=!0,this.error=this.$t("invalid.balance"),t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this)}))),function(){return nt.apply(this,arguments)})},{key:"metamaskValidationForBurn",value:(et=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(A.a.isMetaMaskConnected()||A.a.isWalletlinkConnected()&&Object(V.b)())){t.next=19;break}return e=new I.a(window.ethereum),t.next=4,e.eth.getChainId();case 4:if(t.sent===this.networks.matic.chainId){t.next=19;break}return t.prev=6,t.next=9,Object(W.i)();case 9:return this.metamaskValidation=!0,t.abrupt("return",!0);case 13:return t.prev=13,t.t0=t.catch(6),this.dirty=!0,this.metamaskValidation=!1,this.error="selectMatic",t.abrupt("return",!1);case 19:return this.metamaskValidation=!0,t.abrupt("return",!0);case 21:case"end":return t.stop()}}),t,this,[[6,13]])}))),function(){return et.apply(this,arguments)})},{key:"metamaskValidationForExit",value:(X=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(A.a.isMetaMaskConnected()||A.a.isWalletlinkConnected()&&Object(V.b)())){t.next=10;break}return e=new I.a(window.ethereum),t.next=4,e.eth.getChainId();case 4:if(t.sent===this.networks.main.chainId){t.next=10;break}return this.dirty=!0,this.metamaskValidation=!1,this.error="selectMain",t.abrupt("return",!1);case 10:return this.metamaskValidation=!0,t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)}))),function(){return X.apply(this,arguments)})},{key:"updateTransactions",value:(Z=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$store.dispatch("token/reloadBalances"),t.next=3,this.$store.dispatch("transaction/fetchWithdrawals");case 3:case"end":return t.stop()}}),t,this)}))),function(){return Z.apply(this,arguments)})},{key:"initBurnPos",value:(K=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,d,h,f,data,m,v,w,T,k,x,C,y,S,O,E,P,R,D,M,W=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.validations();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:if(this.dirty=!1,this.error="",this.$logger.track("withdrawFlow-burn-initiated",{tokenName:this.selectedToken.name,amount:this.toSendInToken,bridge:"PoS",isMetaTx:this.selectedToken.isMetaTx}),t.prev=9,!this.isPoSTransaction||!this.selectedToken.isMetaTx||this.metaTxFails){t.next=43;break}return e=this.selectedToken.addresses[this.networkID],n=this.formatAmt,r=this.networkMeta.abi("ChildERC20","pos"),o=new I.a.providers.HttpProvider(A.a.uiconfig.maticRPC),c=new I.a(o),d=c.utils.toHex(this.networkMeta.Matic.ChainId),h=c.utils.padLeft(d,64),t.next=20,c.eth.abi.encodeFunctionCall({name:"withdraw",type:"function",inputs:[{name:"amount",type:"uint256"}]},[n]);case 20:return f=t.sent,t.next=23,c.eth.abi.encodeFunctionCall({name:"getNonce",type:"function",inputs:[{name:"user",type:"address"}]},[this.account.address]);case 23:return data=t.sent,t.next=26,c.eth.call({to:e,data:data});case 26:return m=t.sent,v=new c.eth.Contract(r,e),t.next=30,v.methods.name().call();case 30:w=t.sent,T=this.getTypedData({name:w,version:"1",salt:h,verifyingContract:e,nonce:parseInt(m),from:this.account.address,functionSignature:f}),k=Object(N.b)({networks:this.networks,primaryProvider:"parent"}),C="",y=null,j.c.get("loginStrategy")===A.a.strategies.METAMASK?(x=JSON.stringify(T),C="eth_signTypedData_v3",y=new I.a(window.ethereum)):j.c.get("loginStrategy")===A.a.strategies.WALLETCONNECT?(x=JSON.stringify(T),C="eth_signTypedData",y=new I.a(k)):j.c.get("loginStrategy")===A.a.strategies.WALLETLINK&&(x=T,C="eth_signTypedData_v3",y=new I.a(k)),S=new _.a(o,{apiKey:A.a.uiconfig.biconomyApiKey}),O=new I.a(S),E=new O.eth.Contract(r,e),P=[this.account.address,x],S.onEvent(S.READY,Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(n,r){var o,d,h,s,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=13;break}if(W.$logger.track("withdrawFlow-burn-signingError",{err:n,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"}),W.dirty=!0,-32603!==n.code){t.next=10;break}return t.next=6,W.metamaskValidationForBurn();case 6:W.error="metaTxSignError",W.metaTxFails=!0,t.next=11;break;case 10:W.error=Object($.a)(n,{address:W.account.address,transactionPage:"WITHDRAW_MODAL",token:W.selectedToken.name});case 11:return W.isLoading=!1,t.abrupt("return");case 13:if(W.$logger.track("withdrawFlow-burn-signingSuccessful",{funcSig:f,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"}),o={intent:r.result,fnSig:f,from:W.account.address,contractAddress:e},!r.result){t.next=30;break}return W.transactionStatus=F.h.INIT_PENDING,t.prev=17,d=W.getSignatureParameters(c,o.intent),h=d.r,s=d.s,m=d.v,t.next=21,E.methods.executeMetaTransaction(o.from,o.fnSig,h,s,m).send({from:o.from,gas:8e5}).on("transactionHash",function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.burnTransactionHash=e,W.burnTransactionTakingTooLong=!1,t.next=4,W.handleBurnWithdrawTx({txHash:e,amount:W.toSendInToken,tokenId:W.selectedToken.id,isPoS:!0});case 4:return t.next=6,W.updateTransactions();case 6:W.$logger.track("withdrawFlow-burn-executingTx",{txHash:e.transactionHash,amount:W.toSendInToken,tokenName:W.selectedToken.name,bridge:"PoS",isMetaTx:W.selectedToken.isMetaTx});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).on("receipt",function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Burn Receipt ",e),W.transactionStatus=F.h.INIT_BURNT,t.next=4,W.handleBurnWithdrawReceiptTx({txHash:e.transactionHash,blockNumber:e.blockNumber,isPoS:!0});case 4:W.$logger.track("withdrawFlow-burn-successful",{receipt:e,burnHash:e.transactionHash,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).on("error",(function(t){W.dirty=!0,W.isLoading=!1,W.transactionStatus=F.h.INIT_FAILED,W.error=Object($.a)(t,{address:W.account.address,transactionPage:"WITHDRAW_MODAL",token:W.selectedToken.name}),W.$logger.track("withdrawFlow-burn-failed",{error:t,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"})}));case 21:t.next=30;break;case 23:t.prev=23,t.t0=t.catch(17),W.$logger.error(t.t0).capture=!0,W.dirty=!0,W.isLoading=!1,W.transactionStatus=F.h.INIT_FAILED,W.error=Object($.a)(t.t0,{address:W.account.address,transactionPage:"WITHDRAW_MODAL",token:W.selectedToken.name});case 30:case"end":return t.stop()}}),t,null,[[17,23]])})));return function(e,n){return t.apply(this,arguments)}}(),y.currentProvider.sendAsync({method:C,params:P,from:W.account.address},n)}catch(t){W.$logger.error(t).capture=!0,W.currentStep=W.sendFlowProgressTrack.SEND_TOKEN,W.dirty=!0,W.isLoading=!1,W.error=Object($.a)(t,{address:W.account.address,transactionPage:"WITHDRAW_MODAL",token:W.selectedToken.name})}case 1:case"end":return t.stop()}}),t)})))).onEvent(S.ERROR,(function(t,e){W.$logger.track("withdrawFlow-burn-biconomyNotInitialisedError",{error:t,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"}),W.dirty=!0,W.transactionStatus=F.h.INIT_FAILED,W.isLoading=!1,W.error=Object($.a)(t,{address:W.account.address,transactionPage:"WITHDRAW_MODAL",token:W.selectedToken.name})})),t.next=66;break;case 43:return t.next=45,this.metamaskValidationForBurn();case 45:if(t.sent){t.next=48;break}return this.isLoading=!1,t.abrupt("return");case 48:return t.prev=48,t.next=51,Object(L.a)("POS_WITHDRAW");case 51:R=t.sent,this.withdrawInitiatedGasPrice=R.gasPrice||J,t.next=57;break;case 55:t.prev=55,t.t0=t.catch(48);case 57:return this.metamaskValidation=!0,this.dirty=!1,this.error="",D=this.selectedToken.addresses[this.networkID],t.next=63,this.getMaticPOSBurn();case 63:return M=t.sent,t.next=66,M.burnERC20(D,this.formatAmt,{from:this.account.address,onTransactionHash:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.burnTransactionHash=e,W.burnTransactionTakingTooLong=!1,W.transactionStatus=F.h.INIT_PENDING,t.next=5,W.handleBurnWithdrawTx({txHash:e,amount:W.toSendInToken,tokenId:W.selectedToken.id,isPoS:!0});case 5:return t.next=7,W.updateTransactions();case 7:W.$logger.track("withdrawFlow-burn-executingTx",{txHash:e.transactionHash,amount:W.toSendInToken,tokenName:W.selectedToken.name,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onReceipt:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.transactionStatus=F.h.INIT_BURNT,t.next=3,W.handleBurnWithdrawReceiptTx({txHash:e.transactionHash,blockNumber:e.blockNumber,isPoS:!0});case 3:W.$logger.track("withdrawFlow-burn-successful",{receipt:e,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"}),W.$store.dispatch("token/reloadBalances");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:W.dirty=!0,W.transactionStatus=F.h.INIT_FAILED,W.error=Object($.a)(e,{address:W.account.address,transactionPage:"WITHDRAW_MODAL",token:W.selectedToken.name,amount:W.formatAmt}),W.isLoading=!1,W.$logger.track("withdrawFlow-burn-failed",{error:e,isMetaTx:W.selectedToken.isMetaTx,bridge:"PoS"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 66:t.next=82;break;case 68:if(t.prev=68,t.t1=t.catch(9),this.$logger.track("withdrawFlow-burn-failed",{error:t.t1,isMetaTx:this.selectedToken.isMetaTx,bridge:"PoS"}),this.dirty=!0,this.$logger.error(t.t1).capture=!0,-32603!==t.t1.code){t.next=80;break}return t.next=76,this.metamaskValidationForBurn();case 76:this.error="metaTxSignError",this.metaTxFails=!0,t.next=81;break;case 80:this.error=Object($.a)(t.t1,{address:this.account.address,transactionPage:"WITHDRAW_MODAL",token:this.selectedToken.name,amount:this.formatAmt});case 81:this.isLoading=!1;case 82:case"end":return t.stop()}}),t,this,[[9,68],[48,55]])}))),function(){return K.apply(this,arguments)})},{key:"initBurnPlasma",value:(z=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.validations();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:return t.next=8,this.metamaskValidationForBurn();case 8:if(t.sent){t.next=11;break}return this.isLoading=!1,t.abrupt("return");case 11:if(this.metamaskValidation=!0,this.dirty=!1,this.error="",this.$logger.track("withdrawFlow-burn-initiated",{tokenName:this.selectedToken.name,amount:this.toSendInToken,bridge:"Plasma"}),t.prev=15,this.isPoSTransaction){t.next=34;break}return e=this.selectedToken.addresses[this.networkID],t.next=20,this.getMaticBurn();case 20:return n=t.sent,t.next=23,n.initialize();case 23:return t.prev=23,t.next=26,Object(L.a)("PLASMA_WITHDRAW");case 26:r=t.sent,this.withdrawInitiatedGasPrice=r.gasPrice||J,t.next=32;break;case 30:t.prev=30,t.t0=t.catch(23);case 32:return t.next=34,n.startWithdraw(e,this.formatAmt,{from:this.account.address,onTransactionHash:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.burnTransactionHash=e,o.burnTransactionTakingTooLong=!1,o.transactionStatus=F.h.INIT_PENDING,t.next=5,o.handleBurnWithdrawTx({txHash:e,amount:o.toSendInToken,tokenId:o.selectedToken.id,isPoS:!1});case 5:return t.next=7,o.updateTransactions();case 7:o.$logger.track("withdrawFlow-burn-executingTx",{txHash:e.transactionHash,amount:o.toSendInToken,tokenName:o.selectedToken.name,bridge:"Plasma"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onReceipt:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.handleBurnWithdrawReceiptTx({txHash:e.transactionHash,blockNumber:e.blockNumber,isPoS:!1});case 2:o.isLoading=!1,o.$logger.track("withdrawFlow-burn-successful",{receipt:e,bridge:"Plasma"}),o.$store.dispatch("token/reloadBalances");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.transactionStatus=F.h.INIT_FAILED,o.dirty=!0,o.isLoading=!1,o.error=Object($.a)(e,{address:o.account.address,transactionPage:"WITHDRAW_MODAL",token:o.selectedToken.name,amount:o.formatAmt}),o.$logger.track("withdrawFlow-burn-failed",{error:e,bridge:"Plasma"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 34:t.next=42;break;case 36:t.prev=36,t.t1=t.catch(15),this.$logger.error(t.t1).capture=!0,this.dirty=!0,this.error=Object($.a)(t.t1,{address:this.account.address,transactionPage:"WITHDRAW_MODAL",token:this.selectedToken.name,amount:this.formatAmt}),this.isLoading=!1;case 42:case"end":return t.stop()}}),t,this,[[15,36],[23,30]])}))),function(){return z.apply(this,arguments)})},{key:"initConfirmWithdraw",value:(U=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,d,h,f,m,v,w,T,data,k,_,x=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.metamaskValidationForExit();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:if(this.$logger.track("withdrawFlow-plasmaWithdraw-initiated",{burnHash:this.burnTransactionHash}),this.dirty=!1,this.error="",this.metamaskValidation=!0,t.prev=10,this.isPoSTransaction||!this.burnTransactionHash){t.next=47;break}return t.next=14,Promise.all([this.mntApiCall(),this.getPlasmaWithdrawProof()]);case 14:if(e=t.sent,n=Object(c.a)(e,2),r=n[0],o=n[1],!r||1!==r.status){t.next=22;break}return t.next=21,D.a.actionRequiredTxDoc(txHash).update({transactionStatus:F.h.CONFIRM_SUCCESS,relatedTxHash:r.result,updatedAt:D.a.FieldValue.serverTimestamp()});case 21:return t.abrupt("return");case 22:if(!o){t.next=39;break}return this.$logger.track("withdrawFlow-plasmaWithdraw-proofGenerated",{burnHash:this.burnTransactionHash,networkAPI:!0,proof:o}),d=Object(N.b)({networks:this.networks,primaryProvider:"parent"}),h=new I.a(d),f=this.networkMeta.abi("ERC20PredicateBurnOnly"),m=this.networks.main.contracts.ERC20Predicate,v=new h.eth.Contract(f,m),w=Object(N.a)({networks:this.networks,primaryProvider:"parent"},A.a.uiconfig.mainInfuraRPC),T=new I.a(w),data=T.eth.abi.encodeFunctionCall({name:"startExitWithBurntTokens",type:"function",inputs:[{type:"bytes",name:"inputData"}]},[o]),t.next=34,T.eth.estimateGas({to:m,from:this.account.address,data:data});case 34:return k=t.sent,t.next=37,v.methods.startExitWithBurntTokens(o).send({from:this.account.address,gas:k}).on("transactionHash",function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.withdrawStatusList[x.burnTransactionHash].code=F.h.CONFIRM_PENDING,x.burnTransactionTakingTooLong=!1,x.transactionStatus=F.h.CONFIRM_PENDING,t.next=5,x.handleConfirmWithdrawTx({burnTxHash:x.burnTransactionHash,txHash:e,isPoS:!1});case 5:return x.takesTooLong=!1,t.next=8,x.updateTransactions();case 8:x.$logger.track("withdrawFlow-plasmaWithdraw-successful",{burnHash:x.burnTransactionHash,txHash:e.transactionHash,gas:k});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).on("error",(function(t,e){x.isLoading=!1,x.dirty=!0,x.error=Object($.a)(t,{address:x.account.address,transactionPage:"WITHDRAW_MODAL",token:x.selectedToken.name}),x.transactionStatus=F.h.CONFIRM_FAILED,x.$logger.track("withdrawFlow-plasmaWithdraw-failed",{burnHash:x.burnTransactionHash,error:t,gas:k})}));case 37:t.next=47;break;case 39:return t.next=41,this.getMatic();case 41:return _=t.sent,t.next=44,_.initialize();case 44:return this.$logger.track("withdrawFlow-plasmaWithdraw-proofGenerated",{burnHash:this.burnTransactionHash,networkAPI:!1}),t.next=47,_.withdraw(this.burnTransactionHash,{from:this.account.address,onTransactionHash:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.withdrawStatusList[x.burnTransactionHash].code=F.h.CONFIRM_PENDING,x.burnTransactionTakingTooLong=!1,x.transactionStatus=F.h.CONFIRM_PENDING,t.next=5,x.handleConfirmWithdrawTx({burnTxHash:x.burnTransactionHash,txHash:e,isPoS:!1});case 5:return x.takesTooLong=!1,t.next=8,x.updateTransactions();case 8:x.$logger.track("withdrawFlow-plasmaWithdraw-successful",{burnHash:x.burnTxHash,txHash:e.transactionHash});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.isLoading=!1,x.dirty=!0,x.error=Object($.a)(e,{address:x.account.address,transactionPage:"WITHDRAW_MODAL",token:x.selectedToken.name}),x.transactionStatus=F.h.CONFIRM_FAILED,x.$logger.track("withdrawFlow-plasmaWithdraw-failed",{burnHash:x.burnTxHash,error:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 47:t.next=55;break;case 49:t.prev=49,t.t0=t.catch(10),this.$logger.error(t.t0).capture=!0,this.dirty=!0,this.error=Object($.a)(t.t0,{address:this.account.address,transactionPage:"WITHDRAW_MODAL",token:this.selectedToken.name}),this.isLoading=!1;case 55:case"end":return t.stop()}}),t,this,[[10,49]])}))),function(){return U.apply(this,arguments)})},{key:"initPosExit",value:(B=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,d,h,f,m,v,w,T,data,k,_,x=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.metamaskValidationForExit();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:if(this.dirty=!1,this.error="",this.metamaskValidation=!0,this.$logger.track("withdrawFlow-posExit-initiated",{burnHash:this.burnTransactionHash}),t.prev=10,!this.isPoSTransaction||!this.burnTransactionHash){t.next=45;break}return t.next=14,Promise.all([this.mntApiCall(),this.getPoSExitProof()]);case 14:if(e=t.sent,n=Object(c.a)(e,2),r=n[0],o=n[1],!r||1!==r.status){t.next=22;break}return t.next=21,D.a.actionRequiredTxDoc(txHash).update({transactionStatus:F.h.COMPLETE_SUCCESS,exitTxHash:r.result,updatedAt:D.a.FieldValue.serverTimestamp()});case 21:return t.abrupt("return");case 22:if(!o){t.next=39;break}return this.$logger.track("withdrawFlow-posExit-proofGenerated",{burnHash:this.burnTransactionHash,proof:o,networkAPI:!0}),d=Object(N.b)({networks:this.networks,primaryProvider:"parent"}),h=new I.a(d),f=this.networkMeta.abi("RootChainManager","pos"),m=this.networks.main.posContracts.RootChainManagerProxy,v=new h.eth.Contract(f,m),w=Object(N.a)({networks:this.networks,primaryProvider:"parent"},A.a.uiconfig.mainInfuraRPC),T=new I.a(w),data=T.eth.abi.encodeFunctionCall({name:"exit",type:"function",inputs:[{type:"bytes",name:"inputData"}]},[o]),t.next=34,T.eth.estimateGas({to:m,from:this.account.address,data:data});case 34:return k=t.sent,t.next=37,v.methods.exit(o).send({from:this.account.address,gas:k}).on("transactionHash",function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.withdrawStatusList[x.burnTransactionHash].code=F.h.COMPLETE_PENDING,x.burnTransactionTakingTooLong=!1,x.transactionStatus=F.h.COMPLETE_PENDING,t.next=5,x.handleExitWithdrawTx({burnTxHash:x.burnTransactionHash,txHash:e,isPoS:!0});case 5:return x.takesTooLong=!1,t.next=8,x.updateTransactions();case 8:x.$logger.track("withdrawFlow-posExit-successful",{burnHash:x.burnTransactionHash,txHash:e.transactionHash,gas:k});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).on("error",(function(t,e){x.isLoading=!1,x.transactionStatus=F.h.COMPLETE_FAILED,x.dirty=!0,x.error=Object($.a)(t,{address:x.account.address,transactionPage:"WITHDRAW_MODAL",token:x.selectedToken.name}),x.$logger.track("withdrawFlow-posExit-failed",{burnHash:x.burnTransactionHash,error:t,gas:k})}));case 37:t.next=45;break;case 39:return t.next=41,this.getMaticPOS();case 41:return _=t.sent,this.$logger.track("withdrawFlow-posExit-proofGenerated",{burnHash:this.burnTransactionHash,networkAPI:!1}),t.next=45,_.exitERC20(this.burnTransactionHash,{from:this.account.address,onTransactionHash:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x.withdrawStatusList[x.burnTransactionHash].code=F.h.COMPLETE_PENDING,x.burnTransactionTakingTooLong=!1,x.transactionStatus=F.h.COMPLETE_PENDING,t.next=5,x.handleExitWithdrawTx({burnTxHash:x.burnTransactionHash,txHash:e,isPoS:!0});case 5:return x.takesTooLong=!1,t.next=8,x.updateTransactions();case 8:x.$logger.track("withdrawFlow-posExit-successful",{burnHash:x.burnTransactionHash,txHash:e});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:x.isLoading=!1,x.transactionStatus=F.h.COMPLETE_FAILED,x.dirty=!0,x.error=Object($.a)(e,{address:x.account.address,transactionPage:"WITHDRAW_MODAL",token:x.selectedToken.name}),x.$logger.track("withdrawFlow-posExit-failed",{burnHash:x.burnTransactionHash,error:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 45:t.next=54;break;case 47:t.prev=47,t.t0=t.catch(10),this.$logger.track("withdrawFlow-posExit-failed",{burnHash:this.burnTransactionHash,error:t.t0}),this.$logger.error(t.t0).capture=!0,this.dirty=!0,this.error=Object($.a)(t.t0,{address:this.account.address,transactionPage:"WITHDRAW_MODAL",token:this.selectedToken.name}),this.isLoading=!1;case 54:case"end":return t.stop()}}),t,this,[[10,47]])}))),function(){return B.apply(this,arguments)})},{key:"processExitPosition",value:(P=Object(l.a)(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(H.a)({url:"".concat(A.a.uiconfig.relatedTxApi,"/api/v1/plasma-exit/position"),query:{burnTransactionHash:e}});case 3:if(!((n=t.sent)&&n.success&&n.result&&n.result.plasmaExitsBefore>=0)){t.next=15;break}if(!((r=n.result.plasmaExitsBefore)<3)){t.next=10;break}return t.abrupt("return",3);case 10:if(!(r>=5)){t.next=14;break}return t.abrupt("return",5);case 14:return t.abrupt("return",r+1);case 15:return t.abrupt("return",3);case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",3);case 21:case"end":return t.stop()}}),t,null,[[0,18]])}))),function(t){return P.apply(this,arguments)})},{key:"initPlasmaExit",value:(E=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,this.metamaskValidationForExit();case 3:if(t.sent){t.next=6;break}return this.isLoading=!1,t.abrupt("return");case 6:if(this.$logger.track("withdrawFlow-plasmaExit-intiated",{burnHash:this.burnTransactionHash,tokenName:this.selectedToken.name}),this.dirty=!1,this.error="",this.metamaskValidation=!0,t.prev=10,this.isPoSTransaction){t.next=24;break}return e=this.selectedToken.addresses[this.parentNetwork.chainId],t.next=15,this.getMatic();case 15:return n=t.sent,t.next=18,n.initialize();case 18:return t.next=20,this.processExitPosition(this.burnTransactionHash);case 20:return r=t.sent,o=25e4*r,t.next=24,n.processExits(e,{from:this.account.address,gas:o,onTransactionHash:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.withdrawStatusList[c.burnTransactionHash].code=F.h.COMPLETE_PENDING,c.burnTransactionTakingTooLong=!1,c.transactionStatus=F.h.COMPLETE_PENDING,t.next=5,c.handleExitWithdrawTx({burnTxHash:c.burnTransactionHash,txHash:e,isPoS:!1});case 5:return t.next=7,c.updateTransactions();case 7:c.$logger.track("withdrawFlow-plasmaExit-successful",{burnHash:c.burnTransactionHash,txHash:e.transactionHash});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onError:function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.isLoading=!1,c.transactionStatus=F.h.COMPLETE_FAILED,c.dirty=!0,c.error=Object($.a)(e,{address:c.account.address,transactionPage:"WITHDRAW_MODAL",token:c.selectedToken.name}),c.$logger.track("withdrawFlow-plasmaExit-failed",{burnHash:c.burnTransactionHash,error:e});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()});case 24:t.next=32;break;case 26:t.prev=26,t.t0=t.catch(10),this.$logger.error(t.t0).capture=!0,this.dirty=!0,this.error=Object($.a)(t.t0,{address:this.account.address,transactionPage:"WITHDRAW_MODAL",token:this.selectedToken.name}),this.isLoading=!1;case 32:case"end":return t.stop()}}),t,this,[[10,26]])}))),function(){return E.apply(this,arguments)})},{key:"getPoSExitProof",value:(O=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.burnTransactionHash){t.next=7;break}return t.next=4,Object(H.a)({url:"".concat(A.a.uiconfig.networkApiHost,"/exit-payload/").concat(this.burnTransactionHash),query:{eventSignature:this.selectedToken.burnEventSignature||"0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef"}});case 4:if(!(e=t.sent)||!e.result){t.next=7;break}return t.abrupt("return",e.result);case 7:return t.abrupt("return",null);case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return O.apply(this,arguments)})},{key:"getPlasmaWithdrawProof",value:(C=Object(l.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!this.burnTransactionHash){t.next=7;break}return t.next=4,Object(H.a)({url:"".concat(A.a.uiconfig.networkApiHost,"/exit-payload/").concat(this.burnTransactionHash),query:{eventSignature:"0xebff2602b3f468259e1e99f613fed6691f3a6526effe6ef3e768ba7ae7a36c4f"}});case 4:if(!(e=t.sent)||!e.result){t.next=7;break}return t.abrupt("return",e.result);case 7:return t.abrupt("return",null);case 10:return t.prev=10,t.t0=t.catch(0),console.log(t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(){return C.apply(this,arguments)})},{key:"handleBurnWithdrawTx",value:(x=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.actionRequiredTxDoc(data.txHash).set({actionTaken:!1,txHash:data.txHash,amount:data.amount,status:1,transactionStatus:F.h.INIT_PENDING,isPoS:data.isPoS,chainId:this.networks.main.chainId,tokenId:data.tokenId,wappId:"polygon wallet",createdAt:D.a.FieldValue.serverTimestamp(),updatedAt:D.a.FieldValue.serverTimestamp()});case 2:this.updateTransactions(),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return x.apply(this,arguments)})},{key:"handleBurnWithdrawReceiptTx",value:(k=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.actionRequiredTxDoc(data.txHash).update({blockNumber:data.blockNumber,updatedAt:D.a.FieldValue.serverTimestamp()});case 2:this.updateTransactions(),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"handleConfirmWithdrawTx",value:(T=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.actionRequiredTxDoc(data.burnTxHash).update({relatedTxHash:data.txHash,actionTaken:!0,status:3,updatedAt:D.a.FieldValue.serverTimestamp(),transactionStatus:F.h.CONFIRM_PENDING});case 2:this.updateTransactions(),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)})},{key:"handleExitWithdrawTx",value:(w=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.actionRequiredTxDoc(data.burnTxHash).update({exitTxHash:data.txHash,updatedAt:D.a.FieldValue.serverTimestamp(),transactionStatus:F.h.COMPLETE_PENDING});case 2:this.updateTransactions(),this.isLoading=!1;case 4:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"handlePosExitComplete",value:(v=Object(l.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D.a.actionRequiredTxDoc(e).update({updatedAt:D.a.FieldValue.serverTimestamp(),transactionStatus:F.h.COMPLETE_SUCCESS});case 2:this.updateTransactions(),this.cancel(),this.isLoading=!1;case 5:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"cancelTransactionInFirebase",value:(m=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.burnTransactionHash){t.next=5;break}return t.next=3,D.a.actionRequiredTxDoc(this.burnTransactionHash).update({transactionStatus:F.h.ALTERED_EXTERNALLY,updatedAt:D.a.FieldValue.serverTimestamp()});case 3:this.updateTransactions(),this.cancel();case 5:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"getMaticBurn",value:(o=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(N.a)({networks:this.networks,primaryProvider:"parent"}),n=Object(N.b)({networks:this.networks,primaryProvider:"child"}),t.abrupt("return",new S.a({network:A.a.uiconfig.matic.deployment.network,version:A.a.uiconfig.matic.deployment.version,parentProvider:e,maticProvider:n}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"getMatic",value:(r=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(N.a)({networks:this.networks,primaryProvider:"child"}),n=Object(N.b)({networks:this.networks,primaryProvider:"parent"}),t.abrupt("return",new S.a({network:A.a.uiconfig.matic.deployment.network,version:A.a.uiconfig.matic.deployment.version,parentProvider:n,maticProvider:e}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getMaticPOSBurn",value:(n=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(N.a)({networks:this.networks,primaryProvider:"parent"}),n=Object(N.b)({networks:this.networks,primaryProvider:"child"}),t.next=4,new y.MaticPOSClient({network:A.a.uiconfig.matic.deployment.network,version:A.a.uiconfig.matic.deployment.version,parentProvider:e,maticProvider:n,posRootChainManager:this.networkMeta.Main.POSContracts.RootChainManagerProxy,posERC20Predicate:this.networkMeta.Main.POSContracts.ERC20PredicateProxy,posERC721Predicate:this.networkMeta.Main.POSContracts.ERC721PredicateProxy});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getMaticPOS",value:(e=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(N.a)({networks:this.networks,primaryProvider:"child"}),n=Object(N.b)({networks:this.networks,primaryProvider:"parent"}),t.next=4,new y.MaticPOSClient({network:A.a.uiconfig.matic.deployment.network,version:A.a.uiconfig.matic.deployment.version,parentProvider:n,maticProvider:e,posRootChainManager:this.networkMeta.Main.POSContracts.RootChainManagerProxy,posERC20Predicate:this.networkMeta.Main.POSContracts.ERC20PredicateProxy,posERC721Predicate:this.networkMeta.Main.POSContracts.ERC721PredicateProxy});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"formatAmt",get:function(){var t=new R.a(this.toSendInToken),e=new R.a(this.selectedToken.decimals);return"0x"+t.times(tt.pow(e)).toString(16)}},{key:"amountInUsd",get:function(){return"NaN"===this.toSendInUSD?0:this.toSendInUSD}},{key:"parentNetwork",get:function(){return this.networks.main}},{key:"childNetwork",get:function(){return this.networks.matic}},{key:"networkID",get:function(){return this.childNetwork.chainId}},{key:"isEtherToken",get:function(){return!(!this.selectedToken||"ETH"!==this.selectedToken.symbol)}},{key:"isPoSTransaction",get:function(){return this.transferMode===F.f.POS}},{key:"exitableTime",get:function(){if(this.burnTransactionHash&&this.withdrawStatusList[this.burnTransactionHash]&&this.withdrawStatusList[this.burnTransactionHash].code===F.h.CONFIRM_SUCCESS){var t=this.withdrawStatusList[this.burnTransactionHash].msg,e=parseInt(t.split(" ")[2])||0;return G.a.extend(Y.a),0===e?"7 Days":G()(1e3*e).fromNow(!0)}return"7 Days"}},{key:"flowStatus",get:function(){var t=this;if(this.burnTransactionHash){if(this.withdrawStatusList[this.burnTransactionHash])return this.withdrawStatusList[this.burnTransactionHash].code;var e=this.withdrawals.find((function(e){return e.txHash===t.burnTransactionHash}));if(e&&e.transactionStatus===F.h.COMPLETE_SUCCESS)return F.h.COMPLETE_SUCCESS;if(this.fromNotification)return F.h.LOADING}return this.transactionStatus}},{key:"transferModeShownValue",get:function(){return this.isPoSTransaction?"PoS":"Plasma"}},{key:"withdrawTransactionHash",get:function(){var t=this;if(this.withdrawals&&this.burnTransactionHash){var e=this.withdrawals.find((function(e){return e.txHash===t.burnTransactionHash}));if(e&&e.relatedTxHash)return e.relatedTxHash}return""}},{key:"exitTransactionHash",get:function(){var t=this;if(this.withdrawals&&this.burnTransactionHash){var e=this.withdrawals.find((function(e){return e.txHash===t.burnTransactionHash}));if(e&&e.exitTxHash)return e.exitTxHash}return""}}]),ht}(T.default))||r,nt=(n(2978),n(34)),component=Object(nt.a)(et,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"section position-absolute"},[r("div",{staticClass:"modal withdraw-overview-modal-wrapper show"},[r("div",{staticClass:"modal-dialog w-sm-100 align-self-center",attrs:{role:"document"}},[r("div",{staticClass:"box s-modal"},[r("div",{staticClass:"box-header justify-content-center",class:{"overview-header":!t.overviewAccepted}},[t.overviewAccepted&&t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_TRANSFER?r("span",{staticClass:"left-arrow align-self-center float-left cursor-pointer",on:{click:t.onBackToOverview}},[r("svg-sprite-icon",{staticClass:"left-arrow align-self-center float-left cursor-pointer",attrs:{name:"left-arrow-long"}})],1):t._e(),t._v(" "),r("div",{staticClass:"text-center align-self-center w-100"},[t.overviewAccepted||t.flowStatus!==t.WITHDRAW_FLOW_STATUS.DISCLAIMER?t._e():r("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Important "),r("br")]),t._v(" "),t.overviewAccepted||t.flowStatus!==t.WITHDRAW_FLOW_STATUS.OVERVIEW?t._e():r("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Transfer Overview "),r("br")]),t._v(" "),!t.overviewAccepted||t.flowStatus!==t.WITHDRAW_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.INIT_FAILED?t._e():r("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Confirm Transfer\n            ")]),t._v(" "),t.overviewAccepted&&t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_TRANSFER?r("div",{staticClass:"font-body-small"},[t._v("\n              Please review your transaction\n            ")]):t._e(),t._v(" "),t.overviewAccepted&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.OVERVIEW&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.COMPLETE_SUCCESS&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.INIT_FAILED?r("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Transfer in Progress\n            ")]):t._e(),t._v(" "),t.overviewAccepted&&t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_SUCCESS?r("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Transfer Completed\n            ")]):t._e()]),t._v(" "),r("span",{staticClass:"align-self-center float-right cursor-pointer",on:{click:t.onCancel}},[r("svg-sprite-icon",{staticClass:"align-self-center float-left cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.LOADING?r("div",{staticClass:"box-body"},[r("div",{staticClass:"container flex"},[r("div",{staticClass:"row ms-x-32 ps-t-50 w-100"},[r("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-28 w-100"},[r("div",{staticClass:"loader-gif d-flex align-items-center justify-content-center ms-y-12"},[r("lottie",{attrs:{options:t.defaultOptions,width:194,height:194}})],1)])]),t._v(" "),t._m(0)])]):r("div",{staticClass:"box-body"},[r("div",{staticClass:"container"},[t.overviewAccepted||t.flowStatus!==t.WITHDRAW_FLOW_STATUS.DISCLAIMER?t._e():r("div",{staticClass:"overview row ps-x-32 new-modal__container"},[r("div",{staticClass:"overview__top ps-t-24 new-modal__scroll-section"},[t._m(1),t._v(" "),r("div",{staticClass:"col-12 ps-x-0 ps-t-12"},[r("div",{staticClass:"d-flex justify-content-between"},[r("div",{staticClass:"d-flex"},[r("Icon",{attrs:{name:"custom/yes"}}),t._v(" "),t._m(2)],1)])]),t._v(" "),t._m(3),t._v(" "),r("div",{staticClass:"col-12 ps-x-0 ps-t-12"},[r("div",{staticClass:"d-flex justify-content-between"},[r("div",{staticClass:"d-flex"},[r("Icon",{attrs:{name:"custom/no"}}),t._v(" "),t._m(4)],1)])])]),t._v(" "),r("div",{staticClass:"col-12 ps-x-0 d-flex justify-content-between new-modal__fixed-section ps-y-20"},[r("button",{staticClass:"btn btn-light",on:{click:t.onCancel}},[r("div",{staticClass:"font-body-medium cancel-button"},[t._v("\n                    Cancel\n                  ")])]),t._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:t.onDisclaimerAccepted}},[r("div",{staticClass:"font-body-medium continue-button"},[t._v("\n                    Continue\n                  ")])])])]),t._v(" "),t.overviewAccepted||t.flowStatus!==t.WITHDRAW_FLOW_STATUS.OVERVIEW?t._e():r("div",{staticClass:"overview new-modal__container"},[r("div",{staticClass:"overview__top new-modal__scroll-section"},[t._m(5),t._v(" "),r("div",{staticClass:"row ps-x-32"},[t.isPoSTransaction?r("div",{staticClass:"col-12 ps-x-0 text-center"},[r("div",{staticClass:"font-body-medium font-semibold ps-b-8"},[t._v("\n                      Withdraw process for PoS consists of two transactions.\n                    ")]),t._v(" "),r("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Estimation of total gas required for these transactions\n                    ")])]):t._e(),t._v(" "),t.isPoSTransaction?t._e():r("div",{staticClass:"col-12 ps-x-0 text-center"},[t._m(6),t._v(" "),r("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Estimation of total gas required for these transactions\n                    ")])]),t._v(" "),r("div",{staticClass:"col-12 ps-x-0 ps-t-18"},[r("div",{staticClass:"d-flex justify-content-between ps-b-14"},[r("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.childNetwork.name+" transaction",expression:"`${childNetwork.name} transaction`",modifiers:{right:!0}}],staticClass:"d-flex"},[r("img",{staticClass:"network-icon",attrs:{src:n(865)}}),t._v(" "),r("div",{staticClass:"font-body-small ps-t-2 ps-l-12"},[t._v("\n                          Withdraw Initialized\n                        ")])]),t._v(" "),0!==t.withdrawInitiatedGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        ~$"+t._s(t.withdrawInitiatedGasFees)+"\n                      ")]):t._e(),t._v(" "),0===t.withdrawInitiatedGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        estimating...\n                      ")]):t._e()]),t._v(" "),r("div"),t._v(" "),t.isPoSTransaction?t._e():r("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.parentNetwork.name+" transaction",expression:"`${parentNetwork.name} transaction`",modifiers:{right:!0}}],staticClass:"d-flex justify-content-between ps-b-14"},[r("div",{staticClass:"d-flex"},[r("svg-sprite-icon",{staticClass:"network-icon",attrs:{name:"eth"}}),t._v(" "),r("div",{staticClass:"font-body-small ps-t-2 ps-l-12"},[t._v("\n                          Confirm Withdraw\n                        ")])],1),t._v(" "),0!==t.withdrawConfirmGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        ~$"+t._s(t.withdrawConfirmGasFees)+"\n                      ")]):t._e(),t._v(" "),0===t.withdrawConfirmGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        estimating...\n                      ")]):t._e()]),t._v(" "),r("div"),t._v(" "),r("div",{staticClass:"d-flex justify-content-between ps-b-14"},[r("div",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.parentNetwork.name+" transaction",expression:"`${parentNetwork.name} transaction`",modifiers:{right:!0}}],staticClass:"d-flex"},[r("svg-sprite-icon",{staticClass:"network-icon",attrs:{name:"eth"}}),t._v(" "),r("div",{staticClass:"font-body-small ps-t-2 ps-l-12"},[t._v("\n                          Withdraw Complete\n                        ")])],1),t._v(" "),0!==t.withdrawCompleteGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        ~$"+t._s(t.withdrawCompleteGasFees)+"\n                      ")]):t._e(),t._v(" "),0===t.withdrawCompleteGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                        estimating...\n                      ")]):t._e()])])])]),t._v(" "),r("div",{staticClass:"new-modal__fixed-section ps-y-20"},[r("div",{staticClass:"overview__bottom"},[r("div",{staticClass:"col-12 ps-x-0 d-flex justify-content-between"},[r("button",{staticClass:"btn btn-light",on:{click:t.onCancel}},[r("div",{staticClass:"font-body-medium cancel-button"},[t._v("\n                        Cancel\n                      ")])]),t._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:t.onOverviewAccepted}},[r("div",{staticClass:"font-body-medium continue-button"},[t._v("\n                        Continue\n                      ")])])])])])]),t._v(" "),!t.overviewAccepted||t.flowStatus!==t.WITHDRAW_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.INIT_FAILED?t._e():r("div",{staticClass:"confirm-box new-modal__container"},[r("div",{staticClass:"confirm-box__top new-modal__scroll-section"},[r("div",{staticClass:"row ps-x-32 ps-y-36"},[t.selectedToken?r("div",{staticClass:"col-12 ps-x-0"},[r("div",{staticClass:"token-details text-center"},[r("div",{staticClass:"token-details__img d-flex justify-content-center align-self-center mx-auto"},[t.selectedToken.symbol&&t.tokenImage(t.selectedToken)?r("img",{staticClass:"align-self-center",attrs:{src:t.tokenImage(t.selectedToken),alt:"Token Image"}}):t.selectedToken.symbol?r("span",{staticClass:"align-self-center font-heading-large ps-t-2 font-semibold"},[t._v(t._s(t.selectedToken.symbol[0]))]):t._e()]),t._v(" "),r("div",{staticClass:"token-details__val font-heading-large font-bold ps-t-16 ps-b-6"},[t._v("\n                        "+t._s(t.toSendInToken)+"\n                        "+t._s(t.selectedToken.name.toUpperCase())+"\n                      ")]),t._v(" "),r("div",{staticClass:"token-details__usd font-body-small"},[t._v("\n                        $ "+t._s(t.toSendInUSD)+"\n                      ")])])]):t._e()]),t._v(" "),r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 ps-x-0 ps-b-16"},[r("div",{staticClass:"d-flex"},[t._m(7),t._v(" "),r("div",{staticClass:"arrow-anime-wrapper d-flex justify-content-center align-items-center align-self-center"},[r("span",{staticClass:"arrow primary position-absolute ps-r-20"},[r("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{opacity:"0.6",d:"M1 1.5L6 7L0.999999 12.5",stroke:"#B8B2F9","stroke-width":"2"}})])]),t._v(" "),r("span",{staticClass:"arrow secondary position-absolute ps-r-20"},[r("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{opacity:"0.6",d:"M10 1.5L15 7L10 12.5",stroke:"#AAC5F9","stroke-width":"2"}})])])]),t._v(" "),t._m(8)])])]),t._v(" "),r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 ps-x-0 ps-y-16 border-top"},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Transfer mode\n                      ")]),t._v(" "),r("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[r("div",{staticClass:"align-self-center cursor-pointer"},[r("span",{staticClass:"font-body-medium"},[t._v(t._s(t.transferModeShownValue)+" Bridge")])])])]),t._v(" "),t.isPoSTransaction?r("div",{staticClass:"font-caption ps-t-8"},[t._v("\n                      PoS security is provided by the PoS validators. It will\n                      take approximately\n                      "),r("span",{staticClass:"text-primary"},[t._v("3 hours")]),t._v(" to transfer\n                      your funds back to Ethereum.\n                    ")]):t._e(),t._v(" "),t.isPoSTransaction?t._e():r("div",{staticClass:"font-caption ps-t-8"},[t._v("\n                      Plasma provides advanced security with plasma exit\n                      mechanism. It will take\n                      "),r("span",{staticClass:"text-primary"},[t._v("7 days")]),t._v(" to transfer\n                      your funds back to Ethereum.\n                    ")])])])]),t._v(" "),r("div",{staticClass:"confirm-box__bottom new-modal__fixed-section ps-y-20"},[r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 ps-0"},[r("div",{staticClass:"d-flex ps-b-16"},[r("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Estimated Transaction fee\n                      ")]),t._v(" "),r("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[r("div",{staticClass:"align-self-center cursor-pointer"},[0!==t.withdrawInitiatedGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            ~$"+t._s(t.withdrawInitiatedGasFees)+"\n                          ")]):t._e(),t._v(" "),0===t.withdrawInitiatedGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e()])])]),t._v(" "),t.isPoSTransaction?r("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initBurnPos}}):t._e(),t._v(" "),t.isPoSTransaction?t._e():r("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initBurnPlasma}}),t._v(" "),t.overviewAccepted&&(t.error||t.dirty)?r("div",{staticClass:"row ps-t-8 error"},[(t.error||t.dirty)&&t.metamaskValidation?r("div",{staticClass:"font-caption text-center text-danger mx-auto"},["metaTxSignError"===t.error?r("span",[t._v("\n                          There seems to be an issue with this signing method.\n                          Please try again by clicking on Continue.\n                        ")]):r("span",[t._v(" "+t._s(t.error))])]):t._e(),t._v(" "),!t.error&&!t.dirty||t.metamaskValidation?t._e():r("div",{staticClass:"font-caption text-center text-danger mx-auto"},["selectMatic"===t.error?r("span",[t._v("\n                          Please select "+t._s(t.childNetwork.name)+" Network in\n                          "+t._s(t._f("connectedWallet")(t.loginStrategy))+" ("),r("a",{attrs:{href:t.guideLink,target:"_blank",rel:"noopener noreferrer"}},[t._v("guide")]),t._v(")\n                        ")]):"selectMain"===t.error?r("span",[t._v("\n                          Please select "+t._s(t.parentNetwork.name)+" Network in\n                          "+t._s(t._f("connectedWallet")(t.loginStrategy))+" ("),r("a",{attrs:{href:t.guideLink,target:"_blank",rel:"noopener noreferrer"}},[t._v("guide")]),t._v(")\n                        ")]):"metaTxSignError"===t.error?r("span",[t._v("\n                          There seems to be an issue with this signing method.\n                          Please switch your network to Polygon in your wallet\n                          ("),r("a",{attrs:{href:t.guideLink,target:"_blank",rel:"noopener noreferrer"}},[t._v("guide")]),t._v(")\n                        ")]):r("span",[t._v(" "+t._s(t.error))])])]):t._e()],1)])])]),t._v(" "),t.overviewAccepted&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.OVERVIEW&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.CONFIRM_TRANSFER&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.INIT_FAILED?r("div",{staticClass:"new-modal__container"},[r("div",{staticClass:"new-modal__scroll-section"},[r("div",{staticClass:"w-100"},[r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-12 ps-x-0 ps-t-12 ps-b-14"},[r("div",{staticClass:"d-flex justify-content-between"},[r("div",{staticClass:"font-body-medium align-self-center shaded-color"},[t._v("\n                          Transfer Amount\n                        ")]),t._v(" "),t.selectedToken?r("div",{staticClass:"font-body-medium align-self-center"},[t._v("\n                          "+t._s(t.toSendInToken)+"\n                          "+t._s(t.selectedToken.symbol)+"\n                        ")]):r("div",{staticClass:"font-body-medium align-self-center"},[t.selectedToken?r("div",[t._v("\n                            "+t._s(t.toSendInToken)+"\n                            "+t._s(t.selectedToken.symbol)+"\n                          ")]):t._e()])])])]),t._v(" "),r("div",{staticClass:"row ps-x-32 border-top border-bottom align-items-center",staticStyle:{height:"72px"}},[r("div",{staticClass:"col-12 ps-x-0"},[t.progressBarValsForPos&&t.isPoSTransaction?r("ProgressBar",[r("Progress",{attrs:{description:"Initialized",status:t.progressBarValsForPos.initialized,left:!1,href:t.progressBarValsForPos.explorerUrl}}),t._v(" "),r("Progress",{attrs:{description:"Withdraw Initiated",status:t.progressBarValsForPos.withdraw}}),t._v(" "),r("Progress",{attrs:{description:"Completed",status:t.progressBarValsForPos.completed,right:!1}})],1):t._e(),t._v(" "),t.progressBarValsForPlasma&&!t.isPoSTransaction?r("ProgressBar",[r("Progress",{attrs:{description:"Initialized",status:t.progressBarValsForPlasma.initialized,left:!1,href:t.progressBarValsForPlasma.explorerUrl}}),t._v(" "),r("Progress",{attrs:{description:"Checkpoint",status:t.progressBarValsForPlasma.checkpoint}}),t._v(" "),r("Progress",{attrs:{description:"Challenge Period",status:t.progressBarValsForPlasma.challengePeriod}}),t._v(" "),r("Progress",{attrs:{description:"Completed",status:t.progressBarValsForPlasma.completed,right:!1}})],1):t._e()],1)])]),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_PENDING||t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_PENDING||t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_PENDING?r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-8"},[r("div",{staticClass:"loader-gif d-flex justify-content-center"},[r("lottie",{attrs:{options:t.defaultOptions,width:194,height:194}})],1),t._v(" "),t.takesTooLong?r("div",[r("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-2"},[t._v("\n                        Taking too long\n                      ")]),t._v(" "),t._m(9),t._v(" "),r("div",{staticClass:"d-flex justify-content-center"},[t.isPoSTransaction?r("ButtonLoader",{staticClass:"w-100 ms-t-8 ms-r-10",attrs:{label:"Try Again",nature:"primary",size:"medium",loading:t.isLoading},on:{onClick:function(e){return t.initPosExit()}}}):t._e(),t._v(" "),t.isPoSTransaction?t._e():r("ButtonLoader",{staticClass:"w-100 ms-t-8 ms-l-10",attrs:{label:"Try Again",nature:"primary",size:"medium",loading:t.isLoading},on:{onClick:function(e){return t.initConfirmWithdraw()}}})],1)]):t.burnTransactionTakingTooLong?r("div",[r("div",[r("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-4"},[t._v("\n                          Transaction taking too long\n                        ")]),t._v(" "),r("div",{staticClass:"font-body-small shaded-color"},[r("span",{staticClass:"text-primary cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.toggleNestedLoopModal(e)}}},[t._v("Click")]),t._v("\n                          here to check what you can do.\n                        ")]),t._v(" "),r("div",{staticClass:"font-body-small text-primary ps-t-18"},[r("a",{attrs:{href:t.maticExplorerUrl+"/tx/"+t.burnTransactionHash,target:"_blank"}},[t._v("\n                            View on "+t._s(t.childNetwork.name)+" Explorer")])])])]):r("div",[r("div",[r("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-4"},[t._v("\n                          Transaction in process\n                        ")]),t._v(" "),t.flowStatus!==t.WITHDRAW_FLOW_STATUS.INIT_PENDING?r("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                          Ethereum transactions can take longer time to\n                          complete based upon network congestion. Please wait\n                          or increase the gas price of the transaction.\n                          "),r("contact-support-message")],1):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_PENDING?r("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                          Your transaction will be confirmed in a few seconds.\n                          If you think that your transaction is taking too\n                          long then please visit this\n                          "),r("a",{attrs:{href:t.posExitLink,target:"_blank"}},[t._v("link")]),t._v(" to\n                          complete your withdraw process.\n                        ")]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_PENDING?r("div",{staticClass:"font-body-small text-primary ps-t-18"},[r("a",{attrs:{href:t.maticExplorerUrl+"/tx/"+t.burnTransactionHash,target:"_blank"}},[t._v("\n                            View on "+t._s(t.childNetwork.name)+" Explorer")])]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_PENDING?r("div",{staticClass:"font-body-small text-primary ps-t-18"},[r("a",{attrs:{href:t.mainExplorerURL+"/tx/"+t.withdrawTransactionHash,target:"_blank"}},[t._v("\n                            View on Etherscan")])]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_PENDING?r("div",{staticClass:"font-body-small text-primary ps-t-18"},[r("a",{attrs:{href:t.mainExplorerURL+"/tx/"+t.exitTransactionHash,target:"_blank"}},[t._v("\n                            View on Etherscan")])]):t._e()])])])]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_BURNT?r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-36"},[t._m(10),t._v(" "),r("div",{staticClass:"ps-t-32"},[r("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                        Waiting for Checkpoint\n                      ")]),t._v(" "),r("div",{staticClass:"font-body-small shaded-light-color"},[t._v("\n                        Please wait until matic checkpoint arrive with your\n                        previous transaction. Checkpointing takes ~45 mins to\n                        3 hour. "),r("contact-support-message")],1),t._v(" "),r("div",{staticClass:"font-body-small text-primary ps-t-20"},[r("a",{attrs:{href:t.maticExplorerUrl+"/tx/"+t.burnTransactionHash,target:"_blank"}},[t._v("\n                          View on "+t._s(t.childNetwork.name)+" Explorer")])])])])]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_CHECKPOINTED||t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_EXITABLE||t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_FAILED||t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_FAILED||t.flowStatus===t.WITHDRAW_FLOW_STATUS.PLASMA_EXIT_BADHASH?r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 text-center ps-x-0"},[t._m(11),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_CHECKPOINTED||t.isPoSTransaction&&t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_FAILED||!t.isPoSTransaction&&(t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_FAILED||t.flowStatus===t.WITHDRAW_FLOW_STATUS.PLASMA_EXIT_BADHASH)?r("div",[r("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                        Checkpoint arrived\n                      ")]),t._v(" "),t.isPoSTransaction?r("div",{staticClass:"font-body-small shaded-light-color"},[t._v("\n                        Your transaction is checkpointed on Ethereum network.\n                        You need to confirm one more transaction to get your\n                        funds in your Ethereum account.\n                        "),r("contact-support-message")],1):t._e(),t._v(" "),t.isPoSTransaction?t._e():r("div",{staticClass:"font-body-small shaded-light-color"},[t._v("\n                        Your transaction is checkpointed on Ethereum network.\n                        You need to confirm one more transaction to start the\n                        7-day challenge period.\n                        "),r("contact-support-message")],1),t._v(" "),r("div",{staticClass:"font-body-small text-primary ps-t-4"},[r("a",{attrs:{href:t.maticExplorerUrl+"/tx/"+t.burnTransactionHash,target:"_blank"}},[t._v("\n                          View on "+t._s(t.childNetwork.name)+" Explorer")])])]):t._e(),t._v(" "),t.flowStatus!==t.WITHDRAW_FLOW_STATUS.CONFIRM_EXITABLE&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.COMPLETE_FAILED||t.isPoSTransaction?t._e():r("div",[r("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                        Challenge period completed\n                      ")]),t._v(" "),r("div",{staticClass:"font-body-small shaded-light-color"},[t._v("\n                        Your token is ready to move from Polygon to Ethereum\n                        Network. Complete the last transaction and you're\n                        done.\n                        "),r("contact-support-message")],1)])])]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_SUCCESS?r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-36"},[t._m(12),t._v(" "),r("div",{staticClass:"d-flex justify-content-center ps-t-28"}),t._v(" "),r("div",{staticClass:"ps-t-12 ps-b-32"},[r("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                        7 Days challenge period started.\n                      ")]),t._v(" "),r("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                        Please wait for\n                        "),r("strong",[t._v(t._s(t.exitableTime))]),t._v(" to complete your\n                        final step of withdrawal.\n                      ")])])])]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_SUCCESS||t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_STUCK?r("div",{staticClass:"row ps-x-32"},[r("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-28"},[t._m(13),t._v(" "),r("div",{staticClass:"ps-t-12 ps-b-32"},[r("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                        Transfer completed successfully.\n                      ")]),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_SUCCESS?r("div",{staticClass:"font-body-small shaded-light-color"},[t._v("\n                        Your transfer is completed successfully.\n                      ")]):t._e(),t._v(" "),t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_STUCK?r("div",{staticClass:"font-body-small shaded-light-color"},[t._v("\n                        Your withdrawal process has been completed. but the\n                        fund transfer is still in queue. you will soon receive\n                        your tokens in account. Please wait for some time.\n                        "),r("contact-support-message")],1):t._e(),t._v(" "),r("div",{staticClass:"font-body-small text-primary ps-t-20"},[r("a",{attrs:{href:t.mainExplorerURL+"/tx/"+t.exitTransactionHash,target:"_blank"}},[t._v("\n                          View on Etherscan")])])])])]):t._e()]),t._v(" "),r("div",{staticClass:"new-modal__fixed-section"},[r("div",{staticClass:"col-md-12 text-center"},[t.flowStatus===t.WITHDRAW_FLOW_STATUS.INIT_CHECKPOINTED||t.isPoSTransaction&&t.flowStatus===t.WITHDRAW_FLOW_STATUS.COMPLETE_FAILED||!t.isPoSTransaction&&(t.flowStatus===t.WITHDRAW_FLOW_STATUS.CONFIRM_FAILED||t.flowStatus===t.WITHDRAW_FLOW_STATUS.PLASMA_EXIT_BADHASH)?r("div",{staticClass:"ps-t-20",class:{"ps-b-20":!(t.overviewAccepted&&(t.error||t.dirty))}},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Estimated Transaction fee\n                      ")]),t._v(" "),r("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[r("div",{staticClass:"align-self-center cursor-pointer"},[t.isPoSTransaction&&0!==t.withdrawCompleteGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            ~$"+t._s(t.withdrawCompleteGasFees)+"\n                          ")]):t._e(),t._v(" "),t.isPoSTransaction&&0===t.withdrawCompleteGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e(),t._v(" "),t.isPoSTransaction||0===t.withdrawConfirmGasFees?t._e():r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            ~$"+t._s(t.withdrawConfirmGasFees)+"\n                          ")]),t._v(" "),t.isPoSTransaction||0!==t.withdrawConfirmGasFees?t._e():r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")])])])]),t._v(" "),t.isPoSTransaction?r("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initPosExit}}):t._e(),t._v(" "),t.isPoSTransaction?t._e():r("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initConfirmWithdraw}})],1):t._e(),t._v(" "),t.flowStatus!==t.WITHDRAW_FLOW_STATUS.CONFIRM_EXITABLE&&t.flowStatus!==t.WITHDRAW_FLOW_STATUS.COMPLETE_FAILED||t.isPoSTransaction?t._e():r("div",{staticClass:"ps-t-20",class:{"ps-b-20":!(t.overviewAccepted&&(t.error||t.dirty))}},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Estimated Transaction fee\n                      ")]),t._v(" "),r("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[r("div",{staticClass:"align-self-center cursor-pointer"},[0!==t.withdrawCompleteGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            ~$"+t._s(t.withdrawCompleteGasFees)+"\n                          ")]):t._e(),t._v(" "),0===t.withdrawCompleteGasFees?r("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e()])])]),t._v(" "),r("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.isLoading,label:"Continue",nature:"primary",size:"large"},on:{onClick:t.initPlasmaExit}})],1),t._v(" "),t.overviewAccepted&&(t.error||t.dirty)?r("div",{staticClass:"row ps-t-10 ps-b-20"},[(t.error||t.dirty)&&t.metamaskValidation?r("div",{staticClass:"font-caption text-center text-danger mx-auto"},["metaTxSignError"===t.error?r("span",[t._v("\n                        There seems to be an issue with this signing method.\n                        Please switch your network to Polygon in your wallet\n                        ("),r("a",{attrs:{href:t.guideLink,target:"_blank",rel:"noopener noreferrer"}},[t._v("guide")]),t._v(")\n                      ")]):r("span",[t._v(" "+t._s(t.error))])]):t._e(),t._v(" "),!t.error&&!t.dirty||t.metamaskValidation?t._e():r("div",{staticClass:"font-caption text-center text-danger mx-auto"},["selectMatic"===t.error?r("span",[t._v("\n                        Please select "+t._s(t.childNetwork.name)+" Network in\n                        "+t._s(t._f("connectedWallet")(t.loginStrategy))+" ("),r("a",{attrs:{href:t.guideLink,target:"_blank",rel:"noopener noreferrer"}},[t._v("guide")]),t._v(")\n                      ")]):"selectMain"===t.error?r("span",[t._v("\n                        Please select "+t._s(t.parentNetwork.name)+" Network in\n                        "+t._s(t._f("connectedWallet")(t.loginStrategy))+" ("),r("a",{attrs:{href:t.guideLink,target:"_blank",rel:"noopener noreferrer"}},[t._v("guide")]),t._v(")\n                      ")]):r("span",[t._v(" "+t._s(t.error))])])]):t._e()])])]):t._e()])])])])]),t._v(" "),r("div",{staticClass:"modal-backdrop show"}),t._v(" "),t.showNestedLoopModal?r("div",{staticClass:"modal nested-modal show"},[r("div",{staticClass:"nested-modal-dialog w-sm-100 align-self-center"},[r("div",{staticClass:"box-header d-flex border-bottom justify-content-center"},[r("div",{staticClass:"text-center align-self-center w-100 modal-step-title font-heading-small font-bold"},[t._v("\n          "+t._s(t.cancelButtonClicked?"Remove from notification list":"Available options")+"\n        ")]),t._v(" "),r("span",{staticClass:"align-self-center float-right cursor-pointer nested-close",on:{click:function(e){return e.stopPropagation(),t.toggleNestedLoopModal(e)}}},[r("svg-sprite-icon",{attrs:{name:"close"}})],1)]),t._v(" "),r("div",{staticClass:"box-body-nested ps-x-20"},[t.cancelButtonClicked?t._e():r("div",[r("div",{staticClass:"d-flex ps-y-20 border-bottom"},[r("div",{staticClass:"ps-6 ms-t-4 number-tag"},[t._v("\n              1\n            ")]),t._v(" "),r("div",{staticClass:"font-body-small text-justify ms-l-12"},[r("div",{staticClass:"dark-700"},[t._v("\n                You can complete your withdraw transaction with this\n                alternative tool.\n              ")]),t._v(" "),r("div",{staticClass:"ms-t-8"},[r("a",{attrs:{href:t.posExitLink,target:"_blank"}},[t._v("Complete your withdraw from here\n                  "),r("svg",{attrs:{width:"9",height:"9",viewBox:"0 0 9 9",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M8.75 1C8.75 0.585786 8.41421 0.25 8 0.25H1.25C0.835786 0.25 0.5 0.585786 0.5 1C0.5 1.41421 0.835786 1.75 1.25 1.75H7.25V7.75C7.25 8.16421 7.58579 8.5 8 8.5C8.41421 8.5 8.75 8.16421 8.75 7.75V1ZM1.53033 8.53033L8.53033 1.53033L7.46967 0.46967L0.46967 7.46967L1.53033 8.53033Z",fill:"#2517c2"}})])])])])]),t._v(" "),r("div",{staticClass:"d-flex ps-y-20"},[r("div",{staticClass:"ps-6 ms-t-4 number-tag"},[t._v("\n              2\n            ")]),t._v(" "),r("div",{staticClass:"font-body-small text-justify ms-l-12"},[r("div",{staticClass:"dark-700"},[t._v("\n                Transaction already dropped, replaced or completed?\n              ")]),t._v(" "),r("div",{staticClass:"ms-t-8 primary-600 cursor-pointer",on:{click:function(e){return e.stopPropagation(),t.toggleCancelButtonClicked(e)}}},[t._v("\n                Click here to remove it from the notification list\n              ")])])])]),t._v(" "),t.cancelButtonClicked?r("div",{staticClass:"ps-20"},[r("div",{staticClass:"text-center dark-700"},[t._v("\n            Are you sure you want to remove this transaction from the wallet\n            notification list?\n          ")]),t._v(" "),r("div",{staticClass:"text-center font-body-small"},[t._v("\n            (Note that the transaction always remains on the blockchain. This\n            just deletes it from the wallet display)\n          ")]),t._v(" "),r("div",{staticClass:"d-flex ms-t-20"},[r("button",{staticClass:"btn btn-light outline-none w-100 ms-r-6",on:{click:function(e){return e.stopPropagation(),t.toggleNestedLoopModal(e)}}},[r("div",{staticClass:"font-body-medium cancel-button"},[t._v("\n                No\n              ")])]),t._v(" "),r("button",{staticClass:"btn btn-primary outline-none w-100 ms-l-6",on:{click:t.cancelTransactionInFirebase}},[r("div",{staticClass:"font-body-medium continue-button"},[t._v("\n                Yes, Remove it\n              ")])])])]):t._e()])])]):t._e(),t._v(" "),t.showNestedLoopModal?r("div",{staticClass:"modal-backdrop nested-backdrop show"}):t._e()])}),o,!1,null,"6d15c724",null);e.a=component.exports},1066:function(t,e,n){"use strict";var r,o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex justify-content-center ps-t-28"},[e("img",{attrs:{src:n(354),alt:"Success"}})])}],c=(n(76),n(94),n(64),n(100),n(113),n(67)),l=n(6),d=n(36),h=n(46),f=n(44),m=n(45),v=n(28),w=n(24),T=(n(52),n(66),n(299),n(160),n(190),n(39),n(87),n(81),n(80),n(79),n(114),n(188),n(140),n(409),n(148),n(95),n(12)),k=n(59),_=n(48),x=n(15),C=n(70),y=n(53),S=n(27),O=n(50),I=n(8),E=n(17),P=n(30),A=n.n(P),R=n(5),D=n(57),L=n(62),F=n(51),N=n(56),j=n(177),M=n(243),W=n(105);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}function B(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var U=new E.a(10),G=Object(k.a)({props:{show:{type:Boolean,required:!1,default:!1},cancel:{type:Function,required:!0},transferMode:{type:String,required:!0},toSendInToken:{type:String,required:!0},selectedToken:{type:Object,required:!1},withdrawTxHash:{type:String,required:!1},fromNotification:{type:Boolean,default:!1},status:{type:String,required:!1}},computed:$($($($({},Object(_.b)("network",["networks","networkMeta"])),Object(_.b)("account",["account"])),Object(_.b)("transaction",["withdrawals"])),Object(_.c)("account",["loginStrategy"])),components:{Button:N.Button,ButtonLoader:N.ButtonLoader,Lottie:j.a,ProgressBar:N.ProgressBar,Progress:N.Progress,Icon:N.Icon}})(r=function(t){Object(f.a)(z,t);var e,n,r,o,m,v,w,k,_,P,N,j,B,$,G,V=H(z);function z(){var t;Object(d.a)(this,z);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=V.call.apply(V,[this].concat(n))).flowStatus=null,t.FAST_WITHDRAW_FLOW=null,t.error=null,t.isLoading=!1,t.toSendInUSD=0,t.explorerURL=I.a.uiconfig.maticExplorerUrl,t.metamaskValidation=!0,t.withdrawTransactionHash=t.withdrawTxHash?t.withdrawTxHash:"",t.defaultOptions={animationData:M},t.animationSpeed=1,t.withdrawGasFees=0,t.routerPublicIdentifier=I.a.uiconfig.connextRouterPublicIdentifier,t.depositChainId=null,t.withdrawChainId=null,t.activeCrossChainTrasferId="",t.connextNode=null,t.connextDepositAddress="",t.withdrawRpcProvider=null,t.depositRpcProvider=null,t.connextEvts=null,t.connextDepositChannel="",t.connextWithdrawChannel="",t.settingBrowserNodeDisabled=!0,t.loadingText="Setting Up Connext Node..",t.connextTransferFee=0,t.ifRouterSupportsTransfer=!1,t.feeTxHash="",t.withdrawQuote=0,t.transferQuote=0,t.connextTotalFee=0,t.receivableAmount=0,t}return Object(h.a)(z,[{key:"resetForm",value:function(){this.error=null}},{key:"onCancel",value:function(){this.resetForm(),this.cancel()}},{key:"created",value:function(){this.FAST_WITHDRAW_FLOW=R.d,this.depositChainId=this.childNetwork.chainId,this.withdrawChainId=this.parentNetwork.chainId,this.depositAssetId=this.selectedToken.addresses[this.childNetwork.chainId],this.withdrawAssetId=this.selectedToken.addresses[this.parentNetwork.chainId],I.a.uiconfig.maticDBUID===this.selectedToken.id&&(this.depositAssetId="0x0000000000000000000000000000000000000000"),this.flowStatus=this.status?this.status:R.d.CONFIRM}},{key:"mounted",value:(G=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tokenToUSD();case 2:return this.fromNotification&&(this.withdrawTransactionHash=this.withdrawTxHash),t.next=5,this.initWithdraw();case 5:case"end":return t.stop()}}),t,this)}))),function(){return G.apply(this,arguments)})},{key:"tokenToUSD",value:($=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.toSendInToken&&(this.toSendInUSD=(parseFloat(this.selectedToken.usdValue)*parseFloat(this.toSendInToken)).toFixed(3),"NaN"===this.toSendInUSD&&(this.toSendInUSD=0));case 1:case"end":return t.stop()}}),t,this)}))),function(){return $.apply(this,arguments)})},{key:"updateTransactions",value:(B=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.$store.dispatch("token/reloadBalances");case 1:case"end":return t.stop()}}),t,this)}))),function(){return B.apply(this,arguments)})},{key:"initWithdraw",value:(j=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,d,h,f,m,v,w,T,k,_,x,E,P,A,N,j,M,W,H,B,$,U,G,V,z,Y,K,Q,Z,X,J,tt,et,nt,st=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new C.providers.JsonRpcProvider(I.a.uiconfig.maticRPC,this.depositChainId),this.depositRpcProvider=e,n=new C.providers.JsonRpcProvider(I.a.uiconfig.mainRPC,this.withdrawChainId),this.withdrawRpcProvider=n,o=Object(D.b)({networks:this.networks,primaryProvider:"parent"}),d=L.c.get("loginStrategy")===I.a.strategies.METAMASK?window.ethereum:o,t.prev=6,t.next=9,Object(F.c)(this.routerPublicIdentifier,this.depositChainId,this.withdrawChainId,I.a.uiconfig.maticRPC,I.a.uiconfig.mainRPC,d);case 9:r=t.sent,this.connextNode=r,t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(6),t.t0.message.includes("localStorage not available in this window")&&(this.error="Please disable shields or ad blockers and try again. Connext requires cross-site cookies to store your channel states."),t.t0.message.includes("Failed to read the 'localStorage'")&&(this.error="Please disable shields or ad blockers or allow third party cookies in your browser and try again. Connext requires cross-site cookies to store your channel states."),t.abrupt("return");case 18:if(this.$logger.debug("Browser Node Inititated"),this.account.address!=="0x2dF5Ec8D9D3be35A057bf177dF07358b1A0cA789".toLowerCase()){t.next=33;break}return t.next=22,Object(F.f)(r,this.routerPublicIdentifier,1);case 22:if(h=t.sent,f="0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",!h){t.next=33;break}return m=h.channelAddress,t.next=29,r.requestCollateral({assetId:"0xdAC17F958D2ee523a2206206994597C13D831ec7",channelAddress:m});case 29:return this.$logger.debug("Tether Collateral Reclaim Done"),t.next=32,r.requestCollateral({assetId:f,channelAddress:m});case 32:this.$logger.debug("USDC Collateral Reclaim Done");case 33:return t.next=35,Object(F.d)(r);case 35:return v=t.sent,this.connextEvts=v,t.prev=37,t.next=40,Object(F.f)(r,this.routerPublicIdentifier,this.depositChainId);case 40:w=t.sent,t.next=48;break;case 43:return t.prev=43,t.t1=t.catch(37),this.error="Could not find sender channel",console.error(t.t1),t.abrupt("return");case 48:return w&&(this.connextDepositChannel=w,T=w.channelAddress,this.connextDepositAddress=T),t.prev=49,t.next=52,Object(F.f)(r,this.routerPublicIdentifier,this.withdrawChainId);case 52:k=t.sent,this.connextWithdrawChannel=k,t.next=60;break;case 56:t.prev=56,t.t2=t.catch(49),this.error="Receiver channel not found",console.error("receiver channel not found",t.t2);case 60:return this.loadingText="Verifying Requested Transfer...",_=0,t.next=64,Object(F.g)(r,this.routerPublicIdentifier,this.formatAmt,this.depositChainId,this.depositAssetId,this.selectedToken.decimals,this.withdrawChainId,this.withdrawAssetId,this.selectedToken.decimals,k.channelAddress);case 64:if(_=t.sent,E=(x=_).totalFee,P=x.withdrawalQuote,A=x.transferQuote,this.connextTransferFee=E,this.withdrawQuote=P,this.transferQuote=A,!(parseInt(this.toSendInToken)<=parseInt(this.connextTransferFee))){t.next=75;break}return this.$logger.debug("compare",this.toSendInToken,this.connextTransferFee),this.ifRouterSupportsTransfer=!0,this.loadingText="Insufficient Transfer Amount",this.error="Transfer Amount is not enough for the fee",t.abrupt("return");case 75:return this.receivableAmount=parseInt(this.toSendInToken)-parseInt(this.connextTransferFee),t.prev=76,t.next=79,Object(F.k)(r,this.depositChainId,this.depositAssetId,this.withdrawChainId,this.withdrawAssetId,n,this.routerPublicIdentifier,this.formatAmt);case 79:N=t.sent,this.connextSwap=N,this.$logger.debug("swap",N),t.next=92;break;case 84:return t.prev=84,t.t3=t.catch(76),this.loadingText="Transfer Not Supported",this.error="Liquidity is not sufficient for the selected token.",this.$logger.debug("swap1",N),this.ifRouterSupportsTransfer=!0,console.error("error in verify router supports transfers",t.t3),t.abrupt("return");case 92:return t.prev=92,t.next=95,Object(F.a)(r,v[S.EngineEvents.CONDITIONAL_TRANSFER_CREATED],this.depositChainId,this.withdrawChainId,this.withdrawAssetId,this.routerPublicIdentifier);case 95:j=t.sent,this.$logger.debug("hanging resolutions",j),t.next=103;break;case 99:t.prev=99,t.t4=t.catch(92),this.error="Hanging resolutions error",console.error("error in hangingresolutions",t.t4);case 103:return t.next=105,Promise.all([r.getActiveTransfers({channelAddress:w.channelAddress}),r.getActiveTransfers({channelAddress:k.channelAddress})]);case 105:return M=t.sent,W=Object(c.a)(M,2),H=W[0],B=W[1],$=H.getValue().filter((function(t){return Object.keys(t.transferState).includes("lockHash")})),U=B.getValue().filter((function(t){return Object.keys(t.transferState).includes("lockHash")})),console.warn("deposit active on init",$.length,"ids:",$.map((function(t){return t.transferId}))),console.warn("withdraw active on init",U.length,"ids:",U.map((function(t){return t.transferId}))),v.CONDITIONAL_TRANSFER_CREATED.pipe((function(data){return data.transfer.responderIdentifier===r.publicIdentifier&&data.transfer.meta.routingId!==st.activeCrossChainTrasferId})).attach(function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.warn("Cancelling transfer thats not active"),t.next=3,st.cancelTransfer(T,k.channelAddress,data.transfer.transferId,data.transfer.meta.crossChainTransferId,v,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.prev=114,this.$logger.debug("Waiting for sender cancellations.."),t.next=118,Object(F.l)(r,v[S.EngineEvents.CONDITIONAL_TRANSFER_RESOLVED],w.channelAddress);case 118:this.$logger.debug("done!"),t.next=125;break;case 121:return t.prev=121,t.t5=t.catch(114),console.error("Error in waitForSenderCancels",t.t5),t.abrupt("return");case 125:return t.prev=125,t.next=128,Object(F.h)(r,w.channelAddress,this.depositAssetId);case 128:t.next=135;break;case 130:return t.prev=130,t.t6=t.catch(125),this.error="Could not get sender channel",console.error("Could not get sender channel",t.t6),t.abrupt("return");case 135:return t.prev=135,t.next=138,Object(F.f)(r,this.routerPublicIdentifier,this.depositChainId);case 138:w=t.sent,this.connextDepositChannel=w,t.next=146;break;case 142:return t.prev=142,t.t7=t.catch(135),this.$logger.debug(t.t7,"Could not get sender channel"),t.abrupt("return");case 146:if(this.loadingText="Checking for Pending Transfers...",G=y.a.from(Object(O.getBalanceForAssetId)(w,this.depositAssetId,"bob")),this.$logger.debug("Offchain balance for ".concat(T," of asset ").concat(this.depositAssetId,": ").concat(G)),V=y.a.from(Object(O.getBalanceForAssetId)(k,this.withdrawAssetId,"bob")),this.$logger.debug("Offchain balance for ".concat(k.channelAddress," of asset ").concat(this.withdrawAssetId,": ").concat(V)),G.gt(0)&&V.gt(0)&&console.warn("Balance exists in both channels, transferring first, then withdrawing"),!G.gt(0)){t.next=173;break}return z=this.withdrawals.find((function(t){var e=t.transactionStatus,n=t.connextWithdrawTx,r=t.tokenId;return e===R.d.IN_PROGRESS&&!n&&r===st.selectedToken.id})),Y=z.txHash,t.next=157,this.waitForReceipt(Y);case 157:if(!(K=t.sent)){t.next=164;break}if(K.status){t.next=164;break}return t.next=162,this.updateActionRequiredTxDoc({txHash:Y,transactionStatus:R.d.FAILED});case 162:this.flowStatus=R.d.FAILED,this.error="Transaction Receipt Failed.";case 164:return t.next=166,this.transfer(this.depositChainId,this.withdrawChainId,T,n,k,N,G,v,r,!0);case 166:return Q=t.sent,Z=Q.withdrawalTx,t.next=170,this.updateActionRequiredTxDoc({txHash:Y,connextWithdrawTx:Z,transactionStatus:R.d.COMPLETED});case 170:this.fromNotification&&(this.flowStatus=R.d.COMPLETED),t.next=194;break;case 173:if(!V.gt(0)){t.next=194;break}return t.next=176,this.withdrawals.find((function(t){var e=t.transactionStatus,n=t.connextWithdrawTx,r=t.tokenId;return e===R.d.IN_PROGRESS&&!n&&r===st.selectedToken.id}));case 176:return X=t.sent,J=X.txHash,t.next=180,this.waitForReceipt(J);case 180:if(!(tt=t.sent)){t.next=187;break}if(tt.status){t.next=187;break}return t.next=185,this.updateActionRequiredTxDoc({txHash:J,transactionStatus:R.d.FAILED});case 185:this.flowStatus=R.d.FAILED,this.error="Transaction Receipt Failed.";case 187:return t.next=189,this.withdraw(this.withdrawChainId,n,r);case 189:return et=t.sent,nt=et.withdrawalTx,t.next=193,this.updateActionRequiredTxDoc({txHash:J,connextWithdrawTx:nt,transactionStatus:R.d.COMPLETED});case 193:this.fromNotification&&(this.flowStatus=R.d.COMPLETED);case 194:this.settingBrowserNodeDisabled=!1,this.loadingText="Continue",this.$logger.debug("Browser node is set up and initial functions are checked and have been run");case 197:case"end":return t.stop()}}),t,this,[[6,13],[37,43],[49,56],[76,84],[92,99],[114,121],[125,130],[135,142]])}))),function(){return j.apply(this,arguments)})},{key:"startCrossChainTransfer",value:(N=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.validations();case 2:if(t.sent){t.next=5;break}return this.isLoading=!1,t.abrupt("return");case 5:return t.next=7,this.metamaskValidationForBurn();case 7:if(t.sent){t.next=10;break}return this.isLoading=!1,t.abrupt("return");case 10:return this.flowStatus=R.d.IN_PROGRESS,t.prev=11,t.next=14,this.transferToConnextDepositAddress(this.connextDepositAddress,this.toSendInToken);case 14:if((e=t.sent).success){t.next=17;break}return t.abrupt("return");case 17:return n=e.result,this.$logger.debug("txHash",n),this.withdrawTransactionHash=n,t.next=22,this.handleBurnWithdrawTx({txHash:n,amount:this.toSendInToken,tokenId:this.selectedToken.id,isPoS:!0});case 22:if(!n){t.next=41;break}return t.next=25,this.waitForReceipt(n);case 25:if(!(r=t.sent)){t.next=41;break}if(r.status){t.next=34;break}return t.next=30,this.updateActionRequiredTxDoc({txHash:n,transactionStatus:R.d.FAILED});case 30:this.flowStatus=R.d.FAILED,this.error="Transaction Receipt Failed.",t.next=41;break;case 34:return t.next=36,this.transfer(this.depositChainId,this.withdrawChainId,this.connextDepositAddress,this.withdrawRpcProvider,this.connextWithdrawChannel,this.connextSwap,this.formatAmt,this.connextEvts,this.connextNode,!1);case 36:return o=t.sent,c=o.withdrawalTx,this.flowStatus=R.d.COMPLETED,t.next=41,this.updateActionRequiredTxDoc({txHash:n,transactionStatus:R.d.COMPLETED,connextWithdrawTx:c});case 41:t.next=47;break;case 43:t.prev=43,t.t0=t.catch(11),console.error(t.t0),this.flowStatus=this.FAST_WITHDRAW_FLOW.FAILED;case 47:case"end":return t.stop()}}),t,this,[[11,43]])}))),function(){return N.apply(this,arguments)})},{key:"transfer",value:(P=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r,o,c,l,d,h,f,m){var v,w,T,k,_,x,y,I,E,P=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v=Object(O.getRandomBytes32)(),this.activeCrossChainTrasferId=v,t.prev=2,this.$logger.debug("Calling reconcileDeposit with ".concat(r," and ").concat(this.depositAssetId)),t.next=6,Object(F.h)(f,r,this.depositAssetId);case 6:if(!m){t.next=10;break}return this.$logger.debug("withdrawChannel: ",c),t.next=10,Object(F.j)(o,this.withdrawAssetId,c,d.toString(),l);case 10:t.next=17;break;case 12:return t.prev=12,t.t0=t.catch(2),this.error="Failed to reconcile deposit",console.error("Error in reconcileDeposit",t.t0),t.abrupt("return");case 17:return w=Object(O.getRandomBytes32)(),t.prev=18,this.$logger.debug("Calling createFromAssetTransfer ".concat(e," ").concat(this.depositAssetId," ").concat(n," ").concat(this.withdrawAssetId," ").concat(v)),t.next=22,Object(F.e)(f,e,this.depositAssetId,n,this.withdrawAssetId,this.routerPublicIdentifier,v,w,this.transferQuote);case 22:T=t.sent,this.$logger.debug("createFromAssetTransfer transferDeets: ",T),t.next=30;break;case 26:return t.prev=26,t.t1=t.catch(18),console.error("Error in createFromAssetTransfer: ",t.t1),t.abrupt("return");case 30:return k=h[S.EngineEvents.CONDITIONAL_TRANSFER_RESOLVED].pipe((function(data){return data.transfer.meta.routingId===v&&data.transfer.responderIdentifier===P.routerPublicIdentifier&&Object.values(data.transfer.transferResolver)[0]===C.constants.HashZero})).waitFor(5e5),_=h[S.EngineEvents.CONDITIONAL_TRANSFER_CREATED].pipe((function(data){return data.transfer.meta.routingId===v&&data.transfer.initiatorIdentifier===P.routerPublicIdentifier})).waitFor(5e5),t.prev=32,t.next=35,Promise.race([k,_]);case 35:if(y=t.sent,this.$logger.debug("Received senderCanceledOrReceiverCreated: ",y),Object.values(null!==(x=y.transfer.transferResolver)&&void 0!==x?x:{})[0]!==C.constants.HashZero){t.next=40;break}return console.error("Transfer was cancelled"),t.abrupt("return");case 40:t.next=46;break;case 42:return t.prev=42,t.t2=t.catch(32),console.error("Did not receive transfer after 500 seconds, please try again later or attempt recovery",t.t2),t.abrupt("return");case 46:return I=h[S.EngineEvents.CONDITIONAL_TRANSFER_RESOLVED].pipe((function(data){return data.transfer.meta.routingId===v&&data.transfer.responderIdentifier===P.routerPublicIdentifier})).waitFor(45e3),t.prev=47,t.next=50,Object(F.i)(f,n,w,v,this.routerPublicIdentifier);case 50:t.next=57;break;case 52:return t.prev=52,t.t3=t.catch(47),this.error="Unable to resolve to asset transfer",console.error("Error in resolveToAssetTransfer: ",t.t3),t.abrupt("return");case 57:return t.prev=57,t.next=60,I;case 60:t.next=65;break;case 62:t.prev=62,t.t4=t.catch(57),console.warn("Did not find resolve event from router, proceeding with withdrawal",t.t4);case 65:return t.next=67,this.withdraw(n,o,f);case 67:return E=t.sent,t.abrupt("return",E);case 69:case"end":return t.stop()}}),t,this,[[2,12],[18,26],[32,42],[47,52],[57,62]])}))),function(t,e,n,r,o,c,l,d,h,f){return P.apply(this,arguments)})},{key:"withdraw",value:(_=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(F.m)(r,e,this.withdrawAssetId,this.account.address,this.routerPublicIdentifier,this.withdrawQuote);case 3:o=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),console.error("Error in cancelToAssetTransfer",t.t0),t.abrupt("return");case 10:return this.$logger.debug("crossChainTransfer: ",o),n.waitForTransaction(o.withdrawalTx).then((function(t){0===t.status&&console.error("Transaction reverted onchain",t)})),t.abrupt("return",o);case 13:case"end":return t.stop()}}),t,this,[[0,6]])}))),function(t,e,n){return _.apply(this,arguments)})},{key:"cancelTransfer",value:(k=Object(l.a)(regeneratorRuntime.mark((function t(e,n,r,o,c,l){var d,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=c.CONDITIONAL_TRANSFER_RESOLVED.pipe((function(data){return data.transfer.meta.crossChainTransferId===o&&data.channelAddress===e})).waitFor(45e3),h=c.CONDITIONAL_TRANSFER_RESOLVED.pipe((function(data){return data.transfer.meta.crossChainTransferId===o&&data.channelAddress===n})).waitFor(45e3),t.prev=2,t.next=5,Object(F.b)(l,n,r);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),this.$logger.debug(t.t0,"Error in cancelToAssetTransfer");case 10:return t.prev=10,t.next=13,Promise.all([d,h]);case 13:this.$logger.debug(new Error("Transfer was cancelled")),t.next=19;break;case 16:t.prev=16,t.t1=t.catch(10),console.error("Error waiting for sender and receiver cancellations",t.t1);case 19:case"end":return t.stop()}}),t,this,[[2,7],[10,16]])}))),function(t,e,n,r,o,c){return k.apply(this,arguments)})},{key:"transferToConnextDepositAddress",value:(w=Object(l.a)(regeneratorRuntime.mark((function t(e,n){var r,o,c,l,d,h,f,m,data,v,w,T,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=this.networkMeta.abi("ChildERC20","pos"),o=Object(D.b)({networks:this.networks,primaryProvider:"parent"}),c=null,c=L.c.get("loginStrategy")===I.a.strategies.METAMASK?new A.a(window.ethereum):new A.a(o),l=c.utils.toHex(1e9.toString()),d=c.utils.toHex(21e4),h=this.formatAmt,f=this.account.address,I.a.uiconfig.maticDBUID===this.selectedToken.id?(m=e,v=c.utils.toHex(this.formatAmt)):(v="0x00",m=this.depositAssetId,w=new c.eth.Contract(r,m),data=w.methods.transfer(e,h).encodeABI()),T={gasPrice:l,gas:d,to:m,from:f,value:v,data:data},t.next=13,c.currentProvider.request({method:"eth_sendTransaction",params:[T],from:this.account.address});case 13:return k=t.sent,this.$logger.debug("txhash",k),t.abrupt("return",{success:!0,result:k});case 18:return t.prev=18,t.t0=t.catch(0),t.t0.message.includes("WalletMiddleware")?(this.error="Please login to Metamask First",window.ethereum.enable()):t.t0.message.includes("MetaMask Tx Signature")?this.error="User denied transaction from Metamask":t.t0.message.includes("MetaMask Message Signature")?this.error="User denied to sign from Metamask":(this.error=t.t0.message.substring(0,60),console.error(t.t0)),this.flowStatus=this.FAST_WITHDRAW_FLOW.FAILED,t.abrupt("return",{success:!1});case 23:case"end":return t.stop()}}),t,this,[[0,18]])}))),function(t,e){return w.apply(this,arguments)})},{key:"transferConnextFeeToLiquidityAddress",value:(v=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n,r,o,c,l,d,h,f,data,m,v,w,T;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=I.a.uiconfig.connextLiquidityAddress,n=this.networkMeta.abi("ChildERC20","pos"),r=Object(D.b)({networks:this.networks,primaryProvider:"parent"}),o=null,o=L.c.get("loginStrategy")===I.a.strategies.METAMASK?new A.a(window.ethereum):new A.a(r),c=o.utils.toHex(1e9.toString()),l=o.utils.toHex(21e4),d=this.formatConnextFee,I.a.uiconfig.maticDBUID===this.selectedToken.id?(h=I.a.uiconfig.connextLiquidityAddress,f=o.utils.toHex(this.formatConnextFee)):(h=this.depositAssetId,f="0x00",m=new o.eth.Contract(n,h),data=m.methods.transfer(e,d).encodeABI()),v=this.account.address,w={gasPrice:c,gas:l,to:h,from:v,value:f,data:data},t.next=14,o.currentProvider.request({method:"eth_sendTransaction",params:[w],from:this.account.address});case 14:return T=t.sent,t.next=17,this.waitForReceipt(T);case 17:if(t.sent.status){t.next=21;break}return this.error="Receipt Failed for the transaction.",t.abrupt("return",{success:!1});case 21:return this.$logger.debug("txhash",T),t.abrupt("return",{success:!0,result:T});case 25:return t.prev=25,t.t0=t.catch(0),t.t0.message.includes("WalletMiddleware")?(this.error="Please login to Metamask First",window.ethereum.enable()):t.t0.message.includes("MetaMask Tx Signature")?this.error="User denied transaction from Metamask":t.t0.message.includes("MetaMask Message Signature")?this.error="User denied to sign from Metamask":(this.error=t.t0.message.substring(0,60),console.error(t.t0)),this.flowStatus=this.FAST_WITHDRAW_FLOW.FAILED,t.abrupt("return",{success:!1});case 30:case"end":return t.stop()}}),t,this,[[0,25]])}))),function(){return v.apply(this,arguments)})},{key:"sleep",value:function(t){return new Promise((function(e){return setTimeout(e,t)}))}},{key:"waitForReceipt",value:(m=Object(l.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,n=new A.a.providers.HttpProvider(I.a.uiconfig.maticRPC),r=new A.a(n);case 3:return t.next=6,r.eth.getTransactionReceipt(e);case 6:if(o=t.sent,this.$logger.debug("receipt outside cond",o),!o){t.next=11;break}return this.$logger.debug("receipt inside condition",o),t.abrupt("return",o);case 11:return t.next=13,this.sleep(1e3);case 13:t.next=3;break;case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,this,[[0,17]])}))),function(t){return m.apply(this,arguments)})},{key:"handleBurnWithdrawTx",value:(o=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.actionRequiredTxDoc(data.txHash).set({actionTaken:!1,txHash:data.txHash,amount:data.amount,status:1,transactionStatus:R.d.IN_PROGRESS,isPoS:data.isPoS,chainId:this.networks.main.chainId,tokenId:data.tokenId,wappId:"polygon wallet",isConnext:!0,createdAt:x.a.FieldValue.serverTimestamp(),updatedAt:x.a.FieldValue.serverTimestamp()});case 2:this.updateTransactions();case 3:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"updateActionRequiredTxDoc",value:(r=Object(l.a)(regeneratorRuntime.mark((function t(data){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.actionRequiredTxDoc(data.txHash).update({transactionStatus:data.transactionStatus,connextWithdrawTx:data.connextWithdrawTx?data.connextWithdrawTx:"",updatedAt:x.a.FieldValue.serverTimestamp()});case 2:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"validations",value:(n=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(""===this.toSendInToken||this.toSendInToken<0)){t.next=3;break}return this.error=this.$t("invalid.amount"),t.abrupt("return",!1);case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"metamaskValidationForBurn",value:(e=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(I.a.isMetaMaskConnected()||I.a.isWalletlinkConnected()&&Object(W.b)())){t.next=10;break}return e=new A.a(window.ethereum),t.next=4,e.eth.getChainId();case 4:if(t.sent===this.networks.matic.chainId){t.next=10;break}return this.metamaskValidation=!1,n=T.default.filter("connectedWallet")(this.loginStrategy),this.error="Please select ".concat(this.childNetwork.name," Network in ").concat(n),t.abrupt("return",!1);case 10:return this.metamaskValidation=!0,t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"formatAmt",get:function(){var t=new E.a(this.toSendInToken);this.$logger.debug("val",t);var e=new E.a(this.selectedToken.decimals);return t.times(U.pow(e)).toString(10)}},{key:"formatConnextFee",get:function(){var t=new E.a(this.connextTransferFee);this.$logger.debug("val",t);var e=new E.a(this.selectedToken.decimals);return this.$logger.debug("formatConnextFee",t.times(U.pow(e)).toString(10)),t.times(U.pow(e)).toString(10)}},{key:"amountInUsd",get:function(){return"NaN"===this.toSendInUSD?0:this.toSendInUSD}},{key:"parentNetwork",get:function(){return this.networks.main}},{key:"childNetwork",get:function(){return this.networks.matic}},{key:"networkID",get:function(){return this.childNetwork.chainId}},{key:"isEtherToken",get:function(){return!(!this.selectedToken||"ETH"!==this.selectedToken.symbol)}},{key:"isPoSTransaction",get:function(){return this.transferMode===R.f.POS}},{key:"transferModeShownValue",get:function(){return this.isPoSTransaction?"PoS":"Plasma"}},{key:"formattedErrorMessage",get:function(){return this.error?this.error.substring(0,60):""}}]),z}(T.default))||r,V=(n(2979),n(34)),component=Object(V.a)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section position-absolute"},[n("div",{staticClass:"modal withdraw-overview-modal-wrapper",class:{show:t.show}},[n("div",{staticClass:"modal-dialog w-sm-100 align-self-center",attrs:{role:"document"}},[n("div",{staticClass:"box s-modal"},[n("div",{staticClass:"box-header justify-content-center"},[t._e(),t._v(" "),n("div",{staticClass:"text-center align-self-center w-100"},[t.flowStatus===t.FAST_WITHDRAW_FLOW.CONFIRM||t.flowStatus===t.FAST_WITHDRAW_FLOW.FAILED?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Withdraw Overview\n            ")]):t._e(),t._v(" "),t.flowStatus===t.FAST_WITHDRAW_FLOW.IN_PROGRESS?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Withdraw in Progress\n            ")]):t._e(),t._v(" "),t.flowStatus===t.FAST_WITHDRAW_FLOW.COMPLETED?n("div",{staticClass:"modal-step-title font-heading-small font-semibold"},[t._v("\n              Withdraw Completed\n            ")]):t._e()]),t._v(" "),n("span",{staticClass:"align-self-center float-right cursor-pointer",on:{click:t.onCancel}},[n("svg-sprite-icon",{staticClass:"align-self-center float-left cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"box-body"},[n("div",{staticClass:"container-fluid"},[t.flowStatus===t.FAST_WITHDRAW_FLOW.CONFIRM||t.flowStatus===t.FAST_WITHDRAW_FLOW.FAILED?n("div",{staticClass:"confirm-box w-100"},[n("div",{staticClass:"confirm-box__top"},[n("div",{staticClass:"row ps-x-32 ps-y-4"},[t.selectedToken?n("div",{staticClass:"col-12 ps-x-0"},[n("div",{staticClass:"text-center confirm-description ms-t-12"},[t._v("\n                      Please confirm that you are sending "+t._s(t.toSendInToken)+"\n                      "+t._s(t.selectedToken.symbol)+" from\n                      "+t._s(t.childNetwork.name)+" to "+t._s(t.parentNetwork.name)+".\n                    ")]),t._v(" "),n("div",{staticClass:"row ps-x-18 ms-t-30 ms-b-12"},[n("div",{staticClass:"col-md-12 ps-x-0 ps-b-16"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"text-center font-caps font-medium pill ethereum-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v(t._s(t.childNetwork.name))])]),t._v(" "),n("div",{staticClass:"arrow-anime-wrapper d-flex justify-content-center align-items-center align-self-center"},[n("span",{staticClass:"arrow primary position-absolute ps-r-20"},[n("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M1 1.5L6 7L0.999999 12.5",stroke:"#B8B2F9","stroke-width":"2"}})])]),t._v(" "),n("span",{staticClass:"arrow secondary position-absolute ps-r-20"},[n("svg",{staticClass:"align-self-center",attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{opacity:"0.6",d:"M10 1.5L15 7L10 12.5",stroke:"#AAC5F9","stroke-width":"2"}})])])]),t._v(" "),n("div",{staticClass:"text-center font-caps font-medium pill matic-pill d-flex justify-content-center col"},[n("span",{staticClass:"align-self-center"},[t._v(t._s(t.parentNetwork.name))])])])])]),t._v(" "),n("div",{staticClass:"token-details text-center"},[n("div",{staticClass:"token-details__img d-flex justify-content-center align-self-center mx-auto"},[t.selectedToken.symbol&&t.tokenImage(t.selectedToken)?n("img",{staticClass:"align-self-center",attrs:{src:t.tokenImage(t.selectedToken),alt:"Token Image"}}):t.selectedToken.symbol?n("span",{staticClass:"align-self-center font-heading-large ps-t-2 font-semibold"},[t._v(t._s(t.selectedToken.symbol[0]))]):t._e()]),t._v(" "),n("div",{staticClass:"token-details__val font-heading-large font-bold ps-t-16 ps-b-6"},[t._v("\n                        "+t._s(t.toSendInToken)+"\n                        "+t._s(t.selectedToken.name.toUpperCase())+"\n                      ")]),t._v(" "),n("div",{staticClass:"token-details__usd font-body-small"},[t._v("\n                        $ "+t._s(t.toSendInUSD)+"\n                      ")])])]):t._e()])]),t._v(" "),n("div",{staticClass:"confirm-box__bottom"},[n("div",{staticClass:"row ps-x-32 ms-t-8"},[n("div",{staticClass:"col-md-12 ps-x-0 ps-t-16"},[n("div",{staticClass:"d-flex ps-b-16"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Estimated Transaction fee\n                      ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[n("div",{staticClass:"align-self-center cursor-pointer"},[0!==t.connextTransferFee?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            "+t._s(t.connextTransferFee)+"\n                            "+t._s(t.selectedToken.symbol)+"\n                          ")]):t._e(),t._v(" "),0===t.connextTransferFee?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e()])])]),t._v(" "),n("div",{staticClass:"d-flex ps-b-16"},[n("div",{staticClass:"font-body-medium font-semibold align-self-center"},[t._v("\n                        Amount Received\n                      ")]),t._v(" "),n("div",{staticClass:"d-flex ml-auto align-self-center justify-content-center"},[n("div",{staticClass:"align-self-center cursor-pointer"},[0!==t.receivableAmount?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            "+t._s(t.receivableAmount)+" "+t._s(t.selectedToken.symbol)+"\n                          ")]):t._e(),t._v(" "),0===t.receivableAmount?n("div",{staticClass:"font-body-small ps-t-2"},[t._v("\n                            estimating...\n                          ")]):t._e()])])]),t._v(" "),n("ButtonLoader",{staticClass:"w-100",attrs:{loading:t.settingBrowserNodeDisabled||t.ifRouterSupportsTransfer,label:t.loadingText,nature:"primary",size:"large"},on:{onClick:t.startCrossChainTransfer}})],1)]),t._v(" "),n("div",{staticClass:"row ps-x-14 ps-y-8"},[n("div",{staticClass:"font-caption text-center text-danger mx-auto"},[t._v("\n                    "+t._s(t.formattedErrorMessage)+"\n                  ")])])])]):t._e(),t._v(" "),t.flowStatus!==t.FAST_WITHDRAW_FLOW.CONFIRM&&t.flowStatus!==t.FAST_WITHDRAW_FLOW.FAILED?n("div",{staticClass:"w-100"},[n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-12 ps-x-0 ps-t-12 ps-b-14"},[n("div",{staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"font-body-medium align-self-center shaded-color"},[t._v("\n                      Transfer Amount\n                    ")]),t._v(" "),t.selectedToken?n("div",{staticClass:"font-body-medium align-self-center"},[t._v("\n                      "+t._s(t.toSendInToken)+"\n                      "+t._s(t.selectedToken.symbol)+"\n                    ")]):n("div",{staticClass:"font-body-medium align-self-center"},[t.selectedToken?n("div",[t._v("\n                        "+t._s(t.toSendInToken)+"\n                        "+t._s(t.selectedToken.symbol)+"\n                      ")]):t._e()])])])])]):t._e(),t._v(" "),t.flowStatus!==t.FAST_WITHDRAW_FLOW.CONFIRM&&t.flowStatus!==t.FAST_WITHDRAW_FLOW.FAILED?n("div",{staticClass:"modal-body-content"},[t.flowStatus===t.FAST_WITHDRAW_FLOW.IN_PROGRESS?n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-34"},[n("div",{staticClass:"loader-gif d-flex justify-content-center"},[n("lottie",{attrs:{options:t.defaultOptions,width:194,height:194}})],1),t._v(" "),n("div",[n("div",{staticClass:"font-heading-medium font-semibold lh-26 ps-b-4"},[t._v("\n                      Transaction in process\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-medium shaded-color"},[t._v("\n                      DO NOT CLOSE THE TAB OR THE BROWSER.\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      This is an immediate transaction powered by Connext.\n                      Please wait until the transaction completes.\n                    ")]),t._v(" "),t.flowStatus===t.FAST_WITHDRAW_FLOW.IN_PROGRESS?n("div",{staticClass:"font-body-small text-primary ps-t-18"},[""!==t.withdrawTransactionHash?n("a",{attrs:{href:t.explorerURL+"/tx/"+t.withdrawTransactionHash,target:"_blank"}},[t._v("\n                        View on Etherscan")]):t._e()]):t._e()])])]):t._e(),t._v(" "),t.flowStatus===t.FAST_WITHDRAW_FLOW.COMPLETED?n("div",{staticClass:"row ps-x-32"},[n("div",{staticClass:"col-md-12 text-center ps-x-0 ps-t-28"},[t._m(0),t._v(" "),n("div",[n("div",{staticClass:"font-heading-medium font-semibold ps-b-4"},[t._v("\n                      Withdraw Completed successfully.\n                    ")]),t._v(" "),n("div",{staticClass:"font-body-small shaded-color"},[t._v("\n                      Your transfer is completed successfully. It will take\n                      some time to reflect in your account. Try refreshing\n                      your browser.\n                    ")]),t._v(" "),""!==t.withdrawTransactionHash?n("div",{staticClass:"font-body-small text-primary ps-t-20"},[n("a",{attrs:{href:t.explorerURL+"/tx/"+t.withdrawTransactionHash,target:"_blank"}},[t._v("\n                        View on Etherscan")])]):t._e()])])]):t._e()]):t._e()])])])])]),t._v(" "),n("div",{staticClass:"modal-backdrop",class:{show:t.show}})])}),o,!1,null,"2c2ca18f",null);e.a=component.exports},1067:function(t,e,n){"use strict";n(113);var r,o=n(36),c=n(46),l=n(44),d=n(45),h=n(28),f=(n(66),n(148),n(12)),m=n(371),v=n.n(m),w=n(177),T=n(445),k=n(59);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var x=Object(k.a)({props:{uri:{type:String,required:!0},close:{type:Function,required:!0}},data:function(){return{defaultOptions:{animationData:T,loop:!1},animationSpeed:2}},components:{Lottie:w.a},computed:{},methods:{}})(r=function(t){Object(l.a)(n,t);var e=_(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(t=e.call.apply(e,[this].concat(c))).copyAnim=!1,t}return Object(c.a)(n,[{key:"copyAnimation",value:function(t){this.copyAnim=t}},{key:"copyAddress",value:function(){var t=this;this.$logger.track("receiveFlow-receiveModal-addressCopied"),this.copyAnimation(!0),v()(this.qrValue),setTimeout((function(){t.copyAnimation(!1)}),3e3)}},{key:"qrValue",get:function(){return this.uri?this.uri:null}}]),n}(f.default))||r,C=(n(2399),n(34)),component=Object(C.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"modal fade show"},[n("div",{staticClass:"modal-dialog align-self-center"},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-body"},[n("div",{staticClass:"ps-16 ps-md-32 box-header"},[n("span",{staticClass:"font-heading-medium font-semibold col"},[t._v("My QR Code")]),t._v(" "),n("div",{staticClass:"align-self-center cursor-pointer",on:{click:t.close}},[n("svg-sprite-icon",{staticClass:"close align-self-center cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"container p-0"},[n("div",{staticClass:"row ps-x-md-32 ps-y-md-60 ps-y-32 ps-x-16 d-flex justify-content-center"},[t.qrValue?n("div",{staticClass:"qrcode-container align-self-center mt-4"},[n("qrcode",{attrs:{value:t.qrValue,options:{size:200}}})],1):t._e(),t._v(" "),n("div",{staticClass:"col-12 font-body-small text-center text-muted ps-t-8"},[t._v("\n                Wallet address\n              ")]),t._v(" "),n("div",{staticClass:"col-12 font-body-small text-center font-medium ps-t-8"},[t._v("\n                "+t._s(t.qrValue)+"\n              ")])]),t._v(" "),n("div",{staticClass:"justify-content-center wallet-download-info w-100 p-0"},[n("div",{staticClass:"col-12 p-0",on:{click:function(e){return t.copyAddress()}}},[!1===t.copyAnim?n("button",{staticClass:"btn btn-primary ps-20 btn-block no-border no-top-border-radius"},[t._v("\n                  Copy Address\n                ")]):t._e(),t._v(" "),!0===t.copyAnim?n("button",{staticClass:"btn btn-block no-border no-top-border-radius"},[n("lottie",{staticClass:"copy-anim align-self-center",attrs:{options:t.defaultOptions,width:45,height:45}})],1):t._e()])])])])])])]),t._v(" "),n("div",{staticClass:"modal-backdrop show"})])}),[],!1,null,"5343682a",null);e.a=component.exports},1076:function(t,e,n){"use strict";n.d(e,"a",(function(){return T}));n(113);var r=n(36),o=n(46),c=n(44),l=n(45),d=n(28),h=(n(141),n(66),n(341)),f=n(73),m=n(8),v=n(62);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var T=function(t){Object(c.a)(n,t);var e=w(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"name",get:function(){return this.label||"Account ".concat(Object(f.stripHexPrefix)(this.address).slice(0,4))}},{key:"checksumAddress",get:function(){return this.address&&Object(f.toChecksumAddress)(this.address)}},{key:"shortChecksumAddress",get:function(){if(!this.address)return null;var a=Object(f.toChecksumAddress)(this.address);return"".concat(a.slice(0,6),"...").concat(a.slice(38,42))}},{key:"mediumChecksumAddress",get:function(){if(!this.address)return null;var a=Object(f.toChecksumAddress)(this.address);return"".concat(a.slice(0,12),"...").concat(a.slice(30,42))}},{key:"isMetamaskAccount",get:function(){var data=v.a.get(this.address);if(data){var t=JSON.parse(data).strategy;if(t&&t===m.a.strategies.METAMASK)return!0}return!1}}]),n}(h.a)},1106:function(t,e,n){"use strict";var r,o=n(34),footer=Object(o.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("footer")}),[],!1,null,null,null).exports,c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"align-self-center"},[r("img",{staticClass:"option-icon inactive",attrs:{src:n(2395),alt:"qr-code"}}),t._v(" "),r("img",{staticClass:"option-icon active",attrs:{src:n(2396),alt:"qr-code"}})])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"align-self-center"},[r("img",{staticClass:"option-icon inactive",attrs:{src:n(2397),alt:"qr-code"}}),t._v(" "),r("img",{staticClass:"option-icon active",attrs:{src:n(2398),alt:"qr-code"}})])}],l=(n(79),n(76),n(94),n(64),n(100),n(113),n(6)),d=n(36),h=n(46),f=n(44),m=n(45),v=n(28),w=n(24),T=(n(52),n(66),n(80),n(1134),n(95),n(411),n(148),n(141),n(12)),k=n(48),_=n(59),x=n(371),C=n.n(x),y=n(177),S=n(56),O=n(1067),I=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row ps-16 ps-md-32 pt-0 m-0 d-flex justify-content-center w-100"},[r("div",{staticClass:"align-self-center mt-4"},[r("img",{attrs:{src:n(864),alt:"Logout"}})]),t._v(" "),r("div",{staticClass:"col-12 font-heading-medium font-semibold text-center ps-t-32"},[t._v("\n                Are you sure want to logout?\n              ")])])}];function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var P,A=Object(_.a)({props:{show:{type:Boolean,required:!1,default:!1},logout:{type:Function,required:!0},close:{type:Function,required:!1,default:function(){this.show=!1}}}})(r=function(t){Object(f.a)(n,t);var e=E(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"mounted",value:function(){}}]),n}(T.default))||r,R=(n(2400),Object(o.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.show?n("div",{staticClass:"modal fade show"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-body"},[n("div",{staticClass:"ps-16 ps-md-32"},[n("div",{staticClass:"align-self-center cursor-pointer ml-auto",on:{click:function(e){return t.close()}}},[n("svg-sprite-icon",{staticClass:"close align-self-center cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"row ps-x-md-32 ps-x-16 ps-b-32 m-0 d-flex w-100"},[n("div",{staticClass:"col-6"},[n("button",{staticClass:"btn btn-light btn-block",on:{click:function(e){return t.close()}}},[t._v("\n                  Cancel\n                ")])]),t._v(" "),n("div",{staticClass:"col-6"},[n("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.logout()}}},[t._v("\n                  Yes, logout\n                ")])])])])])])])]):t._e(),t._v(" "),n("div",{staticClass:"modal-backdrop",class:{show:t.show}})])}),I,!1,null,"5550ef0c",null).exports),D=n(68),L=(n(114),n(188),n(160),n(190),n(39),n(140),n(1135),n(191)),F=n(5),N=n(1063),j=n(1064),M=n(1065),W=n(1066);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}function B(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var U,G=[F.b.DEPOSIT_ENROUTE,F.b.DEPOSIT_PENDING,F.b.APPROVAL_SUCCESS,F.b.APPROVAL_PENDING,F.c.IN_PROGRESS],V=[F.b.DEPOSIT_COMPLETED,F.c.COMPLETED],z=[F.b.DEPOSIT_FAILED,F.b.DEPOSIT_BADHASH,F.b.APPROVAL_FAILED,F.c.FAILED],Y=[F.h.INIT_CHECKPOINTED,F.h.CONFIRM_EXITABLE],K=[F.h.INIT_PENDING,F.h.INIT_BURNT,F.h.CONFIRM_PENDING,F.h.CONFIRM_SUCCESS,F.h.COMPLETE_PENDING,F.h.COMPLETE_STUCK,F.d.IN_PROGRESS],Q=[F.h.COMPLETE_SUCCESS,F.d.COMPLETED],Z=[F.h.INIT_FAILED,F.h.PLASMA_EXIT_BADHASH,F.h.CONFIRM_FAILED,F.h.COMPLETE_FAILED,F.d.FAILED],X=Object(_.a)({props:{},components:{DepositModal:N.a,Icon:S.Icon,WithdrawModal:M.a,FastDepositModal:j.a,FastWithdrawModal:W.a,Button:S.Button},computed:$($($({},Object(k.b)("token",["allTokens"])),Object(k.b)("transaction",["approvals","approveStatusList","deposits","depositStatusList","withdrawals","withdrawStatusList"])),Object(k.b)("network",["networks"])),mixins:[]})(P=function(t){Object(f.a)(n,t);var e=H(n);function n(){var t;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).showDepositModal=!1,t.showWithdrawModal=!1,t.showFastDepositModal=!1,t.showFastWithdrawModal=!1,t.transactionType=null,t.transferMode=null,t.toSendInToken=null,t.currentSelectedToken=null,t.approveTxHash=null,t.depositTxHash=null,t.burnTxHash=null,t.hideDropdown=!1,t.connextStatus=null,t.showFetchingTxs=!1,t.showActionRequiredTxs=!1,t.showInProgressTxs=!1,t.showFailedTxs=!1,t.showSuccessTxs=!1,t.timeAgo=L.d,t.PAGE_SIZE=5,t.currentPage=1,t}return Object(h.a)(n,[{key:"toggleDepositModal",value:function(){this.showDepositModal=!this.showDepositModal}},{key:"toggleWithdrawModal",value:function(){this.showWithdrawModal=!this.showWithdrawModal}},{key:"toggleFastDepositModal",value:function(){this.showFastDepositModal=!this.showFastDepositModal}},{key:"toggleFastWithdrawModal",value:function(){this.showFastWithdrawModal=!this.showFastWithdrawModal}},{key:"approvalList",get:function(){var t=this;return this.approvals.filter((function(t){return t.transactionStatus===F.b.APPROVAL_PENDING})).map((function(e){var n=t.allTokens.find((function(t){return t.id.toLowerCase()===e.tokenId.toLowerCase()}));return $($($({},e),t.approveStatusList[e.txHash]),{},{token:n,transactionType:F.g.DEPOSIT,isApprovalTx:!0})}))}},{key:"depositList",get:function(){var t=this;return this.deposits.filter((function(t){return t.transactionStatus!==F.b.DEPOSIT_BADHASH&&t.transactionStatus!==F.b.DEPOSIT_FAILED&&t.transactionStatus!==F.b.ALTERED_EXTERNALLY})).map((function(e){var n=t.allTokens.find((function(t){return t.id.toLowerCase()===e.tokenId.toLowerCase()}));return $($($({},e),t.depositStatusList[e.txHash]),{},{token:n,transactionType:F.g.DEPOSIT})}))}},{key:"withdrawList",get:function(){var t=this;return this.withdrawals.filter((function(t){return t.transactionStatus!==F.h.ALTERED_EXTERNALLY})).map((function(e){var n=t.allTokens.find((function(t){return t.id.toLowerCase()===e.tokenId.toLowerCase()}));return $($($({},e),t.withdrawStatusList[e.txHash]),{},{token:n,transactionType:F.g.WITHDRAW})}))}},{key:"fullList",get:function(){var t=[].concat(Object(D.a)(this.approvalList),Object(D.a)(this.depositList),Object(D.a)(this.withdrawList)).sort((function(a,b){var t=a.createdAt&&a.createdAt.seconds;return(b.createdAt&&b.createdAt.seconds)-t})),e=[],n=[],r=[],o=[],c=[];return t.forEach((function(t){t.transactionType===F.g.DEPOSIT?V.includes(t.code)||V.includes(t.transactionStatus)?r.push(t):G.includes(t.code)||G.includes(t.transactionStatus)?n.push(t):z.includes(t.code)||z.includes(t.transactionStatus)?o.push(t):c.push(t):t.transactionType===F.g.WITHDRAW&&(Q.includes(t.code)||Q.includes(t.transactionStatus)?r.push(t):K.includes(t.code)||K.includes(t.transactionStatus)?n.push(t):Y.includes(t.code)||Y.includes(t.transactionStatus)?e.push(t):Z.includes(t.code)||Z.includes(t.transactionStatus)?o.push(t):c.push(t))})),{actionRequiredTxs:e,inProgressTxs:n,failedTxs:o,successTxs:r,fetchingTxs:c}}},{key:"toggleFetchingTxs",value:function(){this.showFetchingTxs=!this.showFetchingTxs,this.resetPagination()}},{key:"toggleActionRequiredTxs",value:function(){this.showActionRequiredTxs=!this.showActionRequiredTxs,this.resetPagination()}},{key:"toggleInProgressTxs",value:function(){this.showInProgressTxs=!this.showInProgressTxs,this.resetPagination()}},{key:"toggleFailedTxs",value:function(){this.showFailedTxs=!this.showFailedTxs,this.resetPagination()}},{key:"toggleSuccessTxs",value:function(){this.showSuccessTxs=!this.showSuccessTxs,this.resetPagination()}},{key:"filteredList",get:function(){var t=[];return this.showFetchingTxs&&(t=[].concat(Object(D.a)(t),Object(D.a)(this.fullList.fetchingTxs))),this.showActionRequiredTxs&&(t=[].concat(Object(D.a)(t),Object(D.a)(this.fullList.actionRequiredTxs))),this.showInProgressTxs&&(t=[].concat(Object(D.a)(t),Object(D.a)(this.fullList.inProgressTxs))),this.showFailedTxs&&(t=[].concat(Object(D.a)(t),Object(D.a)(this.fullList.failedTxs))),this.showSuccessTxs&&(t=[].concat(Object(D.a)(t),Object(D.a)(this.fullList.successTxs))),t.length?t:[].concat(Object(D.a)(this.fullList.fetchingTxs),Object(D.a)(this.fullList.actionRequiredTxs),Object(D.a)(this.fullList.inProgressTxs),Object(D.a)(this.fullList.failedTxs),Object(D.a)(this.fullList.successTxs))}},{key:"handleOpenTxDetail",value:function(t){this.$logger.track("notification-onPress",{txType:t.transactionType===F.g.DEPOSIT?"deposit":"withdraw",txHash:t.txHash,status:t.transactionStatus,bridge:t.isPoS?"PoS":"Plasma"}),this.hideDropdown=!0,this.transactionType=t.transactionType,this.transferMode=t.isPoS?F.f.POS:F.f.PLASMA,this.toSendInToken=t.amount.toString(),this.currentSelectedToken=t.token,t.isConnext?(this.connextStatus=t.transactionStatus,t.transactionType===F.g.DEPOSIT?(this.depositTxHash=t.txHash,this.toggleFastDepositModal()):t.transactionType===F.g.WITHDRAW&&(this.burnTxHash=t.txHash,this.toggleFastWithdrawModal())):t.transactionType===F.g.DEPOSIT?(t.isApprovalTx?this.approveTxHash=t.txHash:this.depositTxHash=t.txHash,this.toggleDepositModal()):t.transactionType===F.g.WITHDRAW&&(this.burnTxHash=t.txHash,this.toggleWithdrawModal())}},{key:"formattedAmount",value:function(t){return t}},{key:"networkName",value:function(t){return t===F.g.DEPOSIT?this.childNetwork.name:this.parentNetwork.name}},{key:"txStatus",value:function(t){switch(t){case F.b.DEPOSIT_PENDING:return"Transaction In Progress";case F.b.DEPOSIT_FAILED:return"Failed";case F.b.DEPOSIT_ENROUTE:return"Transaction In Progress";case F.b.DEPOSIT_COMPLETED:return"Success";case F.b.APPROVAL_PENDING:return"Approval Pending";case F.h.INIT_PENDING:case F.h.INIT_BURNT:case F.h.CONFIRM_PENDING:case F.h.CONFIRM_SUCCESS:case F.h.COMPLETE_PENDING:return"Transaction In Progress";case F.h.INIT_FAILED:case F.h.CONFIRM_FAILED:case F.h.COMPLETE_FAILED:case F.h.PLASMA_EXIT_BADHASH:return" Failed";case F.h.INIT_CHECKPOINTED:case F.h.CONFIRM_EXITABLE:return"Action Required";case F.h.COMPLETE_SUCCESS:return"Success";case F.c.CONFIRM:case F.d.CONFIRM:return"Confirm";case F.c.IN_PROGRESS:case F.d.IN_PROGRESS:return"In Progress";case F.c.COMPLETED:case F.d.COMPLETED:return"Completed";case F.c.FAILED:case F.d.FAILED:return"Failed"}}},{key:"successTxStatus",value:function(t){return(t.isConnext||t.transactionType===F.g.WITHDRAW&&t.transactionStatus===F.h.COMPLETE_SUCCESS||t.transactionType===F.g.DEPOSIT&&t.transactionStatus===F.b.DEPOSIT_COMPLETED)&&this.txStatus(t.transactionStatus)}},{key:"txStatusIconName",value:function(t){return t===F.g.DEPOSIT?"transaction/in":"transaction/out"}},{key:"loadMore",value:function(){++this.currentPage,this.$logger.track("notification-loadMorePress")}},{key:"paginatedTxList",get:function(){return this.getIsNextPage?this.filteredList.slice(0,this.PAGE_SIZE*this.currentPage):this.filteredList}},{key:"getIsNextPage",get:function(){return this.filteredList.length>this.PAGE_SIZE*this.currentPage}},{key:"resetPagination",value:function(){this.currentPage=1}},{key:"parentNetwork",get:function(){return this.networks.main}},{key:"childNetwork",get:function(){return this.networks.matic}},{key:"txAmountWithSymbol",value:function(t){var e;return"".concat(null==t?void 0:t.amount," ").concat(null==t||null===(e=t.token)||void 0===e?void 0:e.symbol)}},{key:"txTokenSymbol",value:function(t){var e,n;return null==t||null===(e=t.token)||void 0===e||null===(n=e.symbol)||void 0===n?void 0:n.trim()}},{key:"txToken",value:function(t){return null==t?void 0:t.token}}]),n}(T.default))||P,J=(n(2980),Object(o.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.paginatedTxList.length?n("div",{staticClass:"wallet-notifications",class:{"hide-dropdown":t.hideDropdown}},[n("div",{staticClass:"chip-section d-flex"},[t.fullList.fetchingTxs.length?n("Button",{staticClass:"chip",class:{"chip-selected":t.showFetchingTxs},attrs:{label:"Fetching status",size:"small",variant:"pill"},on:{onClick:t.toggleFetchingTxs}}):t._e(),t._v(" "),t.fullList.actionRequiredTxs.length?n("Button",{staticClass:"chip",class:{"chip-selected":t.showActionRequiredTxs},attrs:{label:"Action Required",size:"small",variant:"pill"},on:{onClick:t.toggleActionRequiredTxs}}):t._e(),t._v(" "),t.fullList.inProgressTxs.length?n("Button",{staticClass:"chip",class:{"chip-selected":t.showInProgressTxs},attrs:{label:"Pending",size:"small",variant:"pill"},on:{onClick:t.toggleInProgressTxs}}):t._e(),t._v(" "),t.fullList.failedTxs.length?n("Button",{staticClass:"chip",class:{"chip-selected":t.showFailedTxs},attrs:{label:"Failed",size:"small",variant:"pill"},on:{onClick:t.toggleFailedTxs}}):t._e(),t._v(" "),t.fullList.successTxs.length?n("Button",{staticClass:"chip",class:{"chip-selected":t.showSuccessTxs},attrs:{label:"Success",size:"small",variant:"pill"},on:{onClick:t.toggleSuccessTxs}}):t._e()],1),t._v(" "),t._l(t.paginatedTxList,(function(e){return n("div",{key:e.txHash,staticClass:"item d-flex flex-row",on:{click:function(n){return t.handleOpenTxDetail(e)}}},[n("div",{staticClass:"item-left d-flex justify-content-center align-items-center"},[n("div",{staticClass:"token-img d-flex justify-content-center align-items-center"},[t.tokenImage(t.txToken(e))?n("img",{staticClass:"image",attrs:{src:t.tokenImage(t.txToken(e))}}):t.txTokenSymbol(e)?n("span",{staticClass:"letter d-flex justify-content-center align-items-center font-semibold"},[t._v("\n            "+t._s(t.txTokenSymbol(e)[0])+"\n          ")]):t._e()]),t._v(" "),n("Icon",{staticClass:"status-arrow",attrs:{name:t.txStatusIconName(e.transactionType)}})],1),t._v(" "),n("div",{staticClass:"item-right"},[n("div",{staticClass:"item-title"},[t._v("\n          "+t._s(e.transactionType)+" of\n          "),n("span",{staticClass:"amount"},[t._v(t._s(t.txAmountWithSymbol(e)))]),t._v("\n          to "+t._s(t.networkName(e.transactionType))+"\n        ")]),t._v(" "),n("div",{staticClass:"item-description text-muted"},[t._v("\n          "+t._s(t.txStatus(e.code)||t.successTxStatus(e)||"Fetching status")+"\n          · "+t._s(t.timeAgo(e.createdAt?e.createdAt.seconds:null))+"\n        ")])])])})),t._v(" "),n("div",{staticClass:"item d-flex flex-row",class:{hide:!t.getIsNextPage},on:{click:t.loadMore}},[t._v("\n      Load more transactions\n    ")])],2):t._e(),t._v(" "),t.showDepositModal?n("deposit-modal",{attrs:{show:t.showDepositModal,cancel:t.toggleDepositModal,transferType:t.transactionType,transferMode:t.transferMode,toSendInToken:t.toSendInToken,selectedToken:t.currentSelectedToken,approveTxHash:t.approveTxHash,depositTxHash:t.depositTxHash,overviewCheck:!0,fromNotification:!0}}):t._e(),t._v(" "),t.showWithdrawModal?n("withdraw-modal",{attrs:{show:t.showWithdrawModal,cancel:t.toggleWithdrawModal,transferMode:t.transferMode,toSendInToken:t.toSendInToken,selectedToken:t.currentSelectedToken,burnTxHash:t.burnTxHash,overviewCheck:!0,fromNotification:!0}}):t._e(),t._v(" "),t.showFastDepositModal?n("fast-deposit-modal",{attrs:{show:t.showFastDepositModal,cancel:t.toggleFastDepositModal,transferType:t.transactionType,transferMode:t.transferMode,toSendInToken:t.toSendInToken,selectedToken:t.currentSelectedToken,depositTxHash:t.depositTxHash,fromNotification:!0,status:t.connextStatus}}):t._e(),t._v(" "),t.showFastWithdrawModal?n("fast-withdraw-modal",{attrs:{show:t.showFastWithdrawModal,cancel:t.toggleFastWithdrawModal,transferMode:t.transferMode,toSendInToken:t.toSendInToken,selectedToken:t.currentSelectedToken,withdrawTxHash:t.burnTxHash,fromNotification:!0,status:t.connextStatus}}):t._e()],1)}),[],!1,null,"34cc673b",null).exports);function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var et,nt=Object(_.a)({props:{},components:{Icon:S.Icon},computed:{},mixins:[]})(U=function(t){Object(f.a)(n,t);var e=tt(n);function n(){var t;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).hideDropdown=!1,t.timeAgo=L.d,t.PAGE_SIZE=5,t.currentPage=1,t}return Object(h.a)(n,[{key:"fullList",get:function(){return[{createdAt:{seconds:1612857631,nanoseconds:991e6},status:3,txHash:"0x01429a56c31da693354b06ceb74e2fe062fbfc7bac101d3068d75f43c85743fa",tokenId:"df44739e-298b-479c-a052-274a5365b439",amount:"0.5",updatedAt:{seconds:1612857688,nanoseconds:887e6},_id:"0x01429a56c31da693354b06ceb74e2fe062fbfc7bac101d3068d75f43c85743fa",code:-4,msg:"Checkpointed",token:{name:"Token",symbol:"TKN",addresses:{5:"0x76EB2542043B34b08620f6960f131a9bDaC2D578",80001:"0x455302a6e83f8B03a3E2e576CccbaDc005a46b39"},decimals:18,isMetaTx:!0,id:"df44739e-298b-479c-a052-274a5365b439",isConnextEnabled:!0,isPoS:!0,usd:"0.36990638",updatedAt:{seconds:1613992216,nanoseconds:801e6}},transactionType:"WITHDRAW"},{transactionStatus:"IN_PROGRESS",isPoS:!0,updatedAt:{seconds:1612806959,nanoseconds:13e7},amount:"1",createdAt:{seconds:1612806959,nanoseconds:13e7},isConnext:!0,wappId:"matic wallet",tokenId:"092450ba-fff6-457c-95ee-f0503f6e35fa",chainId:5,txHash:"0xa1250eb77e2473b906811872dc66e44764d6ce4a70a63e69257317695ed01003",actionNeeded:!0,_id:"0xa1250eb77e2473b906811872dc66e44764d6ce4a70a63e69257317695ed01003",code:4,msg:"Pending",token:{usd:"0.15384348",id:"092450ba-fff6-457c-95ee-f0503f6e35fa",decimals:18,symbol:"MATIC",isMetaTx:!1,addresses:{1:"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0",3:"0x28C8713DDe7F063Fdc4cA01aB2A8856e0F243Fec",5:"0x499d11E0b6eAC7c0593d8Fb292DCBbF815Fb29Ae",137:"0x0000000000000000000000000000000000001010",4626:"0xc2cfb9df693008d45E0E1ac7218dF89Beb092928",15001:"0x9a93c912f4eff0254d178a18acd980c1b05b57b0",80001:"0x0000000000000000000000000000000000001010"},updatedAt:{seconds:1613992516,nanoseconds:228e6},icon:"matic.png",name:"Matic"},transactionType:"DEPOSIT"}].sort((function(a,b){var t=a.createdAt&&a.createdAt.seconds;return(b.createdAt&&b.createdAt.seconds)-t}))}},{key:"handleOpenTxDetail",value:function(t){this.hideDropdown=!0,console.log("Clicked ",t)}},{key:"formattedAmount",value:function(t){return t}},{key:"txStatusIconName",value:function(t){return"DEPOSIT"===t?"transaction/in":"transaction/out"}},{key:"loadMore",value:function(){++this.currentPage}},{key:"paginatedTxList",get:function(){return this.getIsNextPage?this.fullList.slice(0,this.PAGE_SIZE*this.currentPage):this.fullList}},{key:"getIsNextPage",get:function(){return this.fullList.length>this.PAGE_SIZE*this.currentPage}}]),n}(T.default))||U,st=(n(2981),Object(o.a)(nt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"staking-notifications",class:{"hide-dropdown":t.hideDropdown}},[t._l(t.paginatedTxList,(function(e){return n("div",{key:e.txHash,staticClass:"item d-flex flex-row",on:{click:function(n){return t.handleOpenTxDetail(e)}}},[n("div",{staticClass:"item-left d-flex justify-content-center align-items-center"},[n("div",{staticClass:"token-img d-flex justify-content-center align-items-center"},[t.tokenImage(e.token)?n("img",{staticClass:"image",attrs:{src:t.tokenImage(e.token)}}):e.token.symbol?n("span",{staticClass:"letter font-heading-large d-flex justify-content-center align-items-center font-semibold"},[t._v("\n            "+t._s(e.token.symbol[0])+"\n          ")]):t._e()]),t._v(" "),n("Icon",{staticClass:"status-arrow",attrs:{name:t.txStatusIconName(e.transactionType)}})],1),t._v(" "),n("div",{staticClass:"item-right"},[n("div",{staticClass:"item-title font-body-small"},[t._v("\n          Staked\n          "),n("span",{staticClass:"amount"},[t._v(t._s(t.formattedAmount(e.amount))+" "+t._s(e.token.symbol))]),t._v("\n          to Validator Name\n        ")]),t._v(" "),n("div",{staticClass:"item-description text-muted font-caption font-regular"},[t._v("\n          "+t._s("Fetching status")+"\n          · "+t._s(t.timeAgo(e.createdAt.seconds))+"\n        ")])])])})),t._v(" "),n("div",{staticClass:"item d-flex flex-row",class:{hide:!t.getIsNextPage},on:{click:t.loadMore}},[t._v("\n      Load more transactions\n    ")])],2)])}),[],!1,null,"74d9df05",null).exports);function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var it,ot=Object(_.a)({props:{},components:{},computed:{},mixins:[]})(et=function(t){Object(f.a)(n,t);var e=at(n);function n(){var t;Object(d.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).hideDropdown=!1,t.timeAgo=L.d,t.PAGE_SIZE=5,t.currentPage=1,t}return Object(h.a)(n,[{key:"fullList",get:function(){return[{msg:"Your validator position is in Auction. Please bid higher to keep your position alive.",createdAt:{seconds:1612857688,nanoseconds:887e6},_id:"0x01429a56c31da693354b06ceb74e2fe062fbfc7bac101d3068d75f43c85743fa"},{transactionStatus:"IN_PROGRESS",createdAt:{seconds:1612806959,nanoseconds:13e7},_id:"0xa1250eb77e2473b906811872dc66e44764d6ce4a70a63e69257317695ed01003",msg:"0x23..2344 has bid higher than you. Bid more to keep your position alive in auction."}].sort((function(a,b){var t=a.createdAt&&a.createdAt.seconds;return(b.createdAt&&b.createdAt.seconds)-t}))}},{key:"handleOpenNotification",value:function(t){this.hideDropdown=!0,console.log("Clicked ",t)}},{key:"loadMore",value:function(){++this.currentPage}},{key:"paginatedNotificationList",get:function(){return this.getIsNextPage?this.fullList.slice(0,this.PAGE_SIZE*this.currentPage):this.fullList}},{key:"getIsNextPage",get:function(){return this.fullList.length>this.PAGE_SIZE*this.currentPage}}]),n}(T.default))||et,ct=(n(2982),Object(o.a)(ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"general-notifications",class:{"hide-dropdown":t.hideDropdown}},[t._l(t.paginatedNotificationList,(function(e){return n("div",{key:e._id,staticClass:"ps-15 dark-700 cursor-pointer",on:{click:function(n){return t.handleOpenNotification(e)}}},[n("div",{staticClass:"item-title font-body-small"},[t._v("\n      "+t._s(e.msg)+"\n    ")]),t._v(" "),n("div",{staticClass:"font-caption font-regular dark-300 ms-t-4"},[t._v("\n      "+t._s(t.timeAgo(e.createdAt.seconds))+"\n    ")])])})),t._v(" "),t.getIsNextPage?n("div",{staticClass:"ps-15 dark-700 cursor-pointer d-flex flex-row",class:{hide:!t.getIsNextPage},on:{click:t.loadMore}},[t._v("\n    Load more transactions\n  ")]):t._e()],2)}),[],!1,null,"0340a7fa",null).exports),lt=n(234),ut=n(8),ht=n(105),pt=n(445);function ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}function mt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function vt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?mt(Object(source),!0).forEach((function(e){Object(w.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):mt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var gt,wt="main",bt="matic",Tt=Object(_.a)({props:{},components:{Lottie:y.a,ReceiveQrCode:O.a,LogoutConfirm:R,Button:S.Button,WalletNotifications:J,StakingNotifications:st,GeneralNotifications:ct},computed:vt(vt(vt(vt({},Object(k.b)("auth",["user"])),Object(k.b)("account",["account"])),Object(k.b)("network",["networks","selectedNetworkKey"])),Object(k.b)("transaction",["approveMetadata","depositMetadata","withdrawMetadata"]))})(it=function(t){Object(f.a)(o,t);var e,n,r=ft(o);function o(){var t;Object(d.a)(this,o);for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return(t=r.call.apply(r,[this].concat(n))).isCollapsed=!0,t.isProfileOpen=!1,t.isAppOpen=!1,t.isWalletNotificationOpen=!1,t.isStakingNotificationOpen=!1,t.isGeneralNotificationOpen=!1,t.defaultOptions={animationData:pt,loop:!1},t.animationSpeed=2,t.copyAnim=!1,t.openQrCode=!1,t.openLogout=!1,t.maticSupportLink=ut.a.uiconfig.maticSupportLink,t.widgetUrls=ut.a.uiconfig.widgetUrls,t.appList=[{name:"Polygon Wallet",icon:"wallet",description:"Send and receive crypto assets on Polygon network",link:{name:"wallet"}},{name:"Polygon Bridge",icon:"bridge",description:"Deposit and withdraw between networks",link:{name:"bridge"}},{name:"Staking",icon:"staking",description:"Stake matic and earn rewards",link:{name:"staking"},target:"_blank"},{name:"Widget Dashboard",icon:"widget-dashboard",description:"Manage all your polygon wallet widgets at one place",link:{name:"widget-dashboard"}}],t}return Object(h.a)(o,[{key:"handleCollapse",value:function(t){this.isCollapsed=!!t,this.isProfileOpen=!1,this.isAppOpen=!1,this.isWalletNotificationOpen=!1,this.isStakingNotificationOpen=!1,this.isGeneralNotificationOpen=!1}},{key:"isTogglerActive",get:function(){return!(this.isCollapsed&&!(this.isProfileOpen||this.isAppOpen||this.isWalletNotificationOpen||this.isStakingNotificationOpen||this.isGeneralNotificationOpen))}},{key:"loginIconName",get:function(){return ut.a.isWCConnected()?"login/walletconnect":ut.a.isWalletlinkConnected()||Object(ht.b)()?"login/walletlink":"login/metamask"}},{key:"toggleProfileMenu",value:function(){this.isProfileOpen=!this.isProfileOpen,this.isProfileOpen?(this.isAppOpen=!1,this.isWalletNotificationOpen=!1,this.isStakingNotificationOpen=!1,this.isGeneralNotificationOpen=!1):this.handleCollapse(!0)}},{key:"toggleAppMenu",value:function(){this.isAppOpen=!this.isAppOpen,this.isAppOpen?(this.isProfileOpen=!1,this.isWalletNotificationOpen=!1,this.isStakingNotificationOpen=!1,this.isGeneralNotificationOpen=!1):this.handleCollapse(!0)}},{key:"toggleWalletNotificationMenu",value:function(){this.isWalletNotificationOpen=!this.isWalletNotificationOpen,this.isWalletNotificationOpen?(this.isProfileOpen=!1,this.isAppOpen=!1,this.isStakingNotificationOpen=!1,this.isGeneralNotificationOpen=!1):this.handleCollapse(!0)}},{key:"toggleStakingNotificationMenu",value:function(){this.isStakingNotificationOpen=!this.isStakingNotificationOpen,this.isStakingNotificationOpen?(this.isProfileOpen=!1,this.isAppOpen=!1,this.isWalletNotificationOpen=!1,this.isGeneralNotificationOpen=!1):this.handleCollapse(!0)}},{key:"toggleGeneralNotificationMenu",value:function(){this.isGeneralNotificationOpen=!this.isGeneralNotificationOpen,this.isGeneralNotificationOpen?(this.isProfileOpen=!1,this.isAppOpen=!1,this.isWalletNotificationOpen=!1,this.isStakingNotificationOpen=!1):this.handleCollapse(!0)}},{key:"formattedAppList",get:function(){var t=this;return this.appList.filter((function(e){return!(e.link&&e.link.name&&e.link.name&&t.$nuxt.$route.name.startsWith(e.link.name))}))}},{key:"appName",get:function(){return"wallet"===this.currentRouteName?"Wallet v2":"bridge"===this.currentRouteName?"Bridge v2":this.checkIfNestedRoute("staking-rewards-calculator")?"Rewards Calculator":this.checkIfNestedRoute("staking")?"Staking":"widget-dashboard"===this.currentRouteName?"Widget Dashboard":""}},{key:"currentRouteName",get:function(){return this.$route&&this.$route.name?this.$nuxt.$route.name:""}},{key:"currentRoutePath",get:function(){return this.$route&&this.$route.path?this.$route.path:""}},{key:"isRouteWalletOrBridge",get:function(){return"wallet"===this.currentRouteName||"bridge"===this.currentRouteName}},{key:"checkIfNestedRoute",value:function(){if(this.$route&&this.$route.name)for(var t=0;t<arguments.length;t++){var e=t<0||arguments.length<=t?void 0:arguments[t];if(this.$route.name.startsWith(e))return!0}return!1}},{key:"copyAnimation",value:function(t){this.copyAnim=t}},{key:"copyAddress",value:function(){var t=this;this.copyAnimation(!0),C()(this.account.checksumAddress||this.account.address),setTimeout((function(){t.copyAnimation(!1)}),3e3)}},{key:"qrClose",value:function(){this.openQrCode=!1}},{key:"login",value:function(){var t=this.currentRouteName;this.$logger.track("authFlow-loginPressed"),this.currentRouteName.startsWith("staking")&&(t=this.currentRoutePath),this.$router.push({name:"login",params:{next:t}})}},{key:"logoutClose",value:function(){this.openLogout=!1}},{key:"formattedUserAddress",get:function(){if(this.account&&this.account.address){if(this.account.name)return this.account.name;var t=this.account.address.slice(0,4),e=this.account.address.length;return t+"..."+this.account.address.slice(e-4)}return""}},{key:"userProfilePic",get:function(){try{return this.user.photoURL}catch(t){return null}}},{key:"walletNotificationCount",get:function(){return this.walletNotificationCountCalculation().count}},{key:"walletNotificationText",get:function(){return this.walletNotificationCountCalculation().text}},{key:"walletNotificationCountCalculation",value:function(){var t=this.approveMetadata.count,e=this.depositMetadata.count,n=this.withdrawMetadata.count,r=this.depositMetadata.text,o=this.withdrawMetadata.text,c="Action Required";return t>0?{count:t,text:c}:n+e>0?o===c&&r===c?{count:n+e,text:c}:o===c?{count:n,text:c}:r===c?{count:e,text:c}:{count:e+n,text:"Transaction In Progress"}:{count:0,text:""}}},{key:"shouldChangeNetwork",get:function(){return!!ut.a.isMetaMaskConnected()&&("wallet"===this.currentRouteName&&this.selectedNetworkKey!==bt||"bridge"===this.currentRouteName&&this.selectedNetworkKey!==bt)}},{key:"changeNetworkText",get:function(){return"Switch to ".concat(this.networks.matic.name)}},{key:"changeNetworkHandler",value:(n=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.selectedNetworkKey!==wt){t.next=11;break}return t.prev=1,this.$logger.track("switch-to-matic-button-initiated",{currentPage:this.currentRoutePath}),t.next=5,Object(lt.i)();case 5:this.$logger.track("switch-to-matic-button-completed",{currentPage:this.currentRoutePath}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log("Unable to switch network");case 11:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(){return n.apply(this,arguments)})},{key:"logout",value:(e=Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.$logger.track("authFlow-logoutPressed"),this.openLogout=!1,t.next=4,this.$store.dispatch("auth/logout");case 4:this.$router.push({name:"index"});case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),o}(T.default))||it,kt=(n(2983),Object(o.a)(Tt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"navbar navbar-expand-lg p-0"},[r("nuxt-link",{staticClass:"navbar-brand h-100 d-flex ps-l-28 justify-content-center align-items-center",attrs:{to:{name:"index"}}},[r("img",{staticClass:"polygon-logo",attrs:{src:n(1132),alt:"Polygon Logo"}}),t._v(" "),r("div",{staticClass:"app-name ps-l-12"},[t._v("\n      "+t._s(t.appName)+"\n    ")])]),t._v(" "),r("button",{staticClass:"navbar-toggler ml-auto outline-none ms-r-12",attrs:{role:"button",type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleCollapse(!t.isCollapsed)}}},[r("svg-sprite-icon",{directives:[{name:"show",rawName:"v-show",value:!t.isTogglerActive,expression:"!isTogglerActive"}],staticClass:"icon navbar-toggler-icon",attrs:{name:"grabber"}}),t._v(" "),r("svg-sprite-icon",{directives:[{name:"show",rawName:"v-show",value:t.isTogglerActive,expression:"isTogglerActive"}],staticClass:"icon close-icon",attrs:{name:"close"}})],1),t._v(" "),t.user?r("div",{staticClass:"collapse navbar-collapse",class:{show:!t.isCollapsed}},[r("ul",{staticClass:"navbar-nav d-flex justify-content-center ms-y-0 ml-auto ms-r-32 p-0"},["widget-dashboard"===t.currentRouteName?r("li",{staticClass:"nav-item"},[r("a",{attrs:{href:t.widgetUrls.docs,target:"_blank",rel:"noopener noreferrer"}},[r("Button",{staticClass:"outline-none",attrs:{label:"Docs",nature:"link",size:"medium",variant:"pill"}})],1)]):t._e(),t._v(" "),r("li",{staticClass:"nav-item"},[r("a",{attrs:{href:t.maticSupportLink,target:"_blank"}},[r("Button",{staticClass:"outline-none",attrs:{label:"Support",nature:"link",size:"medium",variant:"pill"}})],1)]),t._v(" "),r("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleAppMenu(e)}}},[r("Button",{staticClass:"outline-none",attrs:{iconName:"navbar/menu",label:"Apps",nature:"link",size:"medium",variant:"pill"}}),t._v(" "),t.isAppOpen?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleAppMenu,expression:"toggleAppMenu"}],staticClass:"no-top-border-radius dropdown-menu dropdown-menu-center ms-0 show"},t._l(t.formattedAppList,(function(e){return r("div",{key:e.name,staticClass:"app-item-wrapper"},[e.link?r("nuxt-link",{staticClass:"app-item d-flex flex-row ps-24",attrs:{to:e.link},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleAppMenu(e)}}},[r("div",{staticClass:"app-item__icon ms-r-24"},[r("img",{attrs:{src:n(867)("./"+e.icon+".png")}})]),t._v(" "),r("div",{staticClass:"app-item-right"},[r("div",{staticClass:"app-item-title"},[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),r("div",{staticClass:"app-item-description text-muted"},[t._v("\n                  "+t._s(e.description)+"\n                ")])])]):t._e(),t._v(" "),e.externalLink?r("a",{staticClass:"app-item d-flex flex-row ps-24",attrs:{href:e.externalLink,target:e.target?e.target:"_self"}},[r("div",{staticClass:"app-item__icon ms-r-24"},[r("img",{attrs:{src:n(867)("./"+e.icon+".png")}})]),t._v(" "),r("div",{staticClass:"app-item-right"},[r("div",{staticClass:"app-item-title"},[t._v("\n                  "+t._s(e.name)+"\n                ")]),t._v(" "),r("div",{staticClass:"app-item-description text-muted"},[t._v("\n                  "+t._s(e.description)+"\n                ")])])]):t._e()],1)})),0):t._e()],1),t._v(" "),t.isRouteWalletOrBridge?r("li",{staticClass:"nav-item"},[r("div",{staticClass:"d-flex notification-button",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleWalletNotificationMenu(e)}}},[r("div",{staticClass:"notification-icon-container"},[r("svg-sprite-icon",{staticClass:"notification-icon",attrs:{name:"notification-bell",alt:"notifications"}}),t._v(" "),r("div",{staticClass:"notification-count d-flex align-items-center justify-content-center",class:["Action Required"===t.walletNotificationText?"action-required":"in-progress"]},[t._v("\n              "+t._s(t.walletNotificationCount)+"\n            ")])],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.walletNotificationText,expression:"walletNotificationText"}],staticClass:"notification-text ms-y-auto cursor-pointer shaded-dark-color"},[t._v("\n            "+t._s(t.walletNotificationText)+"\n          ")])]),t._v(" "),t.isWalletNotificationOpen?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleWalletNotificationMenu,expression:"toggleWalletNotificationMenu"}],staticClass:"no-top-border-radius dropdown-menu dropdown-menu-center ms-0 show"},[r("wallet-notifications")],1):t._e()]):t._e(),t._v(" "),t._e(),t._v(" "),t._e(),t._v(" "),t.shouldChangeNetwork?r("li",{staticClass:"nav-item"},[r("Button",{staticClass:"change-network outline-none",attrs:{label:t.changeNetworkText,size:"medium",nature:"primary"},on:{onClick:t.changeNetworkHandler}})],1):t._e(),t._v(" "),r("li",{staticClass:"nav-item",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleProfileMenu(e)}}},[r("Button",{staticClass:"metamask-address outline-none",attrs:{label:t.formattedUserAddress,iconName:t.loginIconName,iconNameRight:"discloser/bottom",size:"medium",variant:"pill",backgroundColor:"#F3F4F7"}}),t._v(" "),t.isProfileOpen?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleProfileMenu,expression:"toggleProfileMenu"}],staticClass:"profile-dropdown-menu no-top-border-radius dropdown-menu dropdown-menu-right ms-0 show"},[r("div",{staticClass:"profile-container"},[r("div",{staticClass:"d-flex ps-16 ps-md-32"},[r("span",{staticClass:"profile-icon profile-with-status align-self-center"},[t.userProfilePic?r("img",{attrs:{src:t.userProfilePic,alt:t.formattedUserAddress}}):r("svg-sprite-icon",{staticClass:"profile-logo",attrs:{name:"profile"}}),t._v(" "),r("div",{staticClass:"profile-status d-none"},[r("svg",{staticClass:"status-icon",attrs:{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("g",{attrs:{filter:"url(#filter0_d)"}},[r("circle",{attrs:{cx:"16",cy:"15",r:"12",fill:"white"}})]),t._v(" "),r("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.6095 11H21.3335C22.0688 11 22.6668 11.598 22.6668 12.3333V19.6667C22.6668 20.402 22.0688 21 21.3335 21H10.6668C9.9315 21 9.3335 20.402 9.3335 19.6667V12.3333C9.3335 11.598 9.9315 11 10.6668 11H12.3908L14.1955 9.19534C14.2573 9.13331 14.3308 9.08412 14.4117 9.05059C14.4925 9.01707 14.5793 8.99988 14.6668 9H17.3335C17.4211 8.99988 17.5078 9.01707 17.5887 9.05059C17.6696 9.08412 17.743 9.13331 17.8048 9.19534L19.6095 11ZM12.6668 15.6667C12.6668 17.4733 14.1935 19 16.0002 19C17.8068 19 19.3335 17.4733 19.3335 15.6667C19.3335 13.86 17.8068 12.3333 16.0002 12.3333C14.1935 12.3333 12.6668 13.86 12.6668 15.6667ZM14 15.6665C14 14.5825 14.916 13.6665 16 13.6665C17.084 13.6665 18 14.5825 18 15.6665C18 16.7505 17.084 17.6665 16 17.6665C14.916 17.6665 14 16.7505 14 15.6665Z",fill:"#6E798F"}}),t._v(" "),r("defs",[r("filter",{attrs:{id:"filter0_d",x:"0",y:"0",width:"32",height:"32",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"}},[r("feFlood",{attrs:{"flood-opacity":"0",result:"BackgroundImageFix"}}),t._v(" "),r("feColorMatrix",{attrs:{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}}),t._v(" "),r("feOffset",{attrs:{dy:"1"}}),t._v(" "),r("feGaussianBlur",{attrs:{stdDeviation:"2"}}),t._v(" "),r("feColorMatrix",{attrs:{type:"matrix",values:"0 0 0 0 0.0235294 0 0 0 0 0.0627451 0 0 0 0 0.141176 0 0 0 0.12 0"}}),t._v(" "),r("feBlend",{attrs:{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}}),t._v(" "),r("feBlend",{attrs:{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}})],1)])])])],1),t._v(" "),r("div",{staticClass:"ps-l-20 profile-details"},[r("div",{staticClass:"d-flex"},[r("div",{staticClass:"font-body-small font-medium"},[t._v("\n                    "+t._s(t.formattedUserAddress)+"\n                  ")]),t._v(" "),r("div",{staticClass:"font-caption ml-auto text-gray"},[t._v("\n                    "+t._s(t.networks.matic.name||"Polygon")+"\n                  ")])]),t._v(" "),t.account?r("div",{staticClass:"d-flex justify-content-center ps-t-12",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.copyAddress(e)}}},[r("div",{staticClass:"profile-address d-flex"},[r("div",{staticClass:"col p-0 d-block address mr-auto align-self-center"},[t._v("\n                      "+t._s(t.account.address)+"\n                    ")]),t._v(" "),r("div",{staticClass:"copy-wrapper justify-content-center"},[!1===t.copyAnim?r("svg-sprite-icon",{staticClass:"copy-icon align-self-center",attrs:{name:"copy"}}):t._e(),t._v(" "),!0===t.copyAnim?r("lottie",{staticClass:"copy-anim align-self-center",attrs:{options:t.defaultOptions,width:24,height:24}}):t._e()],1)])]):t._e()])]),t._v(" "),r("div",{staticClass:"dropdown-divider"}),t._v(" "),r("div",{staticClass:"d-flex ps-6 ps-md-12"},[r("ul",{staticClass:"profile-option-list w-100"},[r("li",{staticClass:"option-item",on:{click:function(e){t.openQrCode=!t.openQrCode}}},[r("div",{staticClass:"d-flex"},[t._m(0),t._v(" "),r("div",{staticClass:"option-text font-body-medium align-self-center ps-x-16"},[t._v("\n                      Show QR Code\n                    ")]),t._v(" "),r("div",{staticClass:"align-elf-center d-flex justify-content-center ml-auto"},[r("svg",{staticClass:"align-self-center right-arrow",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M13.2929 12L8 6.70706L9.41421 5.29285L16.1213 12L9.41421 18.7071L8 17.2928L13.2929 12Z",fill:"#B4B7BD"}})])])])]),t._v(" "),r("li",{staticClass:"option-item",on:{click:function(e){t.openLogout=!0}}},[r("div",{staticClass:"d-flex"},[t._m(1),t._v(" "),r("div",{staticClass:"option-text font-body-medium align-self-center ps-x-16"},[t._v("\n                      Logout\n                    ")]),t._v(" "),r("div",{staticClass:"align-elf-center d-flex justify-content-center ml-auto"},[r("svg",{staticClass:"align-self-center right-arrow",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M13.2929 12L8 6.70706L9.41421 5.29285L16.1213 12L9.41421 18.7071L8 17.2928L13.2929 12Z",fill:"#B4B7BD"}})])])])])])])])]):t._e()],1)])]):r("div",{staticClass:"collapse navbar-collapse",class:{show:!t.isCollapsed}},[r("ul",{staticClass:"navbar-nav d-flex justify-content-center ms-y-0 ml-auto ms-r-32 p-0"},[r("li",{staticClass:"nav-item"},[r("Button",{staticClass:"outline-none",attrs:{label:"Connect to a Wallet",nature:"primary",size:"medium"},on:{onClick:t.login}})],1)])]),t._v(" "),t.account&&t.openQrCode?r("receive-qr-code",{attrs:{uri:t.account.address,close:t.qrClose}}):t._e(),t._v(" "),r("logout-confirm",{attrs:{show:t.openLogout,logout:t.logout,close:t.logoutClose}})],1)}),c,!1,null,"3839b273",null).exports);n(302);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(m.a)(this,n)}}var xt=Object(_.a)({props:{},components:{}})(gt=function(t){Object(f.a)(n,t);var e=_t(n);function n(){var t;return Object(d.a)(this,n),(t=e.call(this)).toasts=null,t.toasts=[],t}return Object(h.a)(n,[{key:"mounted",value:function(){var t=this;ut.a.bus.$on("toast:add",(function(title,e){if(title)return(e=e||{}).title=title,e.type=e.type||"success",e.id=e.id||"".concat(Date.now(),":").concat(t.toasts.length),t.toasts.unshift(e),e.sticky||(e._tid=setTimeout(t.removeToast,e.timeout||1e4,e)),e})),ut.a.bus.$on("toast:remove",(function(e){t.removeToast({id:e})}))}},{key:"removeToast",value:function(t){for(var i=0;i<this.toasts.length;i+=1)if(this.toasts[i].id===t.id){this.toasts[i]._tid&&clearTimeout(this.toasts[i]._tid),this.toasts.splice(i,1);break}}}]),n}(T.default))||gt,Ct=(n(2984),{components:{FooterSection:footer,NavbarSection:kt,Toast:Object(o.a)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast-container font-body-medium"},t._l(t.toasts,(function(e){return n("div",{key:e.id,staticClass:"tt"},[e.details?t._e():n("div",{staticClass:"tt-header d-flex"},[n("div",{staticClass:"tt-header-container d-flex mr-auto"},[n("div",{staticClass:"mr-3"},[n("svg-sprite-icon",{staticClass:"tt-icon align-self-center",class:e.type,attrs:{name:"dummy"}})],1),t._v(" "),n("div",{staticClass:"align-self-center"},[t._v("\n          "+t._s(e.title)+"\n        ")])]),t._v(" "),n("div",{staticClass:"tt-close-container d-flex align-self-stretch justify-content-center",on:{click:function(n){return t.removeToast(e)}}},[e.closeButton?n("svg-sprite-icon",{staticClass:"align-self-center close-icon",attrs:{name:"close"}}):t._e(),t._v(" "),e.closeButton?t._e():n("div",{staticClass:"text-button font-body-medium font-medium align-self-center"},[t._v("\n          Dismiss\n        ")])],1)]),t._v(" "),e.details?n("div",{staticClass:"tt-details-header d-flex"},[n("div",{staticClass:"mr-3"},[n("svg-sprite-icon",{staticClass:"tt-icon align-self-center",class:e.type,attrs:{name:"dummy"}})],1),t._v(" "),n("div",{staticClass:"tt-body-container w-100"},[n("div",{staticClass:"font-semibold mb-2"},[t._v("\n          "+t._s(e.title)+"\n        ")]),t._v(" "),n("div",{staticClass:"mb-4",domProps:{innerHTML:t._s(e.details)}}),t._v(" "),n("div",{staticClass:"d-flex justify-content-end"},[e.acceptButton?n("button",{staticClass:"btn btn-sm btn-light mr-2"},[t._v("\n            Accept\n          ")]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-sm",on:{click:function(n){return t.removeToast(e)}}},[t._v("\n            Dismiss\n          ")])])])]):t._e()])})),0)}),[],!1,null,"0c438c3a",null).exports,WalletConnectModal:n(501).a},data:function(){return{query:{}}},head:function(){return{bodyAttrs:{class:this.$route.query.embed?"embed":""}}},mounted:function(){this.query=this.$route.query}}),yt=(n(2985),Object(o.a)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid p-0"},[t.query.embed?t._e():n("navbar-section"),t._v(" "),n("div",{staticClass:"content-container"},[n("div",{staticClass:"nuxt-section",class:{embed:!!t.query.embed}},[n("nuxt")],1)]),t._v(" "),t.query.embed?t._e():n("footer-section"),t._v(" "),t.query.embed?t._e():n("toast"),t._v(" "),t.query.embed?t._e():n("wallet-connect-modal")],1)}),[],!1,null,"0f1c4e86",null));e.a=yt.exports},1108:function(t,e,n){"use strict";var r={components:{WalletConnectModal:n(501).a},data:function(){return{query:{}}},head:function(){return{bodyAttrs:{class:this.$route.query.embed?"embed":""}}},mounted:function(){this.query=this.$route.query}},o=n(34),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nuxt-section",class:{embed:!!t.query.embed}},[n("nuxt")],1),t._v(" "),n("wallet-connect-modal")],1)}),[],!1,null,"2c6a364a",null);e.a=component.exports},1109:function(t,e,n){"use strict";n(113);var r,o=n(36),c=n(44),l=n(45),d=n(28),h=n(12),f=n(59);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var v=Object(f.a)({props:{},components:{}})(r=function(t){Object(c.a)(n,t);var e=m(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(h.default))||r,w=n(34),component=Object(w.a)(v,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrapper py-5 d-flex justify-content-center"},[e("span",{staticClass:"spinner my-5"})])}],!1,null,null,null);e.a=component.exports},1110:function(t,e,n){"use strict";n(305),n(114),n(66),n(39),n(81),n(258),n(189);var r=n(2991),o=function(t){var e=t.map((function(s){return'<g id="'.concat(s.id,'">').concat(s.content,"</g>")})).join("");return"<svg><defs>".concat(e,"</defs></svg>")}(r.keys().map((function(t){return{id:t.replace("./","").replace(".svg",""),content:window.atob(r(t).replace(/data:image\/svg\+xml;base64,/,""))}})));document.body.innerHTML+=o;var c={props:{name:{type:String,required:!0}}},l=(n(3065),n(34)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"svg-sprite-icon"},[n("use",{attrs:{href:"#"+t.name}})])}),[],!1,null,null,null);e.a=component.exports},1111:function(t,e,n){"use strict";n(113);var r,o=n(36),c=n(44),l=n(45),d=n(28),h=n(12),f=n(59);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var v=Object(f.a)({props:{color:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},block:{type:Boolean,default:!1},pill:{type:Boolean,default:!1},sm:{type:Boolean,default:!1},lg:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{type:String,required:!0},caption:{type:String,required:!1},loadingText:{type:String,required:!1},click:{type:Function,required:!1},classes:{type:Array,required:!1,default:function(){return[]}}},components:{}})(r=function(t){Object(c.a)(n,t);var e=m(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return n}(h.default))||r,w=(n(3066),n(34)),component=Object(w.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-loader"},[t.loading?n("div",{class:["loading-btn","d-flex","justify-content-center","btn","btn-"+t.color,{"btn-block":t.block},{disabled:t.disabled},{"btn-sm":t.sm},{"btn-lg":t.lg},{"btn-pill":t.pill}].concat(t.classes)},[n("div",{staticClass:"spinner inverse align-self-center"}),t._v(" "),t.loadingText?n("div",{staticClass:"mx-2 font-16"},[t._v("\n      "+t._s(t.loadingText)+"\n    ")]):t._e()]):t._e(),t._v(" "),t.loading?t._e():n("button",{class:["btn","btn-"+t.color,{"btn-block":t.block},{disabled:t.disabled},{"btn-sm":t.sm},{"btn-lg":t.lg},{"btn-pill":t.pill}].concat(t.classes),attrs:{role:"button",type:t.click?"button":"submit",disabled:t.disabled},on:{click:function(e){t.click&&t.click()}}},[t._v("\n    "+t._s(t.text)+"\n    "),t.caption?n("div",{staticClass:"caption"},[t._v("\n      "+t._s(t.caption)+"\n    ")]):t._e()])])}),[],!1,null,"d9aa1fb6",null);e.a=component.exports},1112:function(t,e,n){"use strict";n(113);var r,o,c,l,d,h,f=n(36),m=n(46),v=n(44),w=n(45),T=n(28),k=n(529),_=(n(66),n(39),n(94),n(12)),x=n(59),C=n(479);function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(T.a)(t);if(e){var o=Object(T.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(w.a)(this,n)}}var S=(r=Object(x.a)({props:{change:{type:Function,required:!0},placeholder:{type:String,default:"Search"},value:{type:String,required:!1,default:null},disabled:{type:Boolean,default:!1}}}),o=Object(C.b)("value",{immediate:!0}),c=Object(C.b)("searchInput"),l=Object(C.a)(),r((h=function(t){Object(v.a)(n,t);var e=y(n);function n(){var t;Object(f.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).searchInput=!1,t.searching=!1,t}return Object(m.a)(n,[{key:"onValueChanged",value:function(t){this.searchInput=t}},{key:"notifyChange",value:function(){var t=this;this.searching=!0,Promise.resolve(this.change(this.searchInput)).then((function(){t.searching=!1})).catch((function(e){t.searching=!1}))}}]),n}(_.default),Object(k.a)(h.prototype,"onValueChanged",[o],Object.getOwnPropertyDescriptor(h.prototype,"onValueChanged"),h.prototype),Object(k.a)(h.prototype,"notifyChange",[c,l],Object.getOwnPropertyDescriptor(h.prototype,"notifyChange"),h.prototype),d=h))||d),O=(n(3067),n(34)),component=Object(O.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"search-box":!0,"d-flex":!0,disabled:t.disabled}},[n("svg-sprite-icon",{staticClass:"search-icon align-self-center",attrs:{name:"search-black"}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput,expression:"searchInput",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:t.placeholder,disabled:t.disabled},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),t.searching&&t.searchInput&&t.searchInput.length>0?n("div",{staticClass:"align-self-center d-flex"},[n("div",{staticClass:"spinner align-self-center"})]):t._e(),t._v(" "),t.searchInput?n("div",{staticClass:"align-self-center d-flex",on:{click:function(){return t.searchInput=null}}},[n("svg-sprite-icon",{staticClass:"close-icon align-self-center",attrs:{name:"close"}})],1):t._e()],1)}),[],!1,null,"682e4c4f",null);e.a=component.exports},1153:function(t,e,n){"use strict";n.r(e);n(39);var r=n(78),o=null;e.default=function(t){var e=t.store;return o||(o=new Promise((function(t){var n=r.a.auth().onAuthStateChanged((function(r){n(),r?e.dispatch("auth/login",r):e.dispatch("auth/logout"),t()}))})))}},1154:function(t,e,n){"use strict";n.r(e);var r=n(6);n(52);function o(){return(o=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o,c,l,d,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,r=e.redirect,o=e.route,e.error,t.prev=1,c=n.getters["auth/address"],l=n.getters["network/networks"],t.next=6,l.main.web3.eth.getAccounts();case 6:return d=t.sent,t.next=9,l.matic.web3.eth.getAccounts();case 9:if(h=t.sent,f=d.length?d:h,c&&f.length&&f[0].toLowerCase()===c.toLowerCase()){t.next=13;break}return t.abrupt("return",r("/login",{next:o.fullPath,embed:o.query.embed,wappId:o.query.wappId}));case 13:t.next=17;break;case 15:t.prev=15,t.t0=t.catch(1);case 17:case"end":return t.stop()}}),t,null,[[1,15]])})))).apply(this,arguments)}e.default=function(t){return o.apply(this,arguments)}},1155:function(t,e,n){"use strict";n.r(e),e.default=function(t){var e=t.app,n=t.store,r=(t.route,t.params),o=t.error;t.redirect;if(!t.hotReload){var c=r.lang||"en";if(-1===n.state.locale.locales.indexOf(c))return o({message:"This page could not be found.",statusCode:404});n.commit("locale/set",c),e.i18n.locale=n.getters["locale/current"]}}},1156:function(t,e,n){"use strict";n.r(e);n(95),n(411);e.default=function(t){var path=t.route.name,e=t.redirect;if("maintenance"===path)return e("/")}},1164:function(t,e,n){"use strict";n(738)},1178:function(t,e){},1197:function(t,e){},1199:function(t,e){},1259:function(t,e){},1261:function(t,e){},1271:function(t,e){},1273:function(t,e){},1298:function(t,e){},1304:function(t,e){},1316:function(t,e){},1338:function(t,e){},1355:function(t,e){},1843:function(t,e){},1870:function(t,e){},2389:function(t,e,n){"use strict";n(866)},2399:function(t,e,n){"use strict";n(872)},2400:function(t,e,n){"use strict";n(873)},2421:function(t,e){},2425:function(t,e){},2430:function(t,e){},2445:function(t,e){},2452:function(t,e){},2459:function(t,e){},2471:function(t,e){},2473:function(t,e){},2493:function(t,e){},2496:function(t,e){},2521:function(t,e,n){"use strict";n(917)},254:function(t,e,n){"use strict";var r={layout:"blank",props:{error:{type:String,default:""}}},o=(n(1164),n(34)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"container py-5 mt-5"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-4"},[n("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.error.statusCode)+"\n      ")]),t._v(" "),n("h3",{staticClass:"info"},[t._v("\n        "+t._s(t.error.message)+"\n      ")]),t._v(" "),404===t.error.statusCode?n("div",{staticClass:"d-flex justify-content-start py-4"},[n("nuxt-link",{staticClass:"align-self-center",attrs:{to:"/"}},[t._v("\n          Return to homepage   →\n        ")])],1):t._e()])])])}),[],!1,null,"562d89ef",null);e.a=component.exports},2550:function(t,e){},2634:function(t,e){},2912:function(t,e,n){"use strict";n(1007)},2978:function(t,e,n){"use strict";n(1027)},2979:function(t,e,n){"use strict";n(1028)},2980:function(t,e,n){"use strict";n(1029)},2981:function(t,e,n){"use strict";n(1030)},2982:function(t,e,n){"use strict";n(1031)},2983:function(t,e,n){"use strict";n(1032)},2984:function(t,e,n){"use strict";n(1033)},2985:function(t,e,n){"use strict";n(1034)},2988:function(t){t.exports=JSON.parse('{"or":"OR","loading":"Loading...","more":"more","loadMore":"Load more","add":"Add","new":"New","from":"From","to":"To","address":"Address","name":"Name","pay":"Pay","receive":"Receive","addOwner":"Add owner","ownerAddress":"Owner address","ownerName":"Owner name","notAvailable":"Not available","accountAddress":"Account address","clickToShow":"Click to show","unencrypted":"unencrypted","whatsNew":"What\'s New","helpCenter":"Help Center","getMatic":"Get Matic","hide":"Hide","show":"Show","remove":"Remove","delete":"Delete","details":"Details","save":"Save","saveLabel":"Save label","addLabel":"Add label","qrCodes":"QR codes","cancel":"Cancel","yes":"Yes","no":"No","unlock":"Unlock","lock":"Lock","depositHeading":"Add Assets From Ethereum Network","send":{"title":"Send","success":{"title":"Transfered successfully","message":"Transaction completed successfully"},"error":{"title":"Transaction failed","message":"Something went wrong while sending tokens"}},"deposit":{"title":"Deposit","btnSubtitle":"You\'ve <span class=\'text-primary\'>${amount}</span> in your Ethereum account","success":{"title":"Deposited successfully","message":"Deposit of funds from Ethereum to Polygon initiated. You will need to wait for some time before the balance reflects on Polygon (~7-8 minutes). <br /><br />After some time, click Refresh Balance to see the updated balance","widget":"Deposited amount will reflect in ~7-8 minutes"}},"withdraw":{"title":"Withdraw","btnSubtitle":"Send tokens From Polygon network to Ethereum network","withdrawableCalculating":"Calculating withdrawable amount","initSuccess":{"title":"Withdraw initialized","message":"The Withdraw to Ethereum flow is a multi-step process. You need to wait for a checkpoint of Polygon blocks to Ethereum, that happens about every 3 hours.<br /><br />Once the checkpoint goes through, the `Confirm Withdraw` button will be enabled and you can proceed to complete the confirm withdraw step."},"posInitSuccess":{"title":"Withdraw initialized","message":"The Withdraw to Ethereum flow is a 2-step process. You need to wait for a checkpoint of Polygon blocks to Ethereum, that happens about every 3 hours.<br /><br />Once the checkpoint goes through, the `Finish Withdraw` button will be enabled and you can proceed to finish the withdraw to your Ethereum account."},"proofGeneration":{"title":"Please Note","message":"This step involves proof generation from a large number of blocks from Polygon and hence may take about {proofGenDuration} for the transaction signing interface to pop up."},"exitSuccess":{"title":"Withdrawn successfully","message":"Withdrawn amount will reflect in a short while."},"testChallengePeriod":"~3-4 minutes","mainChallengePeriod":"7 days","steps":{"init":" Withdraw initialized","checkpoint":"Checkpoint","challengePeriod":"Challenge period","finished":"Complete Withdraw "},"process":{"checkpointWait":"Checkpoint completion takes ~3 hours usually ...","checkpointed":"Checkpoint completed. Please click on Confirm Withdraw now.","posCheckpointed":"Checkpoint completed. Please finish the withdraw process now.","challengeWait":"Waiting for challenge period to end. Please check back after {challengePeriod}","challengeEnd":"Challenge period ended. Please finish the withdraw process."}},"withdrawHeading":"Withdraw Assets From Polygon","actions":"Actions","activity":"Activity","import":"Import","pending":"Pending","approve":"Approve","execute":"Execute","removed":"Removed","sign":"Sign","removing":"Removing","areYouSure":"Are you sure?","areYouSureWithThisAction":"Are you sure you want to continue with this action?","howThisWillWork":"How will this work?","pendingWithdrawal":"To complete the withdraw process, please go to the Pending Withdrawals section","filteredResults":"Filtered results","viewHistory":"View history","wrongPassword":"Wrong password. Please try again.","unlockYourAccount":"Unlock your account","initiateTx":"Initiate transaction","showingRecentActions":"No actions | Showing recent actions  | Showing {count} recent actions","showingOutOf":"Showing {count} out of {total}","txHash":"Transaction Hash","confirmWithdrawal":"Confirm Withdrawal","confirmingWithdrawal":"Confirming Withdrawal","metamask":{"loginWithMetamask":"Login with Metamask","lockedMessage":"Metamask is locked. Please unlock it and try again.","loginMessage":"You can login with Metamask. It will manage private keys for you. No extra password needed.","notAvailable":"Metamask is not available. You need to install <a href=\'https://metamask.io/\' target=\'_blank\'>Metamask browser extension</a> to use this feature.","unlockForTransaction":"Please make sure Metamask is unlocked to send transaction with this account."},"walletconnect":{"loginWithWalletConnect":"Login with Polygon wallet","loginMessage":"Polygon wallet is extremely intuitive to use. An app will manage private keys for you. No extra password needed."},"navbar":{"login":"Login","signup":"Sign up","linkEmail":"Link with email"},"login":{"title":"Login","forgotPassword":"Forgot password?","anonymousMessage":"You can continue anonymously now and link it with email address and password later.","info":"We don\'t store your private keys. We just store your account addresses and contract addresses to give you better experience. It\'s secure and fast.","continueWithoutLogin":"Continue without login","dontHaveAccount":"Don\'t have an account?","dontHaveKeychain":"Don\'t have keychain?","how":"Login with already existing keychain. Please generate password to encrypt the keychain.","completeLoginTitle":"Complete your profile","completeLoginInfo":"We need your email address and name to provide you better experience. We will never share this info to anyone.","linkEmail":{"title":"Link account with email","buttonText":"Link","success":"Account is successfully linked with email and password.","info":"Once you link your account with email and password, you will be able to login to your account from anywhere."},"verify":{"emailSent":"Email has been sent to your email address.","email":"Verify email","alertText":"<strong>Verify email!</strong> You have to verify your email address. <a class=\'alert-link\'>Click here to verify!</a>"}},"signup":{"title":"Signup","success":"Account successfully created. Please login.","passwordMinLength":"Password must have minimum 6 characters.","passwordMatch":"Password doesn\'t match","terms":"By signing up, you agree to our Terms & Conditions and Privacy Policy.","alreadyHaveAccount":"Already have an account?"},"forgotPassword":{"title":"Forgot password","success":"Email has been sent to your email address. Please check instructions to reset your password.","resetLink":"Get reset link","rememberPassword":"Remember your password?"},"errors":{"somethingWrong":"Something went wrong. Please try again.","nodeConnectionError":"Error while connecting to with Ethereum Network"},"network":{"networks":"Networks","loadingNetworks":"Loading networks","changingNetwork":"Changing network","customRPC":"Custom RPC","customNetworkRemoved":"Custom network ({name}) removed!","errorWhileRemovingNetwork":"Error while removing node network!"},"dashboard":{"title":"Dashboard"},"accounts":{"title":"Accounts","primary":"Primary","balance":"Balance","importAccount":"Import account","newAccount":"New account","createAccount":"Create an account","addAccount":"Add account","unlockAccount":"Unlock account","privateKey":"Private key","mnemonicPhrase":"Mnemonic phrase","makePrimary":"Make primary","copyAddress":"Copy address","copySignature":"Copy signature","accountCopied":"Account has been copied to your clipboard.","signatureCopied":"Signature has been copied to your clipboard."},"contracts":{"title":"Contracts","newContract":"New contract","deploying":"Deploying..."},"transactions":{"title":"Transactions","sendTransaction":"Send transaction","entireBalance":"Entire balance","notEnoughBalance":"Not enough balance","viewTransactionHistory":"View transaction history","amount":"Amount","gasPrice":"Gas price","gasPriceFormHelp":"Set appropriate gas price before sending transaction. A low gas price will delay your transaction confirmation time.","gasPriceText":"Gas price is the amount you pay per unit of gas. <p>Tx fee = gas price * gas limit</p> <p>Fee is paid to miners for including your Tx in a block. Higher the gas price = faster transaction completion, but more expensive.</p>","gasLimit":"Gas limit","gasLimitFormHelp":"Set appropriate gas limit before sending transaction. Not sending a tx with enough gas will get your transaction rejected.","gasLimitText":"Gas limit is the amount of gas to send with your Tx. <p>Tx fee = gas price * gas limit</p> <p>Fee is paid to miners for including your Tx in a block. Increasing this number will not get your Tx mined faster.</p> Sending ETH costs 21000 gas. Sending tokens costs around 200000 gas.","gasLimitMinimum":"Gas limit must be more than 21000","data":"Data","dataFormHelp":"Data field is used to interact with contract.","estimateGasThrowError":"Could not estimate gas. There are not enough funds in the account, or the receiving contract address would throw an error. Feel free to manually set the gas and proceed.","needAccountForTransaction":"You will need account in order to send transaction.","unlockForTransaction":"Account you are using is locked. You need to unlock it to send transaction.","transactionSentSuccess":"Transaction sent successfully.","transactionSentSuccessDetails":"You can view your status of your transaction by clicking following button.","checkTxStatus":"Check transaction status"},"sendEther":{"title":"Send"},"tokens":{"title":"Your tokens","token":"Token","addToken":"Add token","removeToken":"Remove token","manageTokens":"Manage tokens","errorRemovingToken":"Error while removing token to list","errorAddingToken":"Error while adding token to list","noTokens":"You have no tokens.","loadingTokens":"Loading tokens"},"home":{"title":"Overview","logout":"Logout"},"addressBook":{"title":"Address book","new":"New address","existing":"Update address","newAddressAdded":"New address added in address book","addressUpdated":"Address updated in address book","addressRemoved":"Address has been removed from address book","errorRemovingAddress":"Error while removing address"},"wallet":{"title":"Wallet","home":"Home","transactions":"Transactions","tokens":"Tokens","settings":"Settings"},"staking":{"overview":"Overview","title":"Staking","myAccount":"My Account","setupNode":"How to Setup Node","stakingGuide":"How to Stake","delegateGuide":"How to Delegate on Polygon","importWalletMetamask":"How to Import wallet to Metamask"},"rewardsCalculator":"Rewards Calculator","developers":{"title":"Developers"},"balanceCard":{"title":"Wallet Balance","switchTo":"Switch to {nextWallet}","switchTip":"Click for information of Plasma - PoS Bridge","refershBalance":"Refresh Balance","isWalletEmpty":"Is your wallet empty?","buyToken":"Receive or buy some Ethereum or ERC20 tokens.","binance":"Buy from Binance","coinbase":"Buy from Coinbase"},"invalid":{"address":"Valid address is required","amount":"Valid amount is required.","balance":"You do not have sufficient balance","connextBalance":"You dont not have sufficient balance to cover the fee and transfer","gasBalance":"You don\'t have enough matic balance to pay gas fee"},"disclaimer":{"supported":"What’s supported","notSupported":"What’s not supported"}}')},3065:function(t,e,n){"use strict";n(1041)},3066:function(t,e,n){"use strict";n(1042)},3067:function(t,e,n){"use strict";n(1043)},341:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(36),o=(n(64),n(79),function t(){var e=this,data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r.a)(this,t),Object.keys(data).forEach((function(t){Object.defineProperty(e,t,{enumerable:".value"!==t&&".key"!==t&&"_id"!==t,configurable:!1,writable:!0,value:data[t]})}))})},479:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return d}));n(6);var r=n(98),o=(n(52),n(302),n(64),n(39),n(148),n(114),n(87),n(81),n(191)),c=n(346);function l(t){return Object(c.createDecorator)((function(e,n){e.methods[n]=Object(o.a)(e.methods[n],t)}))}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e.length<=0)throw new Error("Atleast one path required");return Object(c.createDecorator)((function(t,n){var o=t.methods[n];"object"!==Object(r.a)(t.watch)&&(t.watch=Object.create(null));var c={};"string"!=typeof e[e.length-1]&&(c=e.splice(-1,1)[0]);var l=c,d=l.deep,h=void 0!==d&&d,f=l.immediate,m=void 0!==f&&f;e.forEach((function(path){t.watch[path]={handler:o,deep:h,immediate:m}}))}))}},501:function(t,e,n){"use strict";var r=n(8),o={name:"WalletConnectModal",components:{},layout:"embed",data:function(){return{uri:null,loaded:!1}},computed:{qrValue:function(){return this.uri?this.uri:null}},mounted:function(){r.a.bus.$on("walletconnect:session:new",this.newSession),r.a.bus.$on("walletconnect:session:abort",this.close),r.a.bus.$on("walletconnect:session:create",this.sessionCreated),r.a.bus.$on("walletconnect:session:close",this.close),r.a.bus.$on("keyboard:escape",this.onClose)},methods:{onClose:function(){r.a.bus.$emit("walletconnect:session:abort")},sessionCreated:function(){this.loaded=!1},close:function(){this.loaded=!1},newSession:function(t){this.uri=t,this.loaded=!0}}},c=(n(2389),n(34)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[t.loaded?n("div",{staticClass:"modal fade show"},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"box"},[n("div",{staticClass:"box-body"},[n("div",{staticClass:"ps-16 ps-md-32 box-header"},[n("span",{staticClass:"font-heading-medium font-semibold col text-center"},[t._v("Wallet Connect")]),t._v(" "),n("div",{staticClass:"align-self-center cursor-pointer",on:{click:function(e){return t.onClose()}}},[n("svg-sprite-icon",{staticClass:"close align-self-center cursor-pointer",attrs:{name:"close"}})],1)]),t._v(" "),n("div",{staticClass:"container"},[n("div",{staticClass:"row ps-x-32 ps-y-60 d-flex justify-content-center"},[t.qrValue?n("div",{staticClass:"qrcode-container align-self-center mt-4"},[n("qrcode",{attrs:{value:t.qrValue,options:{size:200}}})],1):t._e(),t._v(" "),n("div",{staticClass:"col-12 font-body-small text-center text-muted ps-t-8"},[t._v("\n                Scan the code using your mobile wallet to Connect.\n              ")])]),t._v(" "),t._m(0)])])])])]):t._e(),t._v(" "),n("div",{staticClass:"modal-backdrop",class:{show:t.loaded}})])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row justify-content-center wallet-download-info"},[t._v("\n              Don't have wallet?\n              "),n("a",{staticClass:"link-color ps-l-2",attrs:{href:"https://matic.network/wallet",target:"_blank"}},[t._v("Download here")])])}],!1,null,"4119dbcf",null);e.a=component.exports},515:function(t,e,n){"use strict";n(113);var r,o=n(36),c=n(44),l=n(45),d=n(28),h=(n(66),n(12)),f=n(59),m=n(8);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=Object(f.a)({props:{}})(r=function(t){Object(c.a)(n,t);var e=v(n);function n(){var t;Object(o.a)(this,n);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(t=e.call.apply(e,[this].concat(c))).maticSupportLink=m.a.uiconfig.maticSupportLink,t}return n}(h.default))||r,T=n(34),component=Object(T.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v("\n  In case of any issue, please reach out to\n  "),n("a",{attrs:{href:t.maticSupportLink,target:"_blank"}},[t._v(" support")])])}),[],!1,null,null,null);e.a=component.exports},520:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(113);var r=n(36),o=n(46),c=n(44),l=n(45),d=n(28);n(66);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var f=function(t){Object(c.a)(n,t);var e=h(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"historyLink",value:function(address){if(this.historyHost&&address)return"".concat(this.historyHost,"/address/").concat(address)}},{key:"tokenLink",value:function(address){if(this.historyHost&&address)return"".concat(this.historyHost,"/token/").concat(address)}},{key:"txHistoryLink",value:function(address){if(this.historyHost&&address)return"".concat(this.historyHost,"/tx/").concat(address)}},{key:"blockLink",value:function(t){if(this.historyHost&&t)return"".concat(this.historyHost,"/block/").concat(t)}}]),n}(n(341).a)},679:function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));n(113);var r=n(36),o=n(46),c=n(44),l=n(45),d=n(28),h=n(73),f=n(17),m=n(341),v=n(8);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var T=new f.a(0),k=new f.a(10),_=function(t){Object(c.a)(n,t);var e=w(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"checksumAddress",get:function(){return this.address&&Object(h.toChecksumAddress)(this.address)}},{key:"address",get:function(){if(!this.addresses)return null;var t=v.a.getSelectedNetwork();return t?this.addresses[t.id]:null}},{key:"isEther",get:function(){return this.id===v.a.uiconfig.ethDBUID}},{key:"isMatic",get:function(){return this.id===v.a.uiconfig.maticDBUID}},{key:"maticChainUsdBalance",get:function(){return this.getMaticChainBalance.times(new f.a(this.usdValue||"0"))}},{key:"usdValue",get:function(){return v.a.vuexStore.getters["trunk/usdValue"](this.symbol)}},{key:"formattedUsdBalance",get:function(){return this.usdBalance.dp(2)}},{key:"getContract",value:function(t){var address=this.address;return t&&t.id&&(address=this.getAddress(t.id)),address?v.a.vuexStore.dispatch("trunk/fetchERC20ContractObject",{address:address,network:t}):null}},{key:"getAddress",value:function(t){if(this.addresses){if(t)return this.addresses[t];var e=v.a.getSelectedNetwork();if(e)return this.addresses[e.id]}return null}},{key:"getBalance",value:function(t){var address=this.getAddress(t);if(!address)return T;var e,n,r,o=v.a.vuexStore.getters["trunk/tokenBalance"](address.toLowerCase(),t,this.id);return e=o,n=this.decimals,r=new f.a(n),e.dividedBy(k.pow(r))}},{key:"getFullBalance",value:function(t){var address=this.getAddress(t);return address?v.a.vuexStore.getters["trunk/tokenBalance"](address.toLowerCase(),t,this.id):T}},{key:"getMaticChainBalance",get:function(){var t=v.a.vuexStore.getters["network/networks"].matic.chainId;return this.getBalance(t)}},{key:"getMaticChainFullBalance",get:function(){var t=v.a.vuexStore.getters["network/networks"].matic.chainId;return this.getFullBalance(t)}},{key:"convertBalanceToAmount",value:function(t){var e=new f.a(this.decimals);return new f.a(t).multipliedBy(k.pow(e))}},{key:"convertToFormattedUSDBalance",value:function(t){return t.times(new f.a(this.usdValue||"0")).dp(2)}}]),n}(m.a);_.ERC20="ERC20",_.balanceHex="0x70a08231",_.transferHex="0xa9059cbb"},738:function(t,e,n){},866:function(t,e,n){},872:function(t,e,n){},873:function(t,e,n){},917:function(t,e,n){}}]);
//# sourceMappingURL=1f7931d.js.map